!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){var o;
/*!
 * fullPage 3.0.8
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license GPLv3 for open source use only
 * or Fullpage Commercial License for commercial use
 * http://alvarotrigo.com/fullPage/pricing/
 *
 * Copyright (C) 2018 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo
 */
/*!
 * fullPage 3.0.8
 * https://github.com/alvarotrigo/fullPage.js
 *
 * @license GPLv3 for open source use only
 * or Fullpage Commercial License for commercial use
 * http://alvarotrigo.com/fullPage/pricing/
 *
 * Copyright (C) 2018 http://alvarotrigo.com/fullPage - A project by Alvaro Trigo
 */
!function(r,i,l,a,c){void 0===(o=function(){return r.fullpage=a(i,l),r.fullpage}.call(t,n,t,e))||(e.exports=o)}(this,window,document,function(e,t){"use strict";var n="fullpage-wrapper",o="."+n,r="fp-responsive",i="fp-notransition",l="fp-destroyed",a="fp-enabled",c="fp-viewing",s="active",u="."+s,f="fp-completely",d="."+f,v=".section",p="fp-section",h="."+p,g=h+u,m="fp-tableCell",b="."+m,S="fp-auto-height",w="."+S,y=".fp-auto-height-responsive",E="fp-normal-scroll",x="fp-nav",L="#"+x,A="fp-tooltip",T="."+A,k="fp-show-active",O=".slide",M="fp-slide",C="."+M,H=C+u,I="fp-slides",B="."+I,R="fp-slidesContainer",j="."+R,N="fp-table",P="fp-slidesNav",z="."+P,D=z+" a",V=".fp-controlArrow",_="fp-prev",F="fp-controlArrow "+_,W=V+("."+_),Y="fp-controlArrow fp-next",U=V+".fp-next";function X(t,n){e.console&&e.console[t]&&e.console[t]("fullPage: "+n)}function K(e,n){return(n=arguments.length>1?n:t)?n.querySelectorAll(e):null}function $(e){e=e||{};for(var t=1,n=arguments.length;t<n;++t){var o=arguments[t];if(o)for(var r in o)o.hasOwnProperty(r)&&("[object Object]"!==Object.prototype.toString.call(o[r])?e[r]=o[r]:e[r]=$(e[r],o[r]))}return e}function q(e,t){return null!=e&&(e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className))}function Q(){return"innerHeight"in e?e.innerHeight:t.documentElement.offsetHeight}function G(){return e.innerWidth}function J(e,t){var n;for(n in e=le(e),t)if(t.hasOwnProperty(n)&&null!==n)for(var o=0;o<e.length;o++){e[o].style[n]=t[n]}return e}function Z(e,t,n){for(var o=e[n];o&&!Te(o,t);)o=o[n];return o}function ee(e,t){return Z(e,t,"previousElementSibling")}function te(e,t){return Z(e,t,"nextElementSibling")}function ne(e){return e.previousElementSibling}function oe(e){return e.nextElementSibling}function re(e){return e[e.length-1]}function ie(e,t){e=se(e)?e[0]:e;for(var n=null!=t?K(t,e.parentNode):e.parentNode.childNodes,o=0,r=0;r<n.length;r++){if(n[r]==e)return o;1==n[r].nodeType&&o++}return-1}function le(e){return se(e)?e:[e]}function ae(e){e=le(e);for(var t=0;t<e.length;t++)e[t].style.display="none";return e}function ce(e){e=le(e);for(var t=0;t<e.length;t++)e[t].style.display="block";return e}function se(e){return"[object Array]"===Object.prototype.toString.call(e)||"[object NodeList]"===Object.prototype.toString.call(e)}function ue(e,t){e=le(e);for(var n=0;n<e.length;n++){var o=e[n];o.classList?o.classList.add(t):o.className+=" "+t}return e}function fe(e,t){e=le(e);for(var n=t.split(" "),o=0;o<n.length;o++){t=n[o];for(var r=0;r<e.length;r++){var i=e[r];i.classList?i.classList.remove(t):i.className=i.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}}return e}function de(e,t){t.appendChild(e)}function ve(e,n,o){var r;n=n||t.createElement("div");for(var i=0;i<e.length;i++){var l=e[i];(o&&!i||!o)&&(r=n.cloneNode(!0),l.parentNode.insertBefore(r,l)),r.appendChild(l)}return e}function pe(e,t){ve(e,t,!0)}function he(e,t){for("string"==typeof t&&(t=Oe(t)),e.appendChild(t);e.firstChild!==t;)t.appendChild(e.firstChild)}function ge(e){for(var n=t.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);e.parentNode.replaceChild(n,e)}function me(e,t){return e&&1===e.nodeType?Te(e,t)?e:me(e.parentNode,t):null}function be(e,t){we(e,e.nextSibling,t)}function Se(e,t){we(e,e,t)}function we(e,t,n){se(n)||("string"==typeof n&&(n=Oe(n)),n=[n]);for(var o=0;o<n.length;o++)e.parentNode.insertBefore(n[o],t)}function ye(){var n=t.documentElement;return(e.pageYOffset||n.scrollTop)-(n.clientTop||0)}function Ee(e){return Array.prototype.filter.call(e.parentNode.children,function(t){return t!==e})}function xe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Le(e){if("function"==typeof e)return!0;var t=Object.prototype.toString(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}function Ae(n,o,r){var i;r=void 0===r?{}:r,"function"==typeof e.CustomEvent?i=new CustomEvent(o,{detail:r}):(i=t.createEvent("CustomEvent")).initCustomEvent(o,!0,!0,r),n.dispatchEvent(i)}function Te(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}function ke(e,t){if("boolean"==typeof t)for(var n=0;n<e.length;n++)e[n].style.display=t?"block":"none";return e}function Oe(e){var n=t.createElement("div");return n.innerHTML=e.trim(),n.firstChild}function Me(e){e=le(e);for(var t=0;t<e.length;t++){var n=e[t];n&&n.parentElement&&n.parentNode.removeChild(n)}}function Ce(e,t,n){for(var o=e[n],r=[];o;)(Te(o,t)||null==t)&&r.push(o),o=o[n];return r}function He(e,t){return Ce(e,t,"nextElementSibling")}function Ie(e,t){return Ce(e,t,"previousElementSibling")}return e.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,n){n=n||e;for(var o=0;o<this.length;o++)t.call(n,this[o],o,this)}),e.fp_utils={$:K,deepExtend:$,hasClass:q,getWindowHeight:Q,css:J,until:Z,prevUntil:ee,nextUntil:te,prev:ne,next:oe,last:re,index:ie,getList:le,hide:ae,show:ce,isArrayOrList:se,addClass:ue,removeClass:fe,appendTo:de,wrap:ve,wrapAll:pe,wrapInner:he,unwrap:ge,closest:me,after:be,before:Se,insertBefore:we,getScrollTop:ye,siblings:Ee,preventDefault:xe,isFunction:Le,trigger:Ae,matches:Te,toggle:ke,createElementFromHTML:Oe,remove:Me,filter:function(e,t){Array.prototype.filter.call(e,t)},untilAll:Ce,nextAll:He,prevAll:Ie,showError:X},function(Z,le){var se=le&&new RegExp("([\\d\\w]{8}-){3}[\\d\\w]{8}|^(?=.*?[A-Y])(?=.*?[a-y])(?=.*?[0-8])(?=.*?[#?!@$%^&*-]).{8,}$").test(le.licenseKey)||t.domain.indexOf("alvarotrigo.com")>-1,ve=K("html, body"),we=K("html")[0],Ce=K("body")[0];if(!q(we,a)){var Be={};le=$({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:e.fp_scrolloverflow?e.fp_scrolloverflow.iscrollHandler:null,scrollOverflowOptions:null,touchSensitivity:5,touchWrapper:"string"==typeof Z?K(Z)[0]:Z,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},cards:!1,cardsOptions:{perspective:100,fadeContent:!0,fadeBackground:!0},sectionSelector:v,slideSelector:O,v2compatible:!1,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},le);var Re,je,Ne,Pe,ze=!1,De=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),Ve="ontouchstart"in e||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,_e="string"==typeof Z?K(Z)[0]:Z,Fe=Q(),We=G(),Ye=!1,Ue=!0,Xe=!0,Ke=[],$e={m:{up:!0,down:!0,left:!0,right:!0}};$e.k=$({},$e.m);var qe,Qe,Ge,Je,Ze,et,tt,nt,ot,rt=e.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"},it={touchmove:"ontouchmove"in e?"touchmove":rt.move,touchstart:"ontouchstart"in e?"touchstart":rt.down},lt='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',at=!1;try{var ct=Object.defineProperty({},"passive",{get:function(){at=!0}});e.addEventListener("testPassive",null,ct),e.removeEventListener("testPassive",null,ct)}catch(e){}var st,ut,ft=$({},le),dt=!1,vt=!0,pt=["parallax","scrollOverflowReset","dragAndMove","offsetSections","fadingEffect","responsiveSlides","continuousHorizontal","interlockedSlides","scrollHorizontally","resetSliders","cards"];ro(),e.fp_easings=$(e.fp_easings,{easeInOutCubic:function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}}),_e&&(Be.version="3.0.8",Be.setAutoScrolling=At,Be.setRecordHistory=Tt,Be.setScrollingSpeed=kt,Be.setFitToSection=Ot,Be.setLockAnchors=function(e){le.lockAnchors=e},Be.setMouseWheelScrolling=Mt,Be.setAllowScrolling=Ct,Be.setKeyboardScrolling=It,Be.moveSectionUp=Bt,Be.moveSectionDown=Rt,Be.silentMoveTo=jt,Be.moveTo=Nt,Be.moveSlideRight=Pt,Be.moveSlideLeft=zt,Be.fitToSection=Jt,Be.reBuild=Dt,Be.setResponsive=_t,Be.getFullpageData=function(){return le},Be.destroy=function(n){At(!1,"internal"),Ct(!0),Ht(!1),It(!1),ue(_e,l),[Ze,Je,Qe,et,tt,ot,Ge].forEach(function(e){clearTimeout(e)}),e.removeEventListener("scroll",Gt),e.removeEventListener("hashchange",Ln),e.removeEventListener("resize",jn),t.removeEventListener("keydown",Tn),t.removeEventListener("keyup",kn),["click","touchstart"].forEach(function(e){t.removeEventListener(e,Ft)}),["mouseenter","touchstart","mouseleave","touchend"].forEach(function(e){t.removeEventListener(e,Yt,!0)}),n&&(eo(0),K("img[data-src], source[data-src], audio[data-src], iframe[data-src]",_e).forEach(function(e){hn(e,"src")}),K("img[data-srcset]").forEach(function(e){hn(e,"srcset")}),Me(K(L+", "+z+", "+V)),J(K(h),{height:"","background-color":"",padding:""}),J(K(C),{width:""}),J(_e,{height:"",position:"","-ms-touch-action":"","touch-action":""}),J(ve,{overflow:"",height:""}),fe(we,a),fe(Ce,r),Ce.className.split(/\s+/).forEach(function(e){0===e.indexOf(c)&&fe(Ce,e)}),K(h+", "+C).forEach(function(e){le.scrollOverflowHandler&&le.scrollOverflow&&le.scrollOverflowHandler.remove(e),fe(e,N+" "+s+" "+f);var t=e.getAttribute("data-fp-styles");t&&e.setAttribute("style",e.getAttribute("data-fp-styles")),q(e,p)&&!dt&&e.removeAttribute("data-anchor")}),Dn(_e),[b,j,B].forEach(function(e){K(e,_e).forEach(function(e){ge(e)})}),J(_e,{"-webkit-transition":"none",transition:"none"}),e.scrollTo(0,0),[p,M,R].forEach(function(e){fe(K("."+e),e)}))},Be.getActiveSection=function(){return new co(K(g)[0])},Be.getActiveSlide=function(){return dn(K(H,K(g)[0])[0])},Be.test={top:"0px",translate3d:"translate3d(0px, 0px, 0px)",translate3dH:function(){for(var e=[],t=0;t<K(le.sectionSelector,_e).length;t++)e.push("translate3d(0px, 0px, 0px)");return e}(),left:function(){for(var e=[],t=0;t<K(le.sectionSelector,_e).length;t++)e.push(0);return e}(),options:le,setAutoScrolling:At},Be.shared={afterRenderActions:Qt,isNormalScrollElement:!1},e.fullpage_api=Be,le.$&&Object.keys(Be).forEach(function(e){le.$.fn.fullpage[e]=Be[e]}),le.css3&&(le.css3=function(){var n,o=t.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in o.style.display="block",t.body.insertBefore(o,null),r)void 0!==o.style[i]&&(o.style[i]="translate3d(1px,1px,1px)",n=e.getComputedStyle(o).getPropertyValue(r[i]));return t.body.removeChild(o),void 0!==n&&n.length>0&&"none"!==n}()),le.scrollBar=le.scrollBar||le.hybrid,function(){if(!le.anchors.length){var e=K(le.sectionSelector.split(",").join("[data-anchor],")+"[data-anchor]",_e);e.length&&(dt=!0,e.forEach(function(e){le.anchors.push(e.getAttribute("data-anchor").toString())}))}if(!le.navigationTooltips.length){var t=K(le.sectionSelector.split(",").join("[data-tooltip],")+"[data-tooltip]",_e);t.length&&t.forEach(function(e){le.navigationTooltips.push(e.getAttribute("data-tooltip").toString())})}}(),function(){J(_e,{height:"100%",position:"relative"}),ue(_e,n),ue(we,a),Fe=Q(),fe(_e,l),ue(K(le.sectionSelector,_e),p),ue(K(le.slideSelector,_e),M);for(var e=K(h),o=0;o<e.length;o++){var r=o,i=e[o],c=K(C,i),u=c.length;i.setAttribute("data-fp-styles",i.getAttribute("style")),Kt(i,r),$t(i,r),u>0?Xt(i,c,u):le.verticalCentered&&Fn(i)}le.fixedElements&&le.css3&&K(le.fixedElements).forEach(function(e){Ce.appendChild(e)}),le.navigation&&function(){var e=t.createElement("div");e.setAttribute("id",x);var n=t.createElement("ul");e.appendChild(n),de(e,Ce);var o=K(L)[0];ue(o,"fp-"+le.navigationPosition),le.showActiveTooltip&&ue(o,k);for(var r="",i=0;i<K(h).length;i++){var l="";le.anchors.length&&(l=le.anchors[i]),r+='<li><a href="#'+l+'"><span class="fp-sr-only">'+qt(i,"Section")+"</span><span></span></a>";var a=le.navigationTooltips[i];void 0!==a&&""!==a&&(r+='<div class="'+A+" fp-"+le.navigationPosition+'">'+a+"</div>"),r+="</li>"}K("ul",o)[0].innerHTML=r,J(K(L),{"margin-top":"-"+K(L)[0].offsetHeight/2+"px"});var c=K("li",K(L)[0])[ie(K(g)[0],h)];ue(K("a",c),s)}(),K('iframe[src*="youtube.com/embed/"]',_e).forEach(function(e){var t,n,o;n="enablejsapi=1",o=(t=e).getAttribute("src"),t.setAttribute("src",o+(/\?/.test(o)?"&":"?")+n)}),le.scrollOverflow&&(qe=le.scrollOverflowHandler.init(le))}(),Ct(!0),Ht(!0),At(le.autoScrolling,"internal"),Pn(),Gn(),"complete"===t.readyState&&xn(),e.addEventListener("load",xn),le.scrollOverflow||Qt(),function(){for(var e=1;e<4;e++)ot=setTimeout(Ut,350*e)}(),e.addEventListener("scroll",Gt),e.addEventListener("hashchange",Ln),e.addEventListener("blur",Hn),e.addEventListener("resize",jn),t.addEventListener("keydown",Tn),t.addEventListener("keyup",kn),["click","touchstart"].forEach(function(e){t.addEventListener(e,Ft)}),le.normalScrollElements&&(["mouseenter","touchstart"].forEach(function(e){Wt(e,!1)}),["mouseleave","touchend"].forEach(function(e){Wt(e,!0)})));var ht=!1,gt=0,mt=0,bt=0,St=0,wt=0,yt=(new Date).getTime(),Et=0,xt=0,Lt=Fe;return Be}function At(e,t){e||eo(0),oo("autoScrolling",e,t);var n=K(g)[0];if(le.autoScrolling&&!le.scrollBar)J(ve,{overflow:"hidden",height:"100%"}),Tt(ft.recordHistory,"internal"),J(_e,{"-ms-touch-action":"none","touch-action":"none"}),null!=n&&eo(n.offsetTop);else if(J(ve,{overflow:"visible",height:"initial"}),Tt(!!le.autoScrolling&&ft.recordHistory,"internal"),J(_e,{"-ms-touch-action":"","touch-action":""}),null!=n){var o=vn(n.offsetTop);o.element.scrollTo(0,o.options)}}function Tt(e,t){oo("recordHistory",e,t)}function kt(e,t){oo("scrollingSpeed",e,t)}function Ot(e,t){oo("fitToSection",e,t)}function Mt(n){n?(function(){var n,o="";e.addEventListener?n="addEventListener":(n="attachEvent",o="on");var r="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",i=!!at&&{passive:!1};"DOMMouseScroll"==r?t[n](o+"MozMousePixelScroll",ln,i):t[n](o+r,ln,i)}(),_e.addEventListener("mousedown",On),_e.addEventListener("mouseup",Mn)):(t.addEventListener?(t.removeEventListener("mousewheel",ln,!1),t.removeEventListener("wheel",ln,!1),t.removeEventListener("MozMousePixelScroll",ln,!1)):t.detachEvent("onmousewheel",ln),_e.removeEventListener("mousedown",On),_e.removeEventListener("mouseup",Mn))}function Ct(e,t){void 0!==t?(t=t.replace(/ /g,"").split(",")).forEach(function(t){no(e,t,"m")}):no(e,"all","m")}function Ht(e){e?(Mt(!0),function(){if(De||Ve){le.autoScrolling&&(Ce.removeEventListener(it.touchmove,en,{passive:!1}),Ce.addEventListener(it.touchmove,en,{passive:!1}));var e=le.touchWrapper;e.removeEventListener(it.touchstart,on),e.removeEventListener(it.touchmove,tn,{passive:!1}),e.addEventListener(it.touchstart,on),e.addEventListener(it.touchmove,tn,{passive:!1})}}()):(Mt(!1),function(){if(De||Ve){le.autoScrolling&&(Ce.removeEventListener(it.touchmove,tn,{passive:!1}),Ce.removeEventListener(it.touchmove,en,{passive:!1}));var e=le.touchWrapper;e.removeEventListener(it.touchstart,on),e.removeEventListener(it.touchmove,tn,{passive:!1})}}())}function It(e,t){void 0!==t?(t=t.replace(/ /g,"").split(",")).forEach(function(t){no(e,t,"k")}):(no(e,"all","k"),le.keyboardScrolling=e)}function Bt(){var e=ee(K(g)[0],h);e||!le.loopTop&&!le.continuousVertical||(e=re(K(h))),null!=e&&sn(e,null,!0)}function Rt(){var e=te(K(g)[0],h);e||!le.loopBottom&&!le.continuousVertical||(e=K(h)[0]),null!=e&&sn(e,null,!1)}function jt(e,t){kt(0,"internal"),Nt(e,t),kt(ft.scrollingSpeed,"internal")}function Nt(e,t){var n=Un(e);void 0!==t?Xn(e,t):null!=n&&sn(n)}function Pt(e){an("right",e)}function zt(e){an("left",e)}function Dt(t){if(!q(_e,l)){Ye=!0,Fe=Q(),We=G();for(var n=K(h),o=0;o<n.length;++o){var r=n[o],i=K(B,r)[0],a=K(C,r);le.verticalCentered&&J(K(b,r),{height:Wn(r)+"px"}),J(r,{height:Fe+"px"}),a.length>1&&Bn(i,K(H,i)[0])}le.scrollOverflow&&qe.createScrollBarForAll();var c=ie(K(g)[0],h);c&&jt(c+1),Ye=!1,Le(le.afterResize)&&t&&le.afterResize.call(_e,e.innerWidth,e.innerHeight),Le(le.afterReBuild)&&!t&&le.afterReBuild.call(_e)}}function Vt(){return q(Ce,r)}function _t(e){var t=Vt();e?t||(At(!1,"internal"),Ot(!1,"internal"),ae(K(L)),ue(Ce,r),Le(le.afterResponsive)&&le.afterResponsive.call(_e,e),le.scrollOverflow&&qe.createScrollBarForAll()):t&&(At(ft.autoScrolling,"internal"),Ot(ft.autoScrolling,"internal"),ce(K(L)),fe(Ce,r),Le(le.afterResponsive)&&le.afterResponsive.call(_e,e))}function Ft(e){var t=e.target;t&&me(t,L+" a")?function(e){xe(e);var t=ie(me(this,L+" li"));sn(K(h)[t])}.call(t,e):Te(t,T)?function(){Ae(ne(this),"click")}.call(t):Te(t,V)?function(){var e=me(this,h);q(this,_)?$e.m.left&&zt(e):$e.m.right&&Pt(e)}.call(t,e):Te(t,D)||null!=me(t,D)?function(e){xe(e);var t=K(B,me(this,h))[0],n=K(C,t)[ie(me(this,"li"))];Bn(t,n)}.call(t,e):me(t,le.menu+" [data-menuanchor]")&&function(e){!K(le.menu)[0]||!le.lockAnchors&&le.anchors.length||(xe(e),Nt(this.getAttribute("data-menuanchor")))}.call(t,e)}function Wt(e,n){t["fp_"+e]=n,t.addEventListener(e,Yt,!0)}function Yt(e){var n=e.type,o=!1,r=le.scrollOverflow,i="mouseleave"===n?e.toElement||e.relatedTarget:e.target;if(i==t||!i)return Ht(!0),void(r&&le.scrollOverflowHandler.setIscroll(i,!0));"touchend"===n&&(vt=!1,setTimeout(function(){vt=!0},800)),("mouseenter"!==n||vt)&&(le.normalScrollElements.split(",").forEach(function(e){if(!o){var t=Te(i,e),n=me(i,e);(t||n)&&(Be.shared.isNormalScrollElement||(Ht(!1),r&&le.scrollOverflowHandler.setIscroll(i,!1)),Be.shared.isNormalScrollElement=!0,o=!0)}}),!o&&Be.shared.isNormalScrollElement&&(Ht(!0),r&&le.scrollOverflowHandler.setIscroll(i,!0),Be.shared.isNormalScrollElement=!1))}function Ut(){var e=Q(),t=G();Fe===e&&We===t||(Fe=e,We=t,Dt(!0))}function Xt(e,n,o){var r=100*o,i=100/o,l=t.createElement("div");l.className=I,pe(n,l);var a=t.createElement("div");a.className=R,pe(n,a),J(K(j,e),{width:r+"%"}),o>1&&(le.controlArrows&&function(e){var t=[Oe('<div class="'+F+'"></div>'),Oe('<div class="'+Y+'"></div>')];be(K(B,e)[0],t),"#fff"!==le.controlArrowColor&&(J(K(U,e),{"border-color":"transparent transparent transparent "+le.controlArrowColor}),J(K(W,e),{"border-color":"transparent "+le.controlArrowColor+" transparent transparent"})),le.loopHorizontal||ae(K(W,e))}(e),le.slidesNavigation&&function(e,t){de(Oe('<div class="'+P+'"><ul></ul></div>'),e);var n=K(z,e)[0];ue(n,"fp-"+le.slidesNavPosition);for(var o=0;o<t;o++)de(Oe('<li><a href="#"><span class="fp-sr-only">'+qt(o,"Slide")+"</span><span></span></a></li>"),K("ul",n)[0]);J(n,{"margin-left":"-"+n.innerWidth/2+"px"}),ue(K("a",K("li",n)[0]),s)}(e,o)),n.forEach(function(e){J(e,{width:i+"%"}),le.verticalCentered&&Fn(e)});var c=K(H,e)[0];null!=c&&(0!==ie(K(g),h)||0===ie(K(g),h)&&0!==ie(c))?Zn(c,"internal"):ue(n[0],s)}function Kt(e,t){t||null!=K(g)[0]||ue(e,s),Pe=K(g)[0],J(e,{height:Fe+"px"}),le.paddingTop&&J(e,{"padding-top":le.paddingTop}),le.paddingBottom&&J(e,{"padding-bottom":le.paddingBottom}),void 0!==le.sectionsColor[t]&&J(e,{"background-color":le.sectionsColor[t]}),void 0!==le.anchors[t]&&e.setAttribute("data-anchor",le.anchors[t])}function $t(e,t){void 0!==le.anchors[t]&&q(e,s)&&Vn(le.anchors[t],t),le.menu&&le.css3&&null!=me(K(le.menu)[0],o)&&K(le.menu).forEach(function(e){Ce.appendChild(e)})}function qt(e,t){return le.navigationTooltips[e]||le.anchors[e]||t+" "+(e+1)}function Qt(){var e,t,n=K(g)[0];ue(n,f),mn(n),gn(),Sn(n),le.scrollOverflow&&le.scrollOverflowHandler.afterLoad(),e=An(),t=Un(e.section),e.section&&t&&(void 0===t||ie(t)!==ie(Pe))||!Le(le.afterLoad)||un("afterLoad",{activeSection:n,element:n,direction:null,anchorLink:n.getAttribute("data-anchor"),sectionIndex:ie(n,h)}),Le(le.afterRender)&&un("afterRender")}function Gt(){var e,t,n,o;if(!le.autoScrolling||le.scrollBar){var r=ye(),i=function(e){var t=e>gt?"down":"up";return gt=e,Et=e,t}(r),l=0,a=r+Q()/2,c=Ce.offsetHeight-Q()===r,u=K(h);if(c)l=u.length-1;else if(r)for(var d=0;d<u.length;++d)u[d].offsetTop<=a&&(l=d);else l=0;if(t=i,n=K(g)[0].offsetTop,o=n+Q(),("up"==t?o>=ye()+Q():n<=ye())&&(q(K(g)[0],f)||(ue(K(g)[0],f),fe(Ee(K(g)[0]),f))),!q(e=u[l],s)){ht=!0;var v,p,m=K(g)[0],b=ie(m,h)+1,S=_n(e),w=e.getAttribute("data-anchor"),y=ie(e,h)+1,E=K(H,e)[0],x={activeSection:m,sectionIndex:y-1,anchorLink:w,element:e,leavingSection:b,direction:S};E&&(p=E.getAttribute("data-anchor"),v=ie(E)),Xe&&(ue(e,s),fe(Ee(e),s),Le(le.onLeave)&&un("onLeave",x),Le(le.afterLoad)&&un("afterLoad",x),yn(m),mn(e),Sn(e),Vn(w,y-1),le.anchors.length&&(Re=w),$n(v,p,w)),clearTimeout(et),et=setTimeout(function(){ht=!1},100)}le.fitToSection&&(clearTimeout(tt),tt=setTimeout(function(){le.fitToSection&&K(g)[0].offsetHeight<=Fe&&Jt()},le.fitToSectionDelay))}}function Jt(){Xe&&(Ye=!0,sn(K(g)[0]),Ye=!1)}function Zt(e){if($e.m[e]){var t="down"===e?Rt:Bt;if(le.scrollOverflow){var n=le.scrollOverflowHandler.scrollable(K(g)[0]),o="down"===e?"bottom":"top";if(null!=n){if(!le.scrollOverflowHandler.isScrolled(o,n))return!0;t()}else t()}else t()}}function en(e){le.autoScrolling&&nn(e)&&$e.m.up&&xe(e)}function tn(t){var n=me(t.target,h)||K(g)[0];if(nn(t)){le.autoScrolling&&xe(t);var o=Jn(t);St=o.y,wt=o.x,K(B,n).length&&Math.abs(bt-wt)>Math.abs(mt-St)?!ze&&Math.abs(bt-wt)>G()/100*le.touchSensitivity&&(bt>wt?$e.m.right&&Pt(n):$e.m.left&&zt(n)):le.autoScrolling&&Xe&&Math.abs(mt-St)>e.innerHeight/100*le.touchSensitivity&&(mt>St?Zt("down"):St>mt&&Zt("up"))}}function nn(e){return void 0===e.pointerType||"mouse"!=e.pointerType}function on(e){if(le.fitToSection&&(st=!1),nn(e)){var t=Jn(e);mt=t.y,bt=t.x}}function rn(e,t){for(var n=0,o=e.slice(Math.max(e.length-t,1)),r=0;r<o.length;r++)n+=o[r];return Math.ceil(n/t)}function ln(t){var n=(new Date).getTime(),o=q(K(d)[0],E);if(!$e.m.down&&!$e.m.up)return xe(t),!1;if(le.autoScrolling&&!Ne&&!o){var r=(t=t||e.event).wheelDelta||-t.deltaY||-t.detail,i=Math.max(-1,Math.min(1,r)),l=void 0!==t.wheelDeltaX||void 0!==t.deltaX,a=Math.abs(t.wheelDeltaX)<Math.abs(t.wheelDelta)||Math.abs(t.deltaX)<Math.abs(t.deltaY)||!l;Ke.length>149&&Ke.shift(),Ke.push(Math.abs(r)),le.scrollBar&&xe(t);var c=n-yt;return yt=n,c>200&&(Ke=[]),Xe&&rn(Ke,10)>=rn(Ke,70)&&a&&Zt(i<0?"down":"up"),!1}le.fitToSection&&(st=!1)}function an(e,t){var n=null==t?K(g)[0]:t,o=K(B,n)[0];if(!(null==o||ze||K(C,o).length<2)){var r=K(H,o)[0],i=null;if(null==(i="left"===e?ee(r,C):te(r,C))){if(!le.loopHorizontal)return;var l=Ee(r);i="left"===e?l[l.length-1]:l[0]}ze=!Be.test.isTesting,Bn(o,i,e)}}function cn(){for(var e=K(H),t=0;t<e.length;t++)Zn(e[t],"internal")}function sn(e,t,n){if(null!=e){var o,r,i={element:e,callback:t,isMovementUp:n,dtop:function(e){var t=e.offsetHeight,n=e.offsetTop,o=n,r=n>Et,i=o-Fe+t,l=le.bigSectionsDestination;return t>Fe?(r||l)&&"bottom"!==l||(o=i):(r||Ye&&null==oe(e))&&(o=i),Et=o,o}(e),yMovement:_n(e),anchorLink:e.getAttribute("data-anchor"),sectionIndex:ie(e,h),activeSlide:K(H,e)[0],activeSection:K(g)[0],leavingSection:ie(K(g),h)+1,localIsResizing:Ye};if(!(i.activeSection==e&&!Ye||le.scrollBar&&ye()===i.dtop&&!q(e,S))){if(null!=i.activeSlide&&(o=i.activeSlide.getAttribute("data-anchor"),r=ie(i.activeSlide)),!i.localIsResizing){var l=i.yMovement;if(void 0!==n&&(l=n?"up":"down"),i.direction=l,Le(le.onLeave)&&!1===un("onLeave",i))return}le.autoScrolling&&le.continuousVertical&&void 0!==i.isMovementUp&&(!i.isMovementUp&&"up"==i.yMovement||i.isMovementUp&&"down"==i.yMovement)&&(i=function(e){return e.isMovementUp?Se(K(g)[0],He(e.activeSection,h)):be(K(g)[0],Ie(e.activeSection,h).reverse()),eo(K(g)[0].offsetTop),cn(),e.wrapAroundElements=e.activeSection,e.dtop=e.element.offsetTop,e.yMovement=_n(e.element),e}(i)),i.localIsResizing||yn(i.activeSection),le.scrollOverflow&&le.scrollOverflowHandler.beforeLeave(),ue(e,s),fe(Ee(e),s),mn(e),le.scrollOverflow&&le.scrollOverflowHandler.onLeave(),Xe=Be.test.isTesting,$n(r,o,i.anchorLink,i.sectionIndex),function(e){if(le.css3&&le.autoScrolling&&!le.scrollBar){var t="translate3d(0px, -"+Math.round(e.dtop)+"px, 0px)";Yn(t,!0),le.scrollingSpeed?(clearTimeout(Je),Je=setTimeout(function(){pn(e)},le.scrollingSpeed)):pn(e)}else{var n=vn(e.dtop);Be.test.top=-e.dtop+"px",io(n.element,n.options,le.scrollingSpeed,function(){le.scrollBar?setTimeout(function(){pn(e)},30):pn(e)})}}(i),Re=i.anchorLink,Vn(i.anchorLink,i.sectionIndex)}}}function un(e,t){var n,o=function(e,t){var n;return(n=le.v2compatible?{afterRender:function(){return[_e]},onLeave:function(){return[t.activeSection,t.leavingSection,t.sectionIndex+1,t.direction]},afterLoad:function(){return[t.element,t.anchorLink,t.sectionIndex+1]},afterSlideLoad:function(){return[t.destiny,t.anchorLink,t.sectionIndex+1,t.slideAnchor,t.slideIndex]},onSlideLeave:function(){return[t.prevSlide,t.anchorLink,t.sectionIndex+1,t.prevSlideIndex,t.direction,t.slideIndex]}}:{afterRender:function(){return{section:fn(K(g)[0]),slide:dn(K(H,K(g)[0])[0])}},onLeave:function(){return{origin:fn(t.activeSection),destination:fn(t.element),direction:t.direction}},afterLoad:function(){return n.onLeave()},afterSlideLoad:function(){return{section:fn(t.section),origin:dn(t.prevSlide),destination:dn(t.destiny),direction:t.direction}},onSlideLeave:function(){return n.afterSlideLoad()}})[e]()}(e,t);if(le.v2compatible){if(!1===le[e].apply(o[0],o.slice(1)))return!1}else if(Ae(_e,e,o),!1===le[e].apply(o[Object.keys(o)[0]],(n=o,Object.keys(n).map(function(e){return n[e]}))))return!1;return!0}function fn(e){return e?new co(e):null}function dn(e){return e?new so(e):null}function vn(t){var n={};return le.autoScrolling&&!le.scrollBar?(n.options=-t,n.element=K(o)[0]):(n.options=t,n.element=e),n}function pn(e){!function(e){null!=e.wrapAroundElements&&(e.isMovementUp?Se(K(h)[0],e.wrapAroundElements):be(K(h)[K(h).length-1],e.wrapAroundElements),eo(K(g)[0].offsetTop),cn())}(e),Le(le.afterLoad)&&!e.localIsResizing&&un("afterLoad",e),le.scrollOverflow&&le.scrollOverflowHandler.afterLoad(),e.localIsResizing||Sn(e.element),ue(e.element,f),fe(Ee(e.element),f),gn(),Xe=!0,Le(e.callback)&&e.callback()}function hn(e,t){e.setAttribute(t,e.getAttribute("data-"+t)),e.removeAttribute("data-"+t)}function gn(){var e=K(w)[0]||Vt()&&K(y)[0];le.lazyLoading&&e&&K(h+":not("+u+")").forEach(function(e){var t,n,o;t=e.getBoundingClientRect(),n=t.top,o=t.bottom,(n+2<Fe&&n>0||o>2&&o<Fe)&&mn(e)})}function mn(e){le.lazyLoading&&K("img[data-src], img[data-srcset], source[data-src], source[data-srcset], video[data-src], audio[data-src], iframe[data-src]",En(e)).forEach(function(t){if(["src","srcset"].forEach(function(n){var o=t.getAttribute("data-"+n);null!=o&&o&&(hn(t,n),t.addEventListener("load",function(){bn(e)}))}),Te(t,"source")){var n=me(t,"video, audio");n&&(n.load(),n.onloadeddata=function(){bn(e)})}})}function bn(e){le.scrollOverflow&&(clearTimeout(ut),ut=setTimeout(function(){qe.createScrollBar(e)},200))}function Sn(e){var t=En(e);K("video, audio",t).forEach(function(e){e.hasAttribute("data-autoplay")&&"function"==typeof e.play&&e.play()}),K('iframe[src*="youtube.com/embed/"]',t).forEach(function(e){e.hasAttribute("data-autoplay")&&wn(e),e.onload=function(){e.hasAttribute("data-autoplay")&&wn(e)}})}function wn(e){e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function yn(e){var t=En(e);K("video, audio",t).forEach(function(e){e.hasAttribute("data-keepplaying")||"function"!=typeof e.pause||e.pause()}),K('iframe[src*="youtube.com/embed/"]',t).forEach(function(e){/youtube\.com\/embed\//.test(e.getAttribute("src"))&&!e.hasAttribute("data-keepplaying")&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function En(e){var t=K(H,e);return t.length&&(e=t[0]),e}function xn(){var e=An(),t=e.section,n=e.slide;t&&(le.animateAnchor?Xn(t,n):jt(t,n))}function Ln(){if(!ht&&!le.lockAnchors){var e=An(),t=e.section,n=e.slide,o=void 0===Re,r=void 0===Re&&void 0===n&&!ze;t&&t.length&&(t&&t!==Re&&!o||r||!ze&&je!=n)&&Xn(t,n)}}function An(){var t,n,o=e.location.hash;if(o.length){var r=o.replace("#","").split("/"),i=o.indexOf("#/")>-1;t=i?"/"+r[1]:decodeURIComponent(r[0]);var l=i?r[2]:r[1];l&&l.length&&(n=decodeURIComponent(l))}return{section:t,slide:n}}function Tn(e){clearTimeout(nt);var n=t.activeElement,o=e.keyCode;9===o?function(e){var n=e.shiftKey,o=t.activeElement,r=Cn(En(K(g)[0]));function i(e){return xe(e),r[0]?r[0].focus():null}(function(e){var n=Cn(t),o=n.indexOf(t.activeElement),r=e.shiftKey?o-1:o+1,i=n[r],l=dn(me(i,C)),a=fn(me(i,h));return!l&&!a})(e)||(o?null==me(o,g+","+g+" "+H)&&(o=i(e)):i(e),(!n&&o==r[r.length-1]||n&&o==r[0])&&xe(e))}(e):Te(n,"textarea")||Te(n,"input")||Te(n,"select")||"true"===n.getAttribute("contentEditable")||""===n.getAttribute("contentEditable")||!le.keyboardScrolling||!le.autoScrolling||([40,38,32,33,34].indexOf(o)>-1&&xe(e),Ne=e.ctrlKey,nt=setTimeout(function(){!function(e){var n=e.shiftKey,o=t.activeElement,r=Te(o,"video")||Te(o,"audio");if(Xe||!([37,39].indexOf(e.keyCode)<0))switch(e.keyCode){case 38:case 33:$e.k.up&&Bt();break;case 32:if(n&&$e.k.up&&!r){Bt();break}case 40:case 34:$e.k.down&&(32===e.keyCode&&r||Rt());break;case 36:$e.k.up&&Nt(1);break;case 35:$e.k.down&&Nt(K(h).length);break;case 37:$e.k.left&&zt();break;case 39:$e.k.right&&Pt()}}(e)},150))}function kn(e){Ue&&(Ne=e.ctrlKey)}function On(e){2==e.which&&(xt=e.pageY,_e.addEventListener("mousemove",In))}function Mn(e){2==e.which&&_e.removeEventListener("mousemove",In)}function Cn(e){return[].slice.call(K(lt,e)).filter(function(e){return"-1"!==e.getAttribute("tabindex")&&null!==e.offsetParent})}function Hn(){Ue=!1,Ne=!1}function In(e){le.autoScrolling&&(Xe&&(e.pageY<xt&&$e.m.up?Bt():e.pageY>xt&&$e.m.down&&Rt()),xt=e.pageY)}function Bn(e,t,n){var o,r,i=me(e,h),l={slides:e,destiny:t,direction:n,destinyPos:{left:t.offsetLeft},slideIndex:ie(t),section:i,sectionIndex:ie(i,h),anchorLink:i.getAttribute("data-anchor"),slidesNav:K(z,i)[0],slideAnchor:Qn(t),prevSlide:K(H,i)[0],prevSlideIndex:ie(K(H,i)[0]),localIsResizing:Ye};l.xMovement=(o=l.prevSlideIndex,r=l.slideIndex,o==r?"none":o>r?"left":"right"),l.direction=l.direction?l.direction:l.xMovement,l.localIsResizing||(Xe=!1),le.onSlideLeave&&!l.localIsResizing&&"none"!==l.xMovement&&Le(le.onSlideLeave)&&!1===un("onSlideLeave",l)?ze=!1:(ue(t,s),fe(Ee(t),s),l.localIsResizing||(yn(l.prevSlide),mn(t)),!le.loopHorizontal&&le.controlArrows&&(ke(K(W,i),0!==l.slideIndex),ke(K(U,i),null!=oe(t))),q(i,s)&&!l.localIsResizing&&$n(l.slideIndex,l.slideAnchor,l.anchorLink,l.sectionIndex),function(e,t,n){var o=t.destinyPos;if(le.css3){var r="translate3d(-"+Math.round(o.left)+"px, 0px, 0px)";Be.test.translate3dH[t.sectionIndex]=r,J(zn(K(j,e)),to(r)),Ze=setTimeout(function(){n&&Rn(t)},le.scrollingSpeed)}else Be.test.left[t.sectionIndex]=Math.round(o.left),io(e,Math.round(o.left),le.scrollingSpeed,function(){n&&Rn(t)})}(e,l,!0))}function Rn(e){var t,n;t=e.slidesNav,n=e.slideIndex,le.slidesNavigation&&null!=t&&(fe(K(u,t),s),ue(K("a",K("li",t)[n]),s)),e.localIsResizing||(Le(le.afterSlideLoad)&&un("afterSlideLoad",e),Xe=!0,Sn(e.destiny)),ze=!1}function jn(){clearTimeout(Qe),Qe=setTimeout(function(){for(var e=0;e<4;e++)Ge=setTimeout(Nn,200*e)},200)}function Nn(){if(Pn(),De){var e=t.activeElement;if(!Te(e,"textarea")&&!Te(e,"input")&&!Te(e,"select")){var n=Q();Math.abs(n-Lt)>20*Math.max(Lt,n)/100&&(Dt(!0),Lt=n)}}else Ut()}function Pn(){var t=le.responsive||le.responsiveWidth,n=le.responsiveHeight,o=t&&e.innerWidth<t,r=n&&e.innerHeight<n;t&&n?_t(o||r):t?_t(o):n&&_t(r)}function zn(e){var t="all "+le.scrollingSpeed+"ms "+le.easingcss3;return fe(e,i),J(e,{"-webkit-transition":t,transition:t})}function Dn(e){return ue(e,i)}function Vn(e,t){var n;n=e,K(le.menu).forEach(function(e){le.menu&&null!=e&&(fe(K(u,e),s),ue(K('[data-menuanchor="'+n+'"]',e),s))}),function(e,t){le.navigation&&null!=K(L)[0]&&(fe(K(u,K(L)[0]),s),ue(e?K('a[href="#'+e+'"]',K(L)[0]):K("a",K("li",K(L)[0])[t]),s))}(e,t)}function _n(e){var t=ie(K(g)[0],h),n=ie(e,h);return t==n?"none":t>n?"up":"down"}function Fn(e){if(!q(e,N)){var n=t.createElement("div");n.className=m,n.style.height=Wn(e)+"px",ue(e,N),he(e,n)}}function Wn(e){var t=Fe;if(le.paddingTop||le.paddingBottom){var n=e;q(n,p)||(n=me(e,h));var o=parseInt(getComputedStyle(n)["padding-top"])+parseInt(getComputedStyle(n)["padding-bottom"]);t=Fe-o}return t}function Yn(e,t){t?zn(_e):Dn(_e),J(_e,to(e)),Be.test.translate3d=e,setTimeout(function(){fe(_e,i)},10)}function Un(e){var t=K(h+'[data-anchor="'+e+'"]',_e)[0];if(!t){var n=void 0!==e?e-1:0;t=K(h)[n]}return t}function Xn(e,t){var n=Un(e);if(null!=n){var o=function(e,t){var n=K(C+'[data-anchor="'+e+'"]',t)[0];return null==n&&(e=void 0!==e?e:0,n=K(C,t)[e]),n}(t,n);Qn(n)===Re||q(n,s)?Kn(o):sn(n,function(){Kn(o)})}}function Kn(e){null!=e&&Bn(me(e,B),e)}function $n(e,t,n,o){var r="";le.anchors.length&&!le.lockAnchors&&(e?(null!=n&&(r=n),null==t&&(t=e),je=t,qn(r+"/"+t)):null!=e?(je=t,qn(n)):qn(n)),Gn()}function qn(t){if(le.recordHistory)location.hash=t;else if(De||Ve)e.history.replaceState(void 0,void 0,"#"+t);else{var n=e.location.href.split("#")[0];e.location.replace(n+"#"+t)}}function Qn(e){if(!e)return null;var t=e.getAttribute("data-anchor"),n=ie(e);return null==t&&(t=n),t}function Gn(){var e=K(g)[0],t=K(H,e)[0],n=Qn(e),o=Qn(t),r=String(n);t&&(r=r+"-"+o),r=r.replace("/","-").replace("#","");var i=new RegExp("\\b\\s?"+c+"-[^\\s]+\\b","g");Ce.className=Ce.className.replace(i,""),ue(Ce,c+"-"+r)}function Jn(e){var t=[];return t.y=void 0!==e.pageY&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,t.x=void 0!==e.pageX&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,Ve&&nn(e)&&le.scrollBar&&void 0!==e.touches&&(t.y=e.touches[0].pageY,t.x=e.touches[0].pageX),t}function Zn(e,t){kt(0,"internal"),void 0!==t&&(Ye=!0),Bn(me(e,B),e),void 0!==t&&(Ye=!1),kt(ft.scrollingSpeed,"internal")}function eo(e){var t=Math.round(e);if(le.css3&&le.autoScrolling&&!le.scrollBar)Yn("translate3d(0px, -"+t+"px, 0px)",!1);else if(le.autoScrolling&&!le.scrollBar)J(_e,{top:-t+"px"}),Be.test.top=-t+"px";else{var n=vn(t);lo(n.element,n.options)}}function to(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function no(e,t,n){"all"!==t?$e[n][t]=e:Object.keys($e[n]).forEach(function(t){$e[n][t]=e})}function oo(e,t,n){le[e]=t,"internal"!==n&&(ft[e]=t)}function ro(){var e=le.licenseKey,t="font-size: 15px;background:yellow;";se?e&&e.length<20&&(console.warn("%c This website was made using fullPage.js slider. More info on the following website:",t),console.warn("%c https://alvarotrigo.com/fullPage/",t)):(X("error","Fullpage.js version 3 has changed its license to GPLv3 and it requires a `licenseKey` option. Read about it here:"),X("error","https://github.com/alvarotrigo/fullPage.js#options.")),q(we,a)?X("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(le.continuousVertical&&(le.loopTop||le.loopBottom)&&(le.continuousVertical=!1,X("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),!le.scrollOverflow||!le.scrollBar&&le.autoScrolling||X("warn","Options scrollBar:true and autoScrolling:false are mutually exclusive with scrollOverflow:true. Sections with scrollOverflow might not work well in Firefox"),!le.continuousVertical||!le.scrollBar&&le.autoScrolling||(le.continuousVertical=!1,X("warn","Scroll bars (`scrollBar:true` or `autoScrolling:false`) are mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),le.scrollOverflow&&null==le.scrollOverflowHandler&&(le.scrollOverflow=!1,X("error","The option `scrollOverflow:true` requires the file `scrolloverflow.min.js`. Please include it before fullPage.js.")),pt.forEach(function(e){le[e]&&X("warn","fullpage.js extensions require fullpage.extensions.min.js file instead of the usual fullpage.js. Requested: "+e)}),le.anchors.forEach(function(e){var t=[].slice.call(K("[name]")).filter(function(t){return t.getAttribute("name")&&t.getAttribute("name").toLowerCase()==e.toLowerCase()}),n=[].slice.call(K("[id]")).filter(function(t){return t.getAttribute("id")&&t.getAttribute("id").toLowerCase()==e.toLowerCase()});if(n.length||t.length){X("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE).");var o=n.length?"id":"name";(n.length||t.length)&&X("error",'"'+e+'" is is being used by another element `'+o+"` property")}}))}function io(t,n,o,r){var i=function(t){return t.self!=e&&q(t,I)?t.scrollLeft:!le.autoScrolling||le.scrollBar?ye():t.offsetTop}(t),l=n-i,a=0;st=!0;var c=function(){if(st){var s=n;a+=20,o&&(s=e.fp_easings[le.easing](a,i,l,o)),lo(t,s),a<o?setTimeout(c,20):void 0!==r&&r()}else a<o&&r()};c()}function lo(t,n){!le.autoScrolling||le.scrollBar||t.self!=e&&q(t,I)?t.self!=e&&q(t,I)?t.scrollLeft=n:t.scrollTo(0,n):t.style.top=n+"px"}function ao(e,t){this.anchor=e.getAttribute("data-anchor"),this.item=e,this.index=ie(e,t),this.isLast=this.index===e.parentElement.querySelectorAll(t).length-1,this.isFirst=!this.index}function co(e){ao.call(this,e,h)}function so(e){ao.call(this,e,C)}ro()}}),window.jQuery&&window.fullpage&&function(e,t){"use strict";e&&t?e.fn.fullpage=function(n){n=e.extend({},n,{$:e});new t(this[0],n)}:window.fp_utils.showError("error","jQuery is required to use the jQuery fullpage adapter!")}(window.jQuery,window.fullpage)},function(e,t,n){"use strict";n.r(t);var o=n(0);new(n.n(o).a)("#myFullpage",{navigation:!0,sectionsColor:["#ff5f45","#0798ec","#fc6c7c","grey"]})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Z1bGxwYWdlLmpzL2Rpc3QvZnVsbHBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJyb290Iiwid2luZG93IiwiZG9jdW1lbnQiLCJmYWN0b3J5IiwidW5kZWZpbmVkIiwiZnVsbHBhZ2UiLCJ0aGlzIiwiV1JBUFBFUiIsIldSQVBQRVJfU0VMIiwiUkVTUE9OU0lWRSIsIk5PX1RSQU5TSVRJT04iLCJERVNUUk9ZRUQiLCJFTkFCTEVEIiwiVklFV0lOR19QUkVGSVgiLCJBQ1RJVkUiLCJBQ1RJVkVfU0VMIiwiQ09NUExFVEVMWSIsIkNPTVBMRVRFTFlfU0VMIiwiU0VDVElPTl9ERUZBVUxUX1NFTCIsIlNFQ1RJT04iLCJTRUNUSU9OX1NFTCIsIlNFQ1RJT05fQUNUSVZFX1NFTCIsIlRBQkxFX0NFTEwiLCJUQUJMRV9DRUxMX1NFTCIsIkFVVE9fSEVJR0hUIiwiQVVUT19IRUlHSFRfU0VMIiwiQVVUT19IRUlHSFRfUkVTUE9OU0lWRV9TRUwiLCJOT1JNQUxfU0NST0xMIiwiU0VDVElPTl9OQVYiLCJTRUNUSU9OX05BVl9TRUwiLCJTRUNUSU9OX05BVl9UT09MVElQIiwiU0VDVElPTl9OQVZfVE9PTFRJUF9TRUwiLCJTSE9XX0FDVElWRV9UT09MVElQIiwiU0xJREVfREVGQVVMVF9TRUwiLCJTTElERSIsIlNMSURFX1NFTCIsIlNMSURFX0FDVElWRV9TRUwiLCJTTElERVNfV1JBUFBFUiIsIlNMSURFU19XUkFQUEVSX1NFTCIsIlNMSURFU19DT05UQUlORVIiLCJTTElERVNfQ09OVEFJTkVSX1NFTCIsIlRBQkxFIiwiU0xJREVTX05BViIsIlNMSURFU19OQVZfU0VMIiwiU0xJREVTX05BVl9MSU5LX1NFTCIsIlNMSURFU19BUlJPV19TRUwiLCJTTElERVNfUFJFViIsIlNMSURFU19BUlJPV19QUkVWIiwiU0xJREVTX0FSUk9XIiwiU0xJREVTX0FSUk9XX1BSRVZfU0VMIiwiU0xJREVTX0FSUk9XX05FWFQiLCJTTElERVNfQVJST1dfTkVYVF9TRUwiLCJzaG93RXJyb3IiLCJ0eXBlIiwidGV4dCIsImNvbnNvbGUiLCIkIiwic2VsZWN0b3IiLCJjb250ZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicXVlcnlTZWxlY3RvckFsbCIsImRlZXBFeHRlbmQiLCJvdXQiLCJsZW4iLCJvYmoiLCJ0b1N0cmluZyIsImhhc0NsYXNzIiwiZWwiLCJjbGFzc05hbWUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIlJlZ0V4cCIsInRlc3QiLCJnZXRXaW5kb3dIZWlnaHQiLCJpbm5lckhlaWdodCIsImRvY3VtZW50RWxlbWVudCIsIm9mZnNldEhlaWdodCIsImdldFdpbmRvd1dpZHRoIiwiaW5uZXJXaWR0aCIsImNzcyIsIml0ZW1zIiwicHJvcHMiLCJnZXRMaXN0Iiwic3R5bGUiLCJ1bnRpbCIsIml0ZW0iLCJmbiIsInNpYmxpbmciLCJtYXRjaGVzIiwicHJldlVudGlsIiwibmV4dFVudGlsIiwicHJldiIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJuZXh0IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibGFzdCIsImluZGV4IiwiaXNBcnJheU9yTGlzdCIsImNoaWxkcmVuIiwicGFyZW50Tm9kZSIsImNoaWxkTm9kZXMiLCJudW0iLCJub2RlVHlwZSIsImhpZGUiLCJkaXNwbGF5Iiwic2hvdyIsImFkZENsYXNzIiwiYWRkIiwicmVtb3ZlQ2xhc3MiLCJjbGFzc05hbWVzIiwic3BsaXQiLCJhIiwicmVtb3ZlIiwicmVwbGFjZSIsImpvaW4iLCJhcHBlbmRUbyIsInBhcmVudCIsImFwcGVuZENoaWxkIiwid3JhcCIsInRvV3JhcCIsIndyYXBwZXIiLCJpc1dyYXBBbGwiLCJuZXdQYXJlbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xvbmVOb2RlIiwiaW5zZXJ0QmVmb3JlIiwid3JhcEFsbCIsIndyYXBJbm5lciIsImNyZWF0ZUVsZW1lbnRGcm9tSFRNTCIsImZpcnN0Q2hpbGQiLCJ1bndyYXAiLCJ3cmFwcGVyQ29udGVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJyZXBsYWNlQ2hpbGQiLCJjbG9zZXN0IiwiYWZ0ZXIiLCJyZWZlcmVuY2UiLCJuZXh0U2libGluZyIsImJlZm9yZSIsImJlZm9yZUVsZW1lbnQiLCJnZXRTY3JvbGxUb3AiLCJkb2MiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsImNsaWVudFRvcCIsInNpYmxpbmdzIiwiQXJyYXkiLCJmaWx0ZXIiLCJjaGlsZCIsInByZXZlbnREZWZhdWx0IiwiZXZlbnQiLCJyZXR1cm5WYWx1ZSIsImlzRnVuY3Rpb24iLCJ0cmlnZ2VyIiwiZXZlbnROYW1lIiwiZGF0YSIsIkN1c3RvbUV2ZW50IiwiZGV0YWlsIiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwidG9nZ2xlIiwiaHRtbFN0cmluZyIsImRpdiIsImlubmVySFRNTCIsInRyaW0iLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJ1bnRpbEFsbCIsInB1c2giLCJuZXh0QWxsIiwicHJldkFsbCIsIk5vZGVMaXN0IiwiZm9yRWFjaCIsImNhbGxiYWNrIiwidGhpc0FyZyIsImZwX3V0aWxzIiwiZmlsdGVyRm4iLCJjb250YWluZXJTZWxlY3RvciIsIm9wdGlvbnMiLCJpc09LIiwiZG9tYWluIiwiaW5kZXhPZiIsIiRodG1sQm9keSIsIiRodG1sIiwiJGJvZHkiLCJGUCIsIm1lbnUiLCJhbmNob3JzIiwibG9ja0FuY2hvcnMiLCJuYXZpZ2F0aW9uIiwibmF2aWdhdGlvblBvc2l0aW9uIiwibmF2aWdhdGlvblRvb2x0aXBzIiwic2hvd0FjdGl2ZVRvb2x0aXAiLCJzbGlkZXNOYXZpZ2F0aW9uIiwic2xpZGVzTmF2UG9zaXRpb24iLCJzY3JvbGxCYXIiLCJoeWJyaWQiLCJjc3MzIiwic2Nyb2xsaW5nU3BlZWQiLCJhdXRvU2Nyb2xsaW5nIiwiZml0VG9TZWN0aW9uIiwiZml0VG9TZWN0aW9uRGVsYXkiLCJlYXNpbmciLCJlYXNpbmdjc3MzIiwibG9vcEJvdHRvbSIsImxvb3BUb3AiLCJsb29wSG9yaXpvbnRhbCIsImNvbnRpbnVvdXNWZXJ0aWNhbCIsImNvbnRpbnVvdXNIb3Jpem9udGFsIiwic2Nyb2xsSG9yaXpvbnRhbGx5IiwiaW50ZXJsb2NrZWRTbGlkZXMiLCJkcmFnQW5kTW92ZSIsIm9mZnNldFNlY3Rpb25zIiwicmVzZXRTbGlkZXJzIiwiZmFkaW5nRWZmZWN0Iiwibm9ybWFsU2Nyb2xsRWxlbWVudHMiLCJzY3JvbGxPdmVyZmxvdyIsInNjcm9sbE92ZXJmbG93UmVzZXQiLCJzY3JvbGxPdmVyZmxvd0hhbmRsZXIiLCJmcF9zY3JvbGxvdmVyZmxvdyIsImlzY3JvbGxIYW5kbGVyIiwic2Nyb2xsT3ZlcmZsb3dPcHRpb25zIiwidG91Y2hTZW5zaXRpdml0eSIsInRvdWNoV3JhcHBlciIsImJpZ1NlY3Rpb25zRGVzdGluYXRpb24iLCJrZXlib2FyZFNjcm9sbGluZyIsImFuaW1hdGVBbmNob3IiLCJyZWNvcmRIaXN0b3J5IiwiY29udHJvbEFycm93cyIsImNvbnRyb2xBcnJvd0NvbG9yIiwidmVydGljYWxDZW50ZXJlZCIsInNlY3Rpb25zQ29sb3IiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsImZpeGVkRWxlbWVudHMiLCJyZXNwb25zaXZlIiwicmVzcG9uc2l2ZVdpZHRoIiwicmVzcG9uc2l2ZUhlaWdodCIsInJlc3BvbnNpdmVTbGlkZXMiLCJwYXJhbGxheCIsInBhcmFsbGF4T3B0aW9ucyIsInBlcmNlbnRhZ2UiLCJjYXJkcyIsImNhcmRzT3B0aW9ucyIsInBlcnNwZWN0aXZlIiwiZmFkZUNvbnRlbnQiLCJmYWRlQmFja2dyb3VuZCIsInNlY3Rpb25TZWxlY3RvciIsInNsaWRlU2VsZWN0b3IiLCJ2MmNvbXBhdGlibGUiLCJhZnRlckxvYWQiLCJvbkxlYXZlIiwiYWZ0ZXJSZW5kZXIiLCJhZnRlclJlc2l6ZSIsImFmdGVyUmVCdWlsZCIsImFmdGVyU2xpZGVMb2FkIiwib25TbGlkZUxlYXZlIiwiYWZ0ZXJSZXNwb25zaXZlIiwibGF6eUxvYWRpbmciLCJsYXN0U2Nyb2xsZWREZXN0aW55IiwibGFzdFNjcm9sbGVkU2xpZGUiLCJjb250cm9sUHJlc3NlZCIsInN0YXJ0aW5nU2VjdGlvbiIsInNsaWRlTW92aW5nIiwiaXNUb3VjaERldmljZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwiaXNUb3VjaCIsIm1zTWF4VG91Y2hQb2ludHMiLCJjb250YWluZXIiLCJ3aW5kb3dzSGVpZ2h0Iiwid2luZG93c1dpZHRoIiwiaXNSZXNpemluZyIsImlzV2luZG93Rm9jdXNlZCIsImNhblNjcm9sbCIsInNjcm9sbGluZ3MiLCJpc1Njcm9sbEFsbG93ZWQiLCJ1cCIsImRvd24iLCJsZWZ0IiwicmlnaHQiLCJrIiwic2Nyb2xsQmFySGFuZGxlciIsInJlc2l6ZUlkIiwicmVzaXplSGFuZGxlcklkIiwiYWZ0ZXJTZWN0aW9uTG9hZHNJZCIsImFmdGVyU2xpZGVMb2Fkc0lkIiwic2Nyb2xsSWQiLCJzY3JvbGxJZDIiLCJrZXlkb3duSWQiLCJnX2RvdWJsZUNoZWNrSGVpZ2h0SWQiLCJNU1BvaW50ZXIiLCJQb2ludGVyRXZlbnQiLCJtb3ZlIiwiZXZlbnRzIiwidG91Y2htb3ZlIiwidG91Y2hzdGFydCIsImZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nIiwiZ19zdXBwb3J0c1Bhc3NpdmUiLCJvcHRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwiYWN0aXZlQW5pbWF0aW9uIiwiZ19tZWRpYUxvYWRlZElkIiwib3JpZ2luYWxzIiwiZ19pbml0aWFsQW5jaG9yc0luRG9tIiwiZ19jYW5GaXJlTW91c2VFbnRlck5vcm1hbFNjcm9sbCIsImV4dGVuc2lvbnMiLCJkaXNwbGF5V2FybmluZ3MiLCJmcF9lYXNpbmdzIiwiZWFzZUluT3V0Q3ViaWMiLCJiIiwidmVyc2lvbiIsInNldEF1dG9TY3JvbGxpbmciLCJzZXRSZWNvcmRIaXN0b3J5Iiwic2V0U2Nyb2xsaW5nU3BlZWQiLCJzZXRGaXRUb1NlY3Rpb24iLCJzZXRMb2NrQW5jaG9ycyIsInNldE1vdXNlV2hlZWxTY3JvbGxpbmciLCJzZXRBbGxvd1Njcm9sbGluZyIsInNldEtleWJvYXJkU2Nyb2xsaW5nIiwibW92ZVNlY3Rpb25VcCIsIm1vdmVTZWN0aW9uRG93biIsInNpbGVudE1vdmVUbyIsIm1vdmVUbyIsIm1vdmVTbGlkZVJpZ2h0IiwibW92ZVNsaWRlTGVmdCIsInJlQnVpbGQiLCJzZXRSZXNwb25zaXZlIiwiZ2V0RnVsbHBhZ2VEYXRhIiwiZGVzdHJveSIsImFsbCIsInNldE1vdXNlSGlqYWNrIiwidGltZW91dElkIiwiY2xlYXJUaW1lb3V0Iiwic2Nyb2xsSGFuZGxlciIsImhhc2hDaGFuZ2VIYW5kbGVyIiwicmVzaXplSGFuZGxlciIsImtleWRvd25IYW5kbGVyIiwia2V5VXBIYW5kbGVyIiwiZGVsZWdhdGVkRXZlbnRzIiwib25Nb3VzZUVudGVyT3JMZWF2ZSIsInNpbGVudFNjcm9sbCIsInNldFNyYyIsImhlaWdodCIsImJhY2tncm91bmQtY29sb3IiLCJwYWRkaW5nIiwid2lkdGgiLCJwb3NpdGlvbiIsIi1tcy10b3VjaC1hY3Rpb24iLCJ0b3VjaC1hY3Rpb24iLCJvdmVyZmxvdyIsInByZXZpb3VzU3R5bGVzIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQW5pbWF0aW9uIiwiLXdlYmtpdC10cmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsInNjcm9sbFRvIiwiZ2V0QWN0aXZlU2VjdGlvbiIsIlNlY3Rpb24iLCJnZXRBY3RpdmVTbGlkZSIsIm51bGxPclNsaWRlIiwidG9wIiwidHJhbnNsYXRlM2QiLCJ0cmFuc2xhdGUzZEgiLCJzaGFyZWQiLCJhZnRlclJlbmRlckFjdGlvbnMiLCJpc05vcm1hbFNjcm9sbEVsZW1lbnQiLCJmdWxscGFnZV9hcGkiLCJrZXlzIiwiaGFzM2QiLCJ0cmFuc2Zvcm1zIiwid2Via2l0VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiYm9keSIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwic3VwcG9ydDNkIiwiYW5jaG9yc0F0dHJpYnV0ZSIsInRvb2x0aXBzIiwidG9vbHRpcHNBdHRyaWJ1dGUiLCJzZXRPcHRpb25zRnJvbURPTSIsInNlY3Rpb25zIiwic2VjdGlvbkluZGV4Iiwic2VjdGlvbiIsInNsaWRlcyIsIm51bVNsaWRlcyIsInN0eWxlU2VjdGlvbiIsInN0eWxlTWVudSIsInN0eWxlU2xpZGVzIiwiYWRkVGFibGVDbGFzcyIsImRpdlVsIiwibmF2IiwibGkiLCJsaW5rIiwiZ2V0QnVsbGV0TGlua05hbWUiLCJ0b29sdGlwIiwibWFyZ2luLXRvcCIsImJ1bGxldCIsImFkZFZlcnRpY2FsTmF2aWdhdGlvbiIsImVsZW1lbnQiLCJuZXdQYXJhbSIsIm9yaWdpbmFsU3JjIiwiaW5pdCIsInByZXBhcmVEb20iLCJzZXRCb2R5Q2xhc3MiLCJyZWFkeVN0YXRlIiwic2Nyb2xsVG9BbmNob3IiLCJzZXRUaW1lb3V0IiwiYWRqdXN0VG9OZXdWaWV3cG9ydCIsImRvdWJsZUNoZWNrSGVpZ2h0IiwiYmx1ckhhbmRsZXIiLCJmb3JNb3VzZUxlYXZlT3JUb3VjaCIsImlzU2Nyb2xsaW5nIiwibGFzdFNjcm9sbCIsInRvdWNoU3RhcnRZIiwidG91Y2hTdGFydFgiLCJ0b3VjaEVuZFkiLCJ0b3VjaEVuZFgiLCJwcmV2VGltZSIsIkRhdGUiLCJnZXRUaW1lIiwicHJldmlvdXNEZXN0VG9wIiwib2xkUGFnZVkiLCJwcmV2aW91c0hlaWdodCIsInNldFZhcmlhYmxlU3RhdGUiLCJvZmZzZXRUb3AiLCJzY3JvbGxTZXR0aW5ncyIsImdldFNjcm9sbFNldHRpbmdzIiwiX2FkZEV2ZW50TGlzdGVuZXIiLCJwcmVmaXgiLCJzdXBwb3J0Iiwib25tb3VzZXdoZWVsIiwicGFzc2l2ZUV2ZW50IiwicGFzc2l2ZSIsIk1vdXNlV2hlZWxIYW5kbGVyIiwiYWRkTW91c2VXaGVlbEhhbmRsZXIiLCJtb3VzZURvd25IYW5kbGVyIiwibW91c2VVcEhhbmRsZXIiLCJkZXRhY2hFdmVudCIsImRpcmVjdGlvbnMiLCJkaXJlY3Rpb24iLCJzZXRJc1Njcm9sbEFsbG93ZWQiLCJwcmV2ZW50Qm91bmNpbmciLCJ0b3VjaFN0YXJ0SGFuZGxlciIsInRvdWNoTW92ZUhhbmRsZXIiLCJhZGRUb3VjaEhhbmRsZXIiLCJyZW1vdmVUb3VjaEhhbmRsZXIiLCJzY3JvbGxQYWdlIiwic2VjdGlvbkFuY2hvciIsInNsaWRlQW5jaG9yIiwiZGVzdGlueSIsImdldFNlY3Rpb25CeUFuY2hvciIsInNjcm9sbFBhZ2VBbmRTbGlkZSIsIm1vdmVTbGlkZSIsInJlc2l6aW5nIiwic2xpZGVzV3JhcCIsImdldFRhYmxlSGVpZ2h0IiwibGFuZHNjYXBlU2Nyb2xsIiwiY3JlYXRlU2Nyb2xsQmFyRm9yQWxsIiwiaXNSZXNwb25zaXZlTW9kZSIsImFjdGl2ZSIsImlzUmVzcG9uc2l2ZSIsInRhcmdldCIsImluZGV4QnVsbGV0IiwiYWxsb3dTY3JvbGxpbmciLCJpc0luc2lkZU9uZU5vcm1hbFNjcm9sbCIsImlzVXNpbmdTY3JvbGxPdmVyZmxvdyIsInRvRWxlbWVudCIsInJlbGF0ZWRUYXJnZXQiLCJzZXRJc2Nyb2xsIiwibm9ybWFsU2VsZWN0b3IiLCJpc05vcm1hbFNjcm9sbFRhcmdldCIsImlzTm9ybWFsU2Nyb2xsQ2hpbGRGb2N1c2VkIiwibmV3V2luZG93SGVpZ2h0IiwibmV3V2luZG93V2lkdGgiLCJzbGlkZXJXaWR0aCIsInNsaWRlV2lkdGgiLCJzbGlkZXNXcmFwcGVyIiwic2xpZGVzQ29udGFpbmVyIiwiYXJyb3dzIiwiYm9yZGVyLWNvbG9yIiwiY3JlYXRlU2xpZGVBcnJvd3MiLCJtYXJnaW4tbGVmdCIsImFkZFNsaWRlc05hdmlnYXRpb24iLCJzbGlkZSIsInN0YXJ0aW5nU2xpZGUiLCJzaWxlbnRMYW5kc2NhcGVTY3JvbGwiLCJwYWRkaW5nLXRvcCIsInBhZGRpbmctYm90dG9tIiwiYWN0aXZhdGVNZW51QW5kTmF2IiwiZGVmYXVsdE5hbWUiLCJhbmNob3IiLCJkZXN0aW5hdGlvblNlY3Rpb24iLCJsYXp5TG9hZCIsImxhenlMb2FkT3RoZXJzIiwicGxheU1lZGlhIiwiZ2V0QW5jaG9yc1VSTCIsImZpcmVDYWxsYmFjayIsImFjdGl2ZVNlY3Rpb24iLCJhbmNob3JMaW5rIiwiY3VycmVudFNlY3Rpb24iLCJtb3ZlbWVudCIsImJvdHRvbSIsImN1cnJlbnRTY3JvbGwiLCJzY3JvbGxEaXJlY3Rpb24iLCJnZXRTY3JvbGxEaXJlY3Rpb24iLCJ2aXNpYmxlU2VjdGlvbkluZGV4Iiwic2NyZWVuX21pZCIsImlzQXRCb3R0b20iLCJzbGlkZUluZGV4Iiwic2xpZGVBbmNob3JMaW5rIiwibGVhdmluZ1NlY3Rpb24iLCJsZWF2aW5nU2VjdGlvbkluZGV4IiwieU1vdmVtZW50IiwiZ2V0WW1vdmVtZW50IiwiYWN0aXZlU2xpZGUiLCJjYWxsYmFja3NQYXJhbXMiLCJzdG9wTWVkaWEiLCJzZXRTdGF0ZSIsInNjcm9sbGluZyIsInNjcm9sbFNlY3Rpb24iLCJzY3JvbGxhYmxlIiwiY2hlY2siLCJpc1Njcm9sbGVkIiwiaXNSZWFsbHlUb3VjaCIsInRvdWNoRXZlbnRzIiwiZ2V0RXZlbnRzUGFnZSIsInkiLCJ4IiwiTWF0aCIsImFicyIsInBvaW50ZXJUeXBlIiwiZ2V0QXZlcmFnZSIsImVsZW1lbnRzIiwibnVtYmVyIiwic3VtIiwibGFzdEVsZW1lbnRzIiwic2xpY2UiLCJtYXgiLCJjZWlsIiwiY3VyVGltZSIsImlzTm9ybWFsU2Nyb2xsIiwid2hlZWxEZWx0YSIsImRlbHRhWSIsImRlbHRhIiwibWluIiwiaG9yaXpvbnRhbERldGVjdGlvbiIsIndoZWVsRGVsdGFYIiwiZGVsdGFYIiwiaXNTY3JvbGxpbmdWZXJ0aWNhbGx5Iiwic2hpZnQiLCJ0aW1lRGlmZiIsImN1cnJlbnRTbGlkZSIsInNsaWRlU2libGluZ3MiLCJpc1Rlc3RpbmciLCJrZWVwU2xpZGVzUG9zaXRpb24iLCJhY3RpdmVTbGlkZXMiLCJpc01vdmVtZW50VXAiLCJ2IiwiZHRvcCIsImVsZW1lbnRIZWlnaHQiLCJlbGVtZW50VG9wIiwiaXNTY3JvbGxpbmdEb3duIiwic2VjdGlvbkJvdHRvbSIsImdldERlc3RpbmF0aW9uUG9zaXRpb24iLCJsb2NhbElzUmVzaXppbmciLCJyZXZlcnNlIiwid3JhcEFyb3VuZEVsZW1lbnRzIiwiY3JlYXRlSW5maW5pdGVTZWN0aW9ucyIsImJlZm9yZUxlYXZlIiwicm91bmQiLCJ0cmFuc2Zvcm1Db250YWluZXIiLCJhZnRlclNlY3Rpb25Mb2FkcyIsInBlcmZvcm1Nb3ZlbWVudCIsIm9iamVjdERhdGEiLCJldmVudERhdGEiLCJwYXJhbXNQZXJFdmVudCIsInByZXZTbGlkZSIsInByZXZTbGlkZUluZGV4IiwibnVsbE9yU2VjdGlvbiIsIm9yaWdpbiIsImRlc3RpbmF0aW9uIiwiZ2V0RXZlbnREYXRhIiwiYXBwbHkiLCJtYXAiLCJTbGlkZSIsInNjcm9sbCIsImNvbnRpbnVvdXNWZXJ0aWNhbEZpeFNlY3Rpb25PcmRlciIsImF0dHJpYnV0ZSIsImhhc0F1dG9IZWlnaHRTZWN0aW9ucyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRTbGlkZU9yU2VjdGlvbiIsIm9uTWVkaWFMb2FkIiwiZWxlbWVudFRvUGxheSIsImxvYWQiLCJvbmxvYWRlZGRhdGEiLCJjcmVhdGVTY3JvbGxCYXIiLCJwYW5lbCIsImhhc0F0dHJpYnV0ZSIsInBsYXkiLCJwbGF5WW91dHViZSIsIm9ubG9hZCIsImNvbnRlbnRXaW5kb3ciLCJwb3N0TWVzc2FnZSIsInBhdXNlIiwiaXNGaXJzdFNsaWRlTW92ZSIsImlzRmlyc3RTY3JvbGxNb3ZlIiwiaGFzaCIsImxvY2F0aW9uIiwiYW5jaG9yc1BhcnRzIiwiaXNGdW5reUFuY2hvciIsImRlY29kZVVSSUNvbXBvbmVudCIsImFjdGl2ZUVsZW1lbnQiLCJrZXlDb2RlIiwiaXNTaGlmdFByZXNzZWQiLCJzaGlmdEtleSIsImZvY3VzYWJsZUVsZW1lbnRzIiwiZ2V0Rm9jdXNhYmxlcyIsInByZXZlbnRBbmRGb2N1c0ZpcnN0IiwiZm9jdXMiLCJhbGxGb2N1c2FibGVzIiwiY3VycmVudEZvY3VzSW5kZXgiLCJmb2N1c0Rlc3RpbmF0aW9uSW5kZXgiLCJmb2N1c0Rlc3RpbmF0aW9uIiwiZGVzdGluYXRpb25JdGVtU2xpZGUiLCJkZXN0aW5hdGlvbkl0ZW1TZWN0aW9uIiwiaXNGb2N1c091dHNpZGUiLCJvblRhYiIsImN0cmxLZXkiLCJzaGlmdFByZXNzZWQiLCJpc01lZGlhRm9jdXNlZCIsIm9ua2V5ZG93biIsIndoaWNoIiwicGFnZVkiLCJtb3VzZU1vdmVIYW5kbGVyIiwib2Zmc2V0UGFyZW50IiwiZnJvbUluZGV4IiwidG9JbmRleCIsImRlc3RpbnlQb3MiLCJvZmZzZXRMZWZ0Iiwic2xpZGVzTmF2IiwiZ2V0QW5jaG9yIiwieE1vdmVtZW50IiwiYWRkQW5pbWF0aW9uIiwiZ2V0VHJhbnNmb3JtcyIsImFmdGVyU2xpZGVMb2FkcyIsInBlcmZvcm1Ib3Jpem9udGFsTW92ZSIsInJlc2l6ZUFjdGlvbnMiLCJjdXJyZW50SGVpZ2h0Iiwid2lkdGhMaW1pdCIsImhlaWdodExpbWl0IiwiaXNCcmVha2luZ1BvaW50V2lkdGgiLCJpc0JyZWFraW5nUG9pbnRIZWlnaHQiLCJhY3RpdmF0ZU5hdkRvdHMiLCJzZWN0aW9uSGVpZ2h0IiwicGFkZGluZ3MiLCJwYXJzZUludCIsImFuaW1hdGVkIiwiZ2V0U2xpZGVCeUFuY2hvciIsInNjcm9sbFNsaWRlciIsInNlY3Rpb25IYXNoIiwic2V0VXJsSGFzaCIsInVybCIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJiYXNlVXJsIiwiaHJlZiIsImVsZW1lbnRJbmRleCIsIlN0cmluZyIsImNsYXNzUmUiLCJwYWdlWCIsInRvdWNoZXMiLCJub0NhbGxiYWNrcyIsInJvdW5kZWRUb3AiLCJzZXRTY3JvbGxpbmciLCItd2Via2l0LXRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwiLW1zLXRyYW5zZm9ybSIsInZhcmlhYmxlIiwibXNnU3R5bGUiLCJ3YXJuIiwiZXh0ZW5zaW9uIiwibmFtZUF0dHIiLCJ0b0xvd2VyQ2FzZSIsImlkQXR0ciIsInByb3BlcnR5TmFtZSIsInRvIiwiZHVyYXRpb24iLCJzdGFydCIsInNlbGYiLCJzY3JvbGxMZWZ0IiwiZ2V0U2Nyb2xsZWRQb3NpdGlvbiIsImNoYW5nZSIsImN1cnJlbnRUaW1lIiwiYW5pbWF0ZVNjcm9sbCIsInZhbCIsIkl0ZW0iLCJpc0xhc3QiLCJpc0ZpcnN0IiwialF1ZXJ5IiwiZXh0ZW5kIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImZ1bGxwYWdlX2pzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdB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RUFBQUMsS0FBQSxHQUFBbUwsSUFOQXhMLE9BQUFxTCxTQUFBbEksVUFBQSxrRUFMQSxDQWFLbkQsT0FBQTBzQixPQUFBMXNCLE9BQUFJLHdDQ3ZtSUwxQyxFQUFBa0IsRUFBQWd1QixHQUFBLElBQUFDLEVBQUFudkIsRUFBQSxHQWNBLElBZEFBLEVBQUE2QixFQUFBc3RCLEdBYzJCOWxCLEdBQVEsZUFDbkNvRixZQUFBLEVBQ0EwQyxjQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCIvKiFcclxuICogZnVsbFBhZ2UgMy4wLjhcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2FsdmFyb3RyaWdvL2Z1bGxQYWdlLmpzXHJcbiAqXHJcbiAqIEBsaWNlbnNlIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2Ugb25seVxyXG4gKiBvciBGdWxscGFnZSBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXHJcbiAqIGh0dHA6Ly9hbHZhcm90cmlnby5jb20vZnVsbFBhZ2UvcHJpY2luZy9cclxuICpcclxuICogQ29weXJpZ2h0IChDKSAyMDE4IGh0dHA6Ly9hbHZhcm90cmlnby5jb20vZnVsbFBhZ2UgLSBBIHByb2plY3QgYnkgQWx2YXJvIFRyaWdvXHJcbiAqL1xyXG4oZnVuY3Rpb24oIHJvb3QsIHdpbmRvdywgZG9jdW1lbnQsIGZhY3RvcnksIHVuZGVmaW5lZCkge1xyXG4gICAgaWYoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcclxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXHJcbiAgICAgICAgZGVmaW5lKCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcm9vdC5mdWxscGFnZSA9IGZhY3Rvcnkod2luZG93LCBkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIHJldHVybiByb290LmZ1bGxwYWdlO1xyXG4gICAgICAgIH0gKTtcclxuICAgIH0gZWxzZSBpZiggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xyXG4gICAgICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMuXHJcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHdpbmRvdywgZG9jdW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMuXHJcbiAgICAgICAgd2luZG93LmZ1bGxwYWdlID0gZmFjdG9yeSh3aW5kb3csIGRvY3VtZW50KTtcclxuICAgIH1cclxufSh0aGlzLCB3aW5kb3csIGRvY3VtZW50LCBmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50KXtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICAvLyBrZWVwaW5nIGNlbnRyYWwgc2V0IG9mIGNsYXNzbmFtZXMgYW5kIHNlbGVjdG9yc1xyXG4gICAgdmFyIFdSQVBQRVIgPSAgICAgICAgICAgICAgICdmdWxscGFnZS13cmFwcGVyJztcclxuICAgIHZhciBXUkFQUEVSX1NFTCA9ICAgICAgICAgICAnLicgKyBXUkFQUEVSO1xyXG5cclxuICAgIC8vIHNsaW1zY3JvbGxcclxuICAgIHZhciBTQ1JPTExBQkxFID0gICAgICAgICAgICAnZnAtc2Nyb2xsYWJsZSc7XHJcbiAgICB2YXIgU0NST0xMQUJMRV9TRUwgPSAgICAgICAgJy4nICsgU0NST0xMQUJMRTtcclxuXHJcbiAgICAvLyB1dGlsXHJcbiAgICB2YXIgUkVTUE9OU0lWRSA9ICAgICAgICAgICAgJ2ZwLXJlc3BvbnNpdmUnO1xyXG4gICAgdmFyIE5PX1RSQU5TSVRJT04gPSAgICAgICAgICdmcC1ub3RyYW5zaXRpb24nO1xyXG4gICAgdmFyIERFU1RST1lFRCA9ICAgICAgICAgICAgICdmcC1kZXN0cm95ZWQnO1xyXG4gICAgdmFyIEVOQUJMRUQgPSAgICAgICAgICAgICAgICdmcC1lbmFibGVkJztcclxuICAgIHZhciBWSUVXSU5HX1BSRUZJWCA9ICAgICAgICAnZnAtdmlld2luZyc7XHJcbiAgICB2YXIgQUNUSVZFID0gICAgICAgICAgICAgICAgJ2FjdGl2ZSc7XHJcbiAgICB2YXIgQUNUSVZFX1NFTCA9ICAgICAgICAgICAgJy4nICsgQUNUSVZFO1xyXG4gICAgdmFyIENPTVBMRVRFTFkgPSAgICAgICAgICAgICdmcC1jb21wbGV0ZWx5JztcclxuICAgIHZhciBDT01QTEVURUxZX1NFTCA9ICAgICAgICAnLicgKyBDT01QTEVURUxZO1xyXG5cclxuICAgIC8vIHNlY3Rpb25cclxuICAgIHZhciBTRUNUSU9OX0RFRkFVTFRfU0VMID0gICAnLnNlY3Rpb24nO1xyXG4gICAgdmFyIFNFQ1RJT04gPSAgICAgICAgICAgICAgICdmcC1zZWN0aW9uJztcclxuICAgIHZhciBTRUNUSU9OX1NFTCA9ICAgICAgICAgICAnLicgKyBTRUNUSU9OO1xyXG4gICAgdmFyIFNFQ1RJT05fQUNUSVZFX1NFTCA9ICAgIFNFQ1RJT05fU0VMICsgQUNUSVZFX1NFTDtcclxuICAgIHZhciBUQUJMRV9DRUxMID0gICAgICAgICAgICAnZnAtdGFibGVDZWxsJztcclxuICAgIHZhciBUQUJMRV9DRUxMX1NFTCA9ICAgICAgICAnLicgKyBUQUJMRV9DRUxMO1xyXG4gICAgdmFyIEFVVE9fSEVJR0hUID0gICAgICAgICAgICdmcC1hdXRvLWhlaWdodCc7XHJcbiAgICB2YXIgQVVUT19IRUlHSFRfU0VMID0gICAgICAgJy4nICsgQVVUT19IRUlHSFQ7XHJcbiAgICB2YXIgQVVUT19IRUlHSFRfUkVTUE9OU0lWRSA9ICdmcC1hdXRvLWhlaWdodC1yZXNwb25zaXZlJztcclxuICAgIHZhciBBVVRPX0hFSUdIVF9SRVNQT05TSVZFX1NFTCA9ICcuJyArIEFVVE9fSEVJR0hUX1JFU1BPTlNJVkU7XHJcbiAgICB2YXIgTk9STUFMX1NDUk9MTCA9ICAgICAgICAgJ2ZwLW5vcm1hbC1zY3JvbGwnO1xyXG4gICAgdmFyIE5PUk1BTF9TQ1JPTExfU0VMID0gICAgICcuJyArIE5PUk1BTF9TQ1JPTEw7XHJcblxyXG4gICAgLy8gc2VjdGlvbiBuYXZcclxuICAgIHZhciBTRUNUSU9OX05BViA9ICAgICAgICAgICAnZnAtbmF2JztcclxuICAgIHZhciBTRUNUSU9OX05BVl9TRUwgPSAgICAgICAnIycgKyBTRUNUSU9OX05BVjtcclxuICAgIHZhciBTRUNUSU9OX05BVl9UT09MVElQID0gICAnZnAtdG9vbHRpcCc7XHJcbiAgICB2YXIgU0VDVElPTl9OQVZfVE9PTFRJUF9TRUw9Jy4nK1NFQ1RJT05fTkFWX1RPT0xUSVA7XHJcbiAgICB2YXIgU0hPV19BQ1RJVkVfVE9PTFRJUCA9ICAgJ2ZwLXNob3ctYWN0aXZlJztcclxuXHJcbiAgICAvLyBzbGlkZVxyXG4gICAgdmFyIFNMSURFX0RFRkFVTFRfU0VMID0gICAgICcuc2xpZGUnO1xyXG4gICAgdmFyIFNMSURFID0gICAgICAgICAgICAgICAgICdmcC1zbGlkZSc7XHJcbiAgICB2YXIgU0xJREVfU0VMID0gICAgICAgICAgICAgJy4nICsgU0xJREU7XHJcbiAgICB2YXIgU0xJREVfQUNUSVZFX1NFTCA9ICAgICAgU0xJREVfU0VMICsgQUNUSVZFX1NFTDtcclxuICAgIHZhciBTTElERVNfV1JBUFBFUiA9ICAgICAgICAnZnAtc2xpZGVzJztcclxuICAgIHZhciBTTElERVNfV1JBUFBFUl9TRUwgPSAgICAnLicgKyBTTElERVNfV1JBUFBFUjtcclxuICAgIHZhciBTTElERVNfQ09OVEFJTkVSID0gICAgICAnZnAtc2xpZGVzQ29udGFpbmVyJztcclxuICAgIHZhciBTTElERVNfQ09OVEFJTkVSX1NFTCA9ICAnLicgKyBTTElERVNfQ09OVEFJTkVSO1xyXG4gICAgdmFyIFRBQkxFID0gICAgICAgICAgICAgICAgICdmcC10YWJsZSc7XHJcblxyXG4gICAgLy8gc2xpZGUgbmF2XHJcbiAgICB2YXIgU0xJREVTX05BViA9ICAgICAgICAgICAgJ2ZwLXNsaWRlc05hdic7XHJcbiAgICB2YXIgU0xJREVTX05BVl9TRUwgPSAgICAgICAgJy4nICsgU0xJREVTX05BVjtcclxuICAgIHZhciBTTElERVNfTkFWX0xJTktfU0VMID0gICBTTElERVNfTkFWX1NFTCArICcgYSc7XHJcbiAgICB2YXIgU0xJREVTX0FSUk9XID0gICAgICAgICAgJ2ZwLWNvbnRyb2xBcnJvdyc7XHJcbiAgICB2YXIgU0xJREVTX0FSUk9XX1NFTCA9ICAgICAgJy4nICsgU0xJREVTX0FSUk9XO1xyXG4gICAgdmFyIFNMSURFU19QUkVWID0gICAgICAgICAgICdmcC1wcmV2JztcclxuICAgIHZhciBTTElERVNfUFJFVl9TRUwgPSAgICAgICAnLicgKyBTTElERVNfUFJFVjtcclxuICAgIHZhciBTTElERVNfQVJST1dfUFJFViA9ICAgICBTTElERVNfQVJST1cgKyAnICcgKyBTTElERVNfUFJFVjtcclxuICAgIHZhciBTTElERVNfQVJST1dfUFJFVl9TRUwgPSBTTElERVNfQVJST1dfU0VMICsgU0xJREVTX1BSRVZfU0VMO1xyXG4gICAgdmFyIFNMSURFU19ORVhUID0gICAgICAgICAgICdmcC1uZXh0JztcclxuICAgIHZhciBTTElERVNfTkVYVF9TRUwgPSAgICAgICAnLicgKyBTTElERVNfTkVYVDtcclxuICAgIHZhciBTTElERVNfQVJST1dfTkVYVCA9ICAgICBTTElERVNfQVJST1cgKyAnICcgKyBTTElERVNfTkVYVDtcclxuICAgIHZhciBTTElERVNfQVJST1dfTkVYVF9TRUwgPSBTTElERVNfQVJST1dfU0VMICsgU0xJREVTX05FWFRfU0VMO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2UoY29udGFpbmVyU2VsZWN0b3IsIG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgaXNPSyA9IG9wdGlvbnMgJiYgbmV3IFJlZ0V4cCgnKFtcXFxcZFxcXFx3XXs4fS0pezN9W1xcXFxkXFxcXHddezh9fF4oPz0uKj9bQS1ZXSkoPz0uKj9bYS15XSkoPz0uKj9bMC04XSkoPz0uKj9bIz8hQCQlXiYqLV0pLns4LH0kJykudGVzdChvcHRpb25zWydsaScrJ2NlbicrJ3NlSycgKyAnZScgKyAneSddKSB8fCBkb2N1bWVudC5kb21haW4uaW5kZXhPZignYWwnKyd2YXJvdHJpJyArJ2dvJyArICcuJyArICdjb20nKSA+IC0xO1xyXG5cclxuICAgICAgICAvLyBjYWNoZSBjb21tb24gZWxlbWVudHNcclxuICAgICAgICB2YXIgJGh0bWxCb2R5ID0gJCgnaHRtbCwgYm9keScpO1xyXG4gICAgICAgIHZhciAkaHRtbCA9ICQoJ2h0bWwnKVswXTtcclxuICAgICAgICB2YXIgJGJvZHkgPSAkKCdib2R5JylbMF07XHJcblxyXG4gICAgICAgIC8vb25seSBvbmNlIG15IGZyaWVuZCFcclxuICAgICAgICBpZihoYXNDbGFzcygkaHRtbCwgRU5BQkxFRCkpeyBkaXNwbGF5V2FybmluZ3MoKTsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIHZhciBGUCA9IHt9O1xyXG5cclxuICAgICAgICAvLyBDcmVhdGluZyBzb21lIGRlZmF1bHRzLCBleHRlbmRpbmcgdGhlbSB3aXRoIGFueSBvcHRpb25zIHRoYXQgd2VyZSBwcm92aWRlZFxyXG4gICAgICAgIG9wdGlvbnMgPSBkZWVwRXh0ZW5kKHtcclxuICAgICAgICAgICAgLy9uYXZpZ2F0aW9uXHJcbiAgICAgICAgICAgIG1lbnU6IGZhbHNlLFxyXG4gICAgICAgICAgICBhbmNob3JzOltdLFxyXG4gICAgICAgICAgICBsb2NrQW5jaG9yczogZmFsc2UsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb246IGZhbHNlLFxyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uUG9zaXRpb246ICdyaWdodCcsXHJcbiAgICAgICAgICAgIG5hdmlnYXRpb25Ub29sdGlwczogW10sXHJcbiAgICAgICAgICAgIHNob3dBY3RpdmVUb29sdGlwOiBmYWxzZSxcclxuICAgICAgICAgICAgc2xpZGVzTmF2aWdhdGlvbjogZmFsc2UsXHJcbiAgICAgICAgICAgIHNsaWRlc05hdlBvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICAgICAgc2Nyb2xsQmFyOiBmYWxzZSxcclxuICAgICAgICAgICAgaHlicmlkOiBmYWxzZSxcclxuXHJcbiAgICAgICAgICAgIC8vc2Nyb2xsaW5nXHJcbiAgICAgICAgICAgIGNzczM6IHRydWUsXHJcbiAgICAgICAgICAgIHNjcm9sbGluZ1NwZWVkOiA3MDAsXHJcbiAgICAgICAgICAgIGF1dG9TY3JvbGxpbmc6IHRydWUsXHJcbiAgICAgICAgICAgIGZpdFRvU2VjdGlvbjogdHJ1ZSxcclxuICAgICAgICAgICAgZml0VG9TZWN0aW9uRGVsYXk6IDEwMDAsXHJcbiAgICAgICAgICAgIGVhc2luZzogJ2Vhc2VJbk91dEN1YmljJyxcclxuICAgICAgICAgICAgZWFzaW5nY3NzMzogJ2Vhc2UnLFxyXG4gICAgICAgICAgICBsb29wQm90dG9tOiBmYWxzZSxcclxuICAgICAgICAgICAgbG9vcFRvcDogZmFsc2UsXHJcbiAgICAgICAgICAgIGxvb3BIb3Jpem9udGFsOiB0cnVlLFxyXG4gICAgICAgICAgICBjb250aW51b3VzVmVydGljYWw6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250aW51b3VzSG9yaXpvbnRhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIHNjcm9sbEhvcml6b250YWxseTogZmFsc2UsXHJcbiAgICAgICAgICAgIGludGVybG9ja2VkU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgZHJhZ0FuZE1vdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBvZmZzZXRTZWN0aW9uczogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlc2V0U2xpZGVyczogZmFsc2UsXHJcbiAgICAgICAgICAgIGZhZGluZ0VmZmVjdDogZmFsc2UsXHJcbiAgICAgICAgICAgIG5vcm1hbFNjcm9sbEVsZW1lbnRzOiBudWxsLFxyXG4gICAgICAgICAgICBzY3JvbGxPdmVyZmxvdzogZmFsc2UsXHJcbiAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93UmVzZXQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzY3JvbGxPdmVyZmxvd0hhbmRsZXI6IHdpbmRvdy5mcF9zY3JvbGxvdmVyZmxvdyA/IHdpbmRvdy5mcF9zY3JvbGxvdmVyZmxvdy5pc2Nyb2xsSGFuZGxlciA6IG51bGwsXHJcbiAgICAgICAgICAgIHNjcm9sbE92ZXJmbG93T3B0aW9uczogbnVsbCxcclxuICAgICAgICAgICAgdG91Y2hTZW5zaXRpdml0eTogNSxcclxuICAgICAgICAgICAgdG91Y2hXcmFwcGVyOiB0eXBlb2YgY29udGFpbmVyU2VsZWN0b3IgPT09ICdzdHJpbmcnID8gJChjb250YWluZXJTZWxlY3RvcilbMF0gOiBjb250YWluZXJTZWxlY3RvcixcclxuICAgICAgICAgICAgYmlnU2VjdGlvbnNEZXN0aW5hdGlvbjogbnVsbCxcclxuXHJcbiAgICAgICAgICAgIC8vQWNjZXNzaWJpbGl0eVxyXG4gICAgICAgICAgICBrZXlib2FyZFNjcm9sbGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgYW5pbWF0ZUFuY2hvcjogdHJ1ZSxcclxuICAgICAgICAgICAgcmVjb3JkSGlzdG9yeTogdHJ1ZSxcclxuXHJcbiAgICAgICAgICAgIC8vZGVzaWduXHJcbiAgICAgICAgICAgIGNvbnRyb2xBcnJvd3M6IHRydWUsXHJcbiAgICAgICAgICAgIGNvbnRyb2xBcnJvd0NvbG9yOiAnI2ZmZicsXHJcbiAgICAgICAgICAgIHZlcnRpY2FsQ2VudGVyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHNlY3Rpb25zQ29sb3IgOiBbXSxcclxuICAgICAgICAgICAgcGFkZGluZ1RvcDogMCxcclxuICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMCxcclxuICAgICAgICAgICAgZml4ZWRFbGVtZW50czogbnVsbCxcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZTogMCwgLy9iYWNrd2FyZHMgY29tcGFiaXRpbGl0eSB3aXRoIHJlc3BvbnNpdmVXaWRkdGhcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZVdpZHRoOiAwLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlSGVpZ2h0OiAwLFxyXG4gICAgICAgICAgICByZXNwb25zaXZlU2xpZGVzOiBmYWxzZSxcclxuICAgICAgICAgICAgcGFyYWxsYXg6IGZhbHNlLFxyXG4gICAgICAgICAgICBwYXJhbGxheE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdyZXZlYWwnLFxyXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZTogNjIsXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eTogJ3RyYW5zbGF0ZSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FyZHM6IGZhbHNlLFxyXG4gICAgICAgICAgICBjYXJkc09wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIHBlcnNwZWN0aXZlOiAxMDAsXHJcbiAgICAgICAgICAgICAgICBmYWRlQ29udGVudDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGZhZGVCYWNrZ3JvdW5kOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAvL0N1c3RvbSBzZWxlY3RvcnNcclxuICAgICAgICAgICAgc2VjdGlvblNlbGVjdG9yOiBTRUNUSU9OX0RFRkFVTFRfU0VMLFxyXG4gICAgICAgICAgICBzbGlkZVNlbGVjdG9yOiBTTElERV9ERUZBVUxUX1NFTCxcclxuXHJcbiAgICAgICAgICAgIC8vZXZlbnRzXHJcbiAgICAgICAgICAgIHYyY29tcGF0aWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGFmdGVyTG9hZDogbnVsbCxcclxuICAgICAgICAgICAgb25MZWF2ZTogbnVsbCxcclxuICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyUmVzaXplOiBudWxsLFxyXG4gICAgICAgICAgICBhZnRlclJlQnVpbGQ6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkOiBudWxsLFxyXG4gICAgICAgICAgICBvblNsaWRlTGVhdmU6IG51bGwsXHJcbiAgICAgICAgICAgIGFmdGVyUmVzcG9uc2l2ZTogbnVsbCxcclxuXHJcbiAgICAgICAgICAgIGxhenlMb2FkaW5nOiB0cnVlXHJcbiAgICAgICAgfSwgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vZmxhZyB0byBhdm9pZCB2ZXJ5IGZhc3Qgc2xpZGluZyBmb3IgbGFuZHNjYXBlIHNsaWRlcnNcclxuICAgICAgICB2YXIgc2xpZGVNb3ZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIGlzVG91Y2hEZXZpY2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8oaVBob25lfGlQb2R8aVBhZHxBbmRyb2lkfHBsYXlib29rfHNpbGt8QmxhY2tCZXJyeXxCQjEwfFdpbmRvd3MgUGhvbmV8VGl6ZW58QmFkYXx3ZWJPU3xJRU1vYmlsZXxPcGVyYSBNaW5pKS8pO1xyXG4gICAgICAgIHZhciBpc1RvdWNoID0gKCgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApIHx8IChuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpKTtcclxuICAgICAgICB2YXIgY29udGFpbmVyID0gdHlwZW9mIGNvbnRhaW5lclNlbGVjdG9yID09PSAnc3RyaW5nJyA/ICQoY29udGFpbmVyU2VsZWN0b3IpWzBdIDogY29udGFpbmVyU2VsZWN0b3I7XHJcbiAgICAgICAgdmFyIHdpbmRvd3NIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuICAgICAgICB2YXIgd2luZG93c1dpZHRoID0gZ2V0V2luZG93V2lkdGgoKTtcclxuICAgICAgICB2YXIgaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBpc1dpbmRvd0ZvY3VzZWQgPSB0cnVlO1xyXG4gICAgICAgIHZhciBsYXN0U2Nyb2xsZWREZXN0aW55O1xyXG4gICAgICAgIHZhciBsYXN0U2Nyb2xsZWRTbGlkZTtcclxuICAgICAgICB2YXIgY2FuU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2Nyb2xsaW5ncyA9IFtdO1xyXG4gICAgICAgIHZhciBjb250cm9sUHJlc3NlZDtcclxuICAgICAgICB2YXIgc3RhcnRpbmdTZWN0aW9uO1xyXG4gICAgICAgIHZhciBpc1Njcm9sbEFsbG93ZWQgPSB7fTtcclxuICAgICAgICBpc1Njcm9sbEFsbG93ZWQubSA9IHsgICd1cCc6dHJ1ZSwgJ2Rvd24nOnRydWUsICdsZWZ0Jzp0cnVlLCAncmlnaHQnOnRydWUgfTtcclxuICAgICAgICBpc1Njcm9sbEFsbG93ZWQuayA9IGRlZXBFeHRlbmQoe30sIGlzU2Nyb2xsQWxsb3dlZC5tKTtcclxuICAgICAgICB2YXIgTVNQb2ludGVyID0gZ2V0TVNQb2ludGVyKCk7XHJcbiAgICAgICAgdmFyIGV2ZW50cyA9IHtcclxuICAgICAgICAgICAgdG91Y2htb3ZlOiAnb250b3VjaG1vdmUnIGluIHdpbmRvdyA/ICd0b3VjaG1vdmUnIDogIE1TUG9pbnRlci5tb3ZlLFxyXG4gICAgICAgICAgICB0b3VjaHN0YXJ0OiAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgPyAndG91Y2hzdGFydCcgOiAgTVNQb2ludGVyLmRvd25cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBzY3JvbGxCYXJIYW5kbGVyO1xyXG5cclxuICAgICAgICAvLyB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS91ZGFjaXR5L3VkODkxL2Jsb2IvZ2gtcGFnZXMvbGVzc29uMi1mb2N1cy8wNy1tb2RhbHMtYW5kLWtleWJvYXJkLXRyYXBzL3NvbHV0aW9uL21vZGFsLmpzXHJcbiAgICAgICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nID0gJ2FbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBpZnJhbWUsIG9iamVjdCwgZW1iZWQsIFt0YWJpbmRleD1cIjBcIl0sIFtjb250ZW50ZWRpdGFibGVdJztcclxuXHJcbiAgICAgICAgLy9jaGVrcyBmb3IgcGFzc2l2ZSBldmVudCBzdXBwb3J0XHJcbiAgICAgICAgdmFyIGdfc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcclxuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBnX3N1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0UGFzc2l2ZVwiLCBudWxsLCBvcHRzKTtcclxuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFBhc3NpdmVcIiwgbnVsbCwgb3B0cyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge31cclxuXHJcbiAgICAgICAgLy90aW1lb3V0c1xyXG4gICAgICAgIHZhciByZXNpemVJZDtcclxuICAgICAgICB2YXIgcmVzaXplSGFuZGxlcklkO1xyXG4gICAgICAgIHZhciBhZnRlclNlY3Rpb25Mb2Fkc0lkO1xyXG4gICAgICAgIHZhciBhZnRlclNsaWRlTG9hZHNJZDtcclxuICAgICAgICB2YXIgc2Nyb2xsSWQ7XHJcbiAgICAgICAgdmFyIHNjcm9sbElkMjtcclxuICAgICAgICB2YXIga2V5ZG93bklkO1xyXG4gICAgICAgIHZhciBnX2RvdWJsZUNoZWNrSGVpZ2h0SWQ7XHJcbiAgICAgICAgdmFyIG9yaWdpbmFscyA9IGRlZXBFeHRlbmQoe30sIG9wdGlvbnMpOyAvL2RlZXAgY29weVxyXG4gICAgICAgIHZhciBhY3RpdmVBbmltYXRpb247XHJcbiAgICAgICAgdmFyIGdfaW5pdGlhbEFuY2hvcnNJbkRvbSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBnX2NhbkZpcmVNb3VzZUVudGVyTm9ybWFsU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICB2YXIgZ19tZWRpYUxvYWRlZElkO1xyXG4gICAgICAgIHZhciBleHRlbnNpb25zID0gW1xyXG4gICAgICAgICAgICAncGFyYWxsYXgnLFxyXG4gICAgICAgICAgICAnc2Nyb2xsT3ZlcmZsb3dSZXNldCcsXHJcbiAgICAgICAgICAgICdkcmFnQW5kTW92ZScsXHJcbiAgICAgICAgICAgICdvZmZzZXRTZWN0aW9ucycsXHJcbiAgICAgICAgICAgICdmYWRpbmdFZmZlY3QnLFxyXG4gICAgICAgICAgICAncmVzcG9uc2l2ZVNsaWRlcycsXHJcbiAgICAgICAgICAgICdjb250aW51b3VzSG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgICdpbnRlcmxvY2tlZFNsaWRlcycsXHJcbiAgICAgICAgICAgICdzY3JvbGxIb3Jpem9udGFsbHknLFxyXG4gICAgICAgICAgICAncmVzZXRTbGlkZXJzJyxcclxuICAgICAgICAgICAgJ2NhcmRzJ1xyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIGRpc3BsYXlXYXJuaW5ncygpO1xyXG5cclxuICAgICAgICAvL2Vhc2VJbk91dEN1YmljIGFuaW1hdGlvbiBpbmNsdWRlZCBpbiB0aGUgcGx1Z2luXHJcbiAgICAgICAgd2luZG93LmZwX2Vhc2luZ3MgPSBkZWVwRXh0ZW5kKHdpbmRvdy5mcF9lYXNpbmdzLCB7XHJcbiAgICAgICAgICAgIGVhc2VJbk91dEN1YmljOiBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCh0Lz1kLzIpIDwgMSkgcmV0dXJuIGMvMip0KnQqdCArIGI7cmV0dXJuIGMvMiooKHQtPTIpKnQqdCArIDIpICsgYjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdGhlIGF1dG9TY3JvbGwgb3B0aW9uLlxyXG4gICAgICAgICogSXQgY2hhbmdlcyB0aGUgc2Nyb2xsIGJhciB2aXNpYmlsaXR5IGFuZCB0aGUgaGlzdG9yeSBvZiB0aGUgc2l0ZSBhcyBhIHJlc3VsdC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEF1dG9TY3JvbGxpbmcodmFsdWUsIHR5cGUpe1xyXG4gICAgICAgICAgICAvL3JlbW92aW5nIHRoZSB0cmFuc2Zvcm1hdGlvblxyXG4gICAgICAgICAgICBpZighdmFsdWUpe1xyXG4gICAgICAgICAgICAgICAgc2lsZW50U2Nyb2xsKDApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdhdXRvU2Nyb2xsaW5nJywgdmFsdWUsIHR5cGUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgICAgIGNzcygkaHRtbEJvZHksIHtcclxuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAnaGlkZGVuJyxcclxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRSZWNvcmRIaXN0b3J5KG9yaWdpbmFscy5yZWNvcmRIaXN0b3J5LCAnaW50ZXJuYWwnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2ZvciBJRSB0b3VjaCBkZXZpY2VzXHJcbiAgICAgICAgICAgICAgICBjc3MoY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNoLWFjdGlvbic6ICdub25lJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudCAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAvL21vdmluZyB0aGUgY29udGFpbmVyIHVwXHJcbiAgICAgICAgICAgICAgICAgICAgc2lsZW50U2Nyb2xsKGVsZW1lbnQub2Zmc2V0VG9wKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjc3MoJGh0bWxCb2R5LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JyA6ICd2aXNpYmxlJyxcclxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JyA6ICdpbml0aWFsJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZEhpc3RvcnkgPSAhb3B0aW9ucy5hdXRvU2Nyb2xsaW5nID8gZmFsc2UgOiBvcmlnaW5hbHMucmVjb3JkSGlzdG9yeTtcclxuICAgICAgICAgICAgICAgIHNldFJlY29yZEhpc3RvcnkocmVjb3JkSGlzdG9yeSwgJ2ludGVybmFsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb3IgSUUgdG91Y2ggZGV2aWNlc1xyXG4gICAgICAgICAgICAgICAgY3NzKGNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgICAgICctbXMtdG91Y2gtYWN0aW9uJzogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNoLWFjdGlvbic6ICcnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB0aGUgcGFnZSB0byB0aGUgc2VjdGlvbiB3aXRoIG5vIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKGVsZW1lbnQub2Zmc2V0VG9wKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxTZXR0aW5ncy5lbGVtZW50LnNjcm9sbFRvKDAsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERlZmluZXMgd2hldGVyIHRvIHJlY29yZCB0aGUgaGlzdG9yeSBmb3IgZWFjaCBoYXNoIGNoYW5nZSBpbiB0aGUgVVJMLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0UmVjb3JkSGlzdG9yeSh2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ3JlY29yZEhpc3RvcnknLCB2YWx1ZSwgdHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERlZmluZXMgdGhlIHNjcm9sbGluZyBzcGVlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U2Nyb2xsaW5nU3BlZWQodmFsdWUsIHR5cGUpe1xyXG4gICAgICAgICAgICBzZXRWYXJpYWJsZVN0YXRlKCdzY3JvbGxpbmdTcGVlZCcsIHZhbHVlLCB0eXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyBmaXRUb1NlY3Rpb25cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEZpdFRvU2VjdGlvbih2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgICAgIHNldFZhcmlhYmxlU3RhdGUoJ2ZpdFRvU2VjdGlvbicsIHZhbHVlLCB0eXBlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyBsb2NrQW5jaG9yc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0TG9ja0FuY2hvcnModmFsdWUpe1xyXG4gICAgICAgICAgICBvcHRpb25zLmxvY2tBbmNob3JzID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgb3IgcmVtb3ZlIHRoZSBwb3NzaWJpbGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUgbW91c2Ugd2hlZWwgb3IgdGhlIHRyYWNrcGFkLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0TW91c2VXaGVlbFNjcm9sbGluZyh2YWx1ZSl7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIGFkZE1vdXNlV2hlZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgICAgICBhZGRNaWRkbGVXaGVlbEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVNb3VzZVdoZWVsSGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlTWlkZGxlV2hlZWxIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBvciByZW1vdmUgdGhlIHBvc3NpYmlsaXR5IG9mIHNjcm9sbGluZyB0aHJvdWdoIHNlY3Rpb25zIGJ5IHVzaW5nIHRoZSBtb3VzZSB3aGVlbC90cmFja3BhZCBvciB0b3VjaCBnZXN0dXJlcy5cclxuICAgICAgICAqIE9wdGlvbmFsbHkgYSBzZWNvbmQgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgdGhlIGRpcmVjdGlvbiBmb3Igd2hpY2ggdGhlIGFjdGlvbiB3aWxsIGJlIGFwcGxpZWQuXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtIGRpcmVjdGlvbnMgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGRpcmVjdGlvbiBvciBkaXJlY3Rpb25zIHNlcGFyYXRlZCBieSBjb21tYS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEFsbG93U2Nyb2xsaW5nKHZhbHVlLCBkaXJlY3Rpb25zKXtcclxuICAgICAgICAgICAgaWYodHlwZW9mIGRpcmVjdGlvbnMgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMgPSBkaXJlY3Rpb25zLnJlcGxhY2UoLyAvZywnJykuc3BsaXQoJywnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGRpcmVjdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCBkaXJlY3Rpb24sICdtJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCAnYWxsJywgJ20nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGRzIG9yIHJlbW92ZSB0aGUgbW91c2Ugd2hlZWwgaGlqYWNraW5nXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRNb3VzZUhpamFjayh2YWx1ZSl7XHJcbiAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgIHNldE1vdXNlV2hlZWxTY3JvbGxpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBhZGRUb3VjaEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBzZXRNb3VzZVdoZWVsU2Nyb2xsaW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVRvdWNoSGFuZGxlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgb3IgcmVtb3ZlIHRoZSBwb3NzaWJpbGl0eSBvZiBzY3JvbGxpbmcgdGhyb3VnaCBzZWN0aW9ucyBieSB1c2luZyB0aGUga2V5Ym9hcmQgYXJyb3cga2V5c1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0S2V5Ym9hcmRTY3JvbGxpbmcodmFsdWUsIGRpcmVjdGlvbnMpe1xyXG4gICAgICAgICAgICBpZih0eXBlb2YgZGlyZWN0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9ucyA9IGRpcmVjdGlvbnMucmVwbGFjZSgvIC9nLCcnKS5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbnMuZm9yRWFjaChmdW5jdGlvbihkaXJlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgIHNldElzU2Nyb2xsQWxsb3dlZCh2YWx1ZSwgZGlyZWN0aW9uLCAnaycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgc2V0SXNTY3JvbGxBbGxvd2VkKHZhbHVlLCAnYWxsJywgJ2snKTtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMua2V5Ym9hcmRTY3JvbGxpbmcgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBNb3ZlcyB0aGUgcGFnZSB1cCBvbmUgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVTZWN0aW9uVXAoKXtcclxuICAgICAgICAgICAgdmFyIHByZXYgPSBwcmV2VW50aWwoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLCBTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvL2xvb3BpbmcgdG8gdGhlIGJvdHRvbSBpZiB0aGVyZSdzIG5vIG1vcmUgc2VjdGlvbnMgYWJvdmVcclxuICAgICAgICAgICAgaWYgKCFwcmV2ICYmIChvcHRpb25zLmxvb3BUb3AgfHwgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwpKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2ID0gbGFzdCgkKFNFQ1RJT05fU0VMKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwcmV2ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2UocHJldiwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92ZXMgdGhlIHBhZ2UgZG93biBvbmUgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVTZWN0aW9uRG93bigpe1xyXG4gICAgICAgICAgICB2YXIgbmV4dCA9IG5leHRVbnRpbCgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0sIFNFQ1RJT05fU0VMKTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9vcGluZyB0byB0aGUgdG9wIGlmIHRoZXJlJ3Mgbm8gbW9yZSBzZWN0aW9ucyBiZWxvd1xyXG4gICAgICAgICAgICBpZighbmV4dCAmJlxyXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMubG9vcEJvdHRvbSB8fCBvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCkpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9ICQoU0VDVElPTl9TRUwpWzBdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihuZXh0ICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShuZXh0LCBudWxsLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92ZXMgdGhlIHBhZ2UgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlIHdpdGggbm8gYW5pbWF0aW9uLlxyXG4gICAgICAgICogQW5jaG9ycyBvciBpbmRleCBwb3NpdGlvbnMgY2FuIGJlIHVzZWQgYXMgcGFyYW1zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2lsZW50TW92ZVRvKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKXtcclxuICAgICAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQgKDAsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICBtb3ZlVG8oc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICBzZXRTY3JvbGxpbmdTcGVlZCAob3JpZ2luYWxzLnNjcm9sbGluZ1NwZWVkLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTW92ZXMgdGhlIHBhZ2UgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlLlxyXG4gICAgICAgICogQW5jaG9ycyBvciBpbmRleCBwb3NpdGlvbnMgY2FuIGJlIHVzZWQgYXMgcGFyYW1zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZVRvKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKXtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSBnZXRTZWN0aW9uQnlBbmNob3Ioc2VjdGlvbkFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNsaWRlQW5jaG9yICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxQYWdlQW5kU2xpZGUoc2VjdGlvbkFuY2hvciwgc2xpZGVBbmNob3IpO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZihkZXN0aW55ICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZShkZXN0aW55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTbGlkZXMgcmlnaHQgdGhlIHNsaWRlciBvZiB0aGUgYWN0aXZlIHNlY3Rpb24uXHJcbiAgICAgICAgKiBPcHRpb25hbCBgc2VjdGlvbmAgcGFyYW0uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlU2xpZGVSaWdodChzZWN0aW9uKXtcclxuICAgICAgICAgICAgbW92ZVNsaWRlKCdyaWdodCcsIHNlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTbGlkZXMgbGVmdCB0aGUgc2xpZGVyIG9mIHRoZSBhY3RpdmUgc2VjdGlvbi5cclxuICAgICAgICAqIE9wdGlvbmFsIGBzZWN0aW9uYCBwYXJhbS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVTbGlkZUxlZnQoc2VjdGlvbil7XHJcbiAgICAgICAgICAgIG1vdmVTbGlkZSgnbGVmdCcsIHNlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2hlbiByZXNpemluZyBpcyBmaW5pc2hlZCwgd2UgYWRqdXN0IHRoZSBzbGlkZXMgc2l6ZXMgYW5kIHBvc2l0aW9uc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlQnVpbGQocmVzaXppbmcpe1xyXG4gICAgICAgICAgICBpZihoYXNDbGFzcyhjb250YWluZXIsIERFU1RST1lFRCkpeyByZXR1cm47IH0gIC8vbm90aGluZyB0byBkbyBpZiB0aGUgcGx1Z2luIHdhcyBkZXN0cm95ZWRcclxuXHJcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy91cGRhdGluZyBnbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICB3aW5kb3dzSGVpZ2h0ID0gZ2V0V2luZG93SGVpZ2h0KCk7XHJcbiAgICAgICAgICAgIHdpbmRvd3NXaWR0aCA9IGdldFdpbmRvd1dpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbnMgPSAkKFNFQ1RJT05fU0VMKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWN0aW9ucy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZXNXcmFwID0gJChTTElERVNfV1JBUFBFUl9TRUwsIHNlY3Rpb24pWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlcyA9ICQoU0xJREVfU0VMLCBzZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2FkanVzdGluZyB0aGUgaGVpZ2h0IG9mIHRoZSB0YWJsZS1jZWxsIGZvciBJRSBhbmQgRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBjc3MoJChUQUJMRV9DRUxMX1NFTCwgc2VjdGlvbiksIHsnaGVpZ2h0JzogZ2V0VGFibGVIZWlnaHQoc2VjdGlvbikgKyAncHgnfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY3NzKHNlY3Rpb24sIHsnaGVpZ2h0Jzogd2luZG93c0hlaWdodCArICdweCd9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2FkanVzdGluZyB0aGUgcG9zaXRpb24gZm8gdGhlIEZVTEwgV0lEVEggc2xpZGVzLi4uXHJcbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzV3JhcCwgJChTTElERV9BQ1RJVkVfU0VMLCBzbGlkZXNXcmFwKVswXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsQmFySGFuZGxlci5jcmVhdGVTY3JvbGxCYXJGb3JBbGwoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBpbmRleChhY3RpdmVTZWN0aW9uLCBTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvL2lzbid0IGl0IHRoZSBmaXJzdCBzZWN0aW9uP1xyXG4gICAgICAgICAgICBpZihzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgLy9hZGp1c3RpbmcgdGhlIHBvc2l0aW9uIGZvciB0aGUgY3VycmVudCBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICBzaWxlbnRNb3ZlVG8oc2VjdGlvbkluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc2l6ZSApICYmIHJlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZXNpemUuY2FsbChjb250YWluZXIsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24oIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkICkgJiYgIXJlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZUJ1aWxkLmNhbGwoY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgZnVsbHBhZ2UuanMgaXMgaW4gcmVzcG9uc2l2ZSBtb2RlIG9yIG5vdC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzUmVzcG9uc2l2ZU1vZGUoKXtcclxuICAgICAgICAgICByZXR1cm4gaGFzQ2xhc3MoJGJvZHksIFJFU1BPTlNJVkUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBUdXJucyBmdWxsUGFnZS5qcyB0byBub3JtYWwgc2Nyb2xsaW5nIG1vZGUgd2hlbiB0aGUgdmlld3BvcnQgYHdpZHRoYCBvciBgaGVpZ2h0YFxyXG4gICAgICAgICogYXJlIHNtYWxsZXIgdGhhbiB0aGUgc2V0IGxpbWl0IHZhbHVlcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldFJlc3BvbnNpdmUoYWN0aXZlKXtcclxuICAgICAgICAgICAgdmFyIGlzUmVzcG9uc2l2ZSA9IGlzUmVzcG9uc2l2ZU1vZGUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGFjdGl2ZSl7XHJcbiAgICAgICAgICAgICAgICBpZighaXNSZXNwb25zaXZlKXtcclxuICAgICAgICAgICAgICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nKGZhbHNlLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRGaXRUb1NlY3Rpb24oZmFsc2UsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGhpZGUoJChTRUNUSU9OX05BVl9TRUwpKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcygkYm9keSwgUkVTUE9OU0lWRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlclJlc3BvbnNpdmUgKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJSZXNwb25zaXZlLmNhbGwoIGNvbnRhaW5lciwgYWN0aXZlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vd2hlbiBvbiBwYWdlIGxvYWQsIHdlIHdpbGwgcmVtb3ZlIHNjcm9sbG92ZXJmbG93IGlmIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxCYXJIYW5kbGVyLmNyZWF0ZVNjcm9sbEJhckZvckFsbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGlzUmVzcG9uc2l2ZSl7XHJcbiAgICAgICAgICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nKG9yaWdpbmFscy5hdXRvU2Nyb2xsaW5nLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgICAgIHNldEZpdFRvU2VjdGlvbihvcmlnaW5hbHMuYXV0b1Njcm9sbGluZywgJ2ludGVybmFsJyk7XHJcbiAgICAgICAgICAgICAgICBzaG93KCQoU0VDVElPTl9OQVZfU0VMKSk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkYm9keSwgUkVTUE9OU0lWRSk7XHJcbiAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyUmVzcG9uc2l2ZSApKXtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmFmdGVyUmVzcG9uc2l2ZS5jYWxsKCBjb250YWluZXIsIGFjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKGNvbnRhaW5lcil7XHJcbiAgICAgICAgICAgIC8vcHVibGljIGZ1bmN0aW9uc1xyXG4gICAgICAgICAgICBGUC52ZXJzaW9uID0gJzMuMC44JztcclxuICAgICAgICAgICAgRlAuc2V0QXV0b1Njcm9sbGluZyA9IHNldEF1dG9TY3JvbGxpbmc7XHJcbiAgICAgICAgICAgIEZQLnNldFJlY29yZEhpc3RvcnkgPSBzZXRSZWNvcmRIaXN0b3J5O1xyXG4gICAgICAgICAgICBGUC5zZXRTY3JvbGxpbmdTcGVlZCA9IHNldFNjcm9sbGluZ1NwZWVkO1xyXG4gICAgICAgICAgICBGUC5zZXRGaXRUb1NlY3Rpb24gPSBzZXRGaXRUb1NlY3Rpb247XHJcbiAgICAgICAgICAgIEZQLnNldExvY2tBbmNob3JzID0gc2V0TG9ja0FuY2hvcnM7XHJcbiAgICAgICAgICAgIEZQLnNldE1vdXNlV2hlZWxTY3JvbGxpbmcgPSBzZXRNb3VzZVdoZWVsU2Nyb2xsaW5nO1xyXG4gICAgICAgICAgICBGUC5zZXRBbGxvd1Njcm9sbGluZyA9IHNldEFsbG93U2Nyb2xsaW5nO1xyXG4gICAgICAgICAgICBGUC5zZXRLZXlib2FyZFNjcm9sbGluZyA9IHNldEtleWJvYXJkU2Nyb2xsaW5nO1xyXG4gICAgICAgICAgICBGUC5tb3ZlU2VjdGlvblVwID0gbW92ZVNlY3Rpb25VcDtcclxuICAgICAgICAgICAgRlAubW92ZVNlY3Rpb25Eb3duID0gbW92ZVNlY3Rpb25Eb3duO1xyXG4gICAgICAgICAgICBGUC5zaWxlbnRNb3ZlVG8gPSBzaWxlbnRNb3ZlVG87XHJcbiAgICAgICAgICAgIEZQLm1vdmVUbyA9IG1vdmVUbztcclxuICAgICAgICAgICAgRlAubW92ZVNsaWRlUmlnaHQgPSBtb3ZlU2xpZGVSaWdodDtcclxuICAgICAgICAgICAgRlAubW92ZVNsaWRlTGVmdCA9IG1vdmVTbGlkZUxlZnQ7XHJcbiAgICAgICAgICAgIEZQLmZpdFRvU2VjdGlvbiA9IGZpdFRvU2VjdGlvbjtcclxuICAgICAgICAgICAgRlAucmVCdWlsZCA9IHJlQnVpbGQ7XHJcbiAgICAgICAgICAgIEZQLnNldFJlc3BvbnNpdmUgPSBzZXRSZXNwb25zaXZlO1xyXG4gICAgICAgICAgICBGUC5nZXRGdWxscGFnZURhdGEgPSBmdW5jdGlvbigpeyByZXR1cm4gb3B0aW9uczsgfTtcclxuICAgICAgICAgICAgRlAuZGVzdHJveSA9IGRlc3Ryb3k7XHJcbiAgICAgICAgICAgIEZQLmdldEFjdGl2ZVNlY3Rpb24gPSBnZXRBY3RpdmVTZWN0aW9uO1xyXG4gICAgICAgICAgICBGUC5nZXRBY3RpdmVTbGlkZSA9IGdldEFjdGl2ZVNsaWRlO1xyXG5cclxuICAgICAgICAgICAgRlAudGVzdCA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogJzBweCcsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUzZDogJ3RyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpJyxcclxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTNkSDogKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgJChvcHRpb25zLnNlY3Rpb25TZWxlY3RvciwgY29udGFpbmVyKS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaCgndHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCknKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgJChvcHRpb25zLnNlY3Rpb25TZWxlY3RvciwgY29udGFpbmVyKS5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGEucHVzaCgwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHNldEF1dG9TY3JvbGxpbmc6IHNldEF1dG9TY3JvbGxpbmdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZnVuY3Rpb25zIHdlIHdhbnQgdG8gc2hhcmUgYWNyb3NzIGZpbGVzIGJ1dCB3aGljaCBhcmUgbm90XHJcbiAgICAgICAgICAgIC8vbWVhbiB0byBiZSB1c2VkIG9uIHRoZWlyIG93biBieSBkZXZlbG9wZXJzXHJcbiAgICAgICAgICAgIEZQLnNoYXJlZCA9IHtcclxuICAgICAgICAgICAgICAgIGFmdGVyUmVuZGVyQWN0aW9uczogYWZ0ZXJSZW5kZXJBY3Rpb25zLFxyXG4gICAgICAgICAgICAgICAgaXNOb3JtYWxTY3JvbGxFbGVtZW50OiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgd2luZG93LmZ1bGxwYWdlX2FwaSA9IEZQO1xyXG5cclxuICAgICAgICAgICAgLy91c2luZyBqUXVlcnkgaW5pdGlhbGl6YXRpb24/IENyZWF0aW5nIHRoZSAkLmZuLmZ1bGxwYWdlIG9iamVjdFxyXG4gICAgICAgICAgICBpZihvcHRpb25zLiQpe1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoRlApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyAgICBcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLiQuZm4uZnVsbHBhZ2Vba2V5XSA9IEZQW2tleV07ICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaW5pdCgpO1xyXG5cclxuICAgICAgICAgICAgYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaW5pdCgpe1xyXG4gICAgICAgICAgICAvL2lmIGNzczMgaXMgbm90IHN1cHBvcnRlZCwgaXQgd2lsbCB1c2UgalF1ZXJ5IGFuaW1hdGlvbnNcclxuICAgICAgICAgICAgaWYob3B0aW9ucy5jc3MzKXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuY3NzMyA9IHN1cHBvcnQzZCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLnNjcm9sbEJhciA9IG9wdGlvbnMuc2Nyb2xsQmFyIHx8IG9wdGlvbnMuaHlicmlkO1xyXG5cclxuICAgICAgICAgICAgc2V0T3B0aW9uc0Zyb21ET00oKTtcclxuICAgICAgICAgICAgcHJlcGFyZURvbSgpO1xyXG4gICAgICAgICAgICBzZXRBbGxvd1Njcm9sbGluZyh0cnVlKTtcclxuICAgICAgICAgICAgc2V0TW91c2VIaWphY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgIHNldEF1dG9TY3JvbGxpbmcob3B0aW9ucy5hdXRvU2Nyb2xsaW5nLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgcmVzcG9uc2l2ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy9zZXR0aW5nIHRoZSBjbGFzcyBmb3IgdGhlIGJvZHkgZWxlbWVudFxyXG4gICAgICAgICAgICBzZXRCb2R5Q2xhc3MoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpe1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9BbmNob3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHNjcm9sbFRvQW5jaG9yKTtcclxuXHJcbiAgICAgICAgICAgIC8vaWYgd2UgdXNlIHNjcm9sbE92ZXJmbG93IHdlJ2xsIGZpcmUgYWZ0ZXJSZW5kZXIgaW4gdGhlIHNjcm9sbG92ZXJmbG93IGZpbGVcclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXJBY3Rpb25zKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvdWJsZUNoZWNrSGVpZ2h0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBiaW5kRXZlbnRzKCl7XHJcblxyXG4gICAgICAgICAgICAvL3doZW4gc2Nyb2xsaW5nLi4uXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vZGV0ZWN0aW5nIGFueSBjaGFuZ2Ugb24gdGhlIFVSTCB0byBzY3JvbGwgdG8gdGhlIGdpdmVuIGFuY2hvciBsaW5rXHJcbiAgICAgICAgICAgIC8vKGEgd2F5IHRvIGRldGVjdCBiYWNrIGhpc3RvcnkgYnV0dG9uIGFzIHdlIHBsYXkgd2l0aCB0aGUgaGFzaGVzIG9uIHRoZSBVUkwpXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgaGFzaENoYW5nZUhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIG9wZW5pbmcgYSBuZXcgdGFiIChjdHJsICsgdCksIGBjb250cm9sYCB3b24ndCBiZSBwcmVzc2VkIHdoZW4gY29taW5nIGJhY2suXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgYmx1ckhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIHJlc2l6aW5nIHRoZSBzaXRlLCB3ZSBhZGp1c3QgdGhlIGhlaWdodHMgb2YgdGhlIHNlY3Rpb25zLCBzbGltU2Nyb2xsLi4uXHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vU2xpZGluZyB3aXRoIGFycm93IGtleXMsIGJvdGgsIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XHJcblxyXG4gICAgICAgICAgICAvL3RvIHByZXZlbnQgc2Nyb2xsaW5nIHdoaWxlIHpvb21pbmdcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlVcEhhbmRsZXIpO1xyXG5cclxuICAgICAgICAgICAgLy9TY3JvbGxzIHRvIHRoZSBzZWN0aW9uIHdoZW4gY2xpY2tpbmcgdGhlIG5hdmlnYXRpb24gYnVsbGV0XHJcbiAgICAgICAgICAgIC8vc2ltdWxhdGluZyB0aGUgalF1ZXJ5IC5vbignY2xpY2snKSBldmVudCB1c2luZyBkZWxlZ2F0aW9uXHJcbiAgICAgICAgICAgIFsnY2xpY2snLCAndG91Y2hzdGFydCddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBkZWxlZ2F0ZWRFdmVudHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAqIEFwcGx5aW5nIG5vcm1hbFNjcm9sbCBlbGVtZW50cy5cclxuICAgICAgICAgICAgKiBJZ25vcmluZyB0aGUgc2Nyb2xscyBvdmVyIHRoZSBzcGVjaWZpZWQgc2VsZWN0b3JzLlxyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLm5vcm1hbFNjcm9sbEVsZW1lbnRzKXtcclxuICAgICAgICAgICAgICAgIFsnbW91c2VlbnRlcicsICd0b3VjaHN0YXJ0J10uZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZvck1vdXNlTGVhdmVPclRvdWNoKGV2ZW50TmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgWydtb3VzZWxlYXZlJywgJ3RvdWNoZW5kJ10uZm9yRWFjaChmdW5jdGlvbihldmVudE5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgZm9yTW91c2VMZWF2ZU9yVG91Y2goZXZlbnROYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWxlZ2F0ZWRFdmVudHMoZSl7XHJcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIGlmKHRhcmdldCAmJiBjbG9zZXN0KHRhcmdldCwgU0VDVElPTl9OQVZfU0VMICsgJyBhJykpe1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbkJ1bGxldEhhbmRsZXIuY2FsbCh0YXJnZXQsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYobWF0Y2hlcyh0YXJnZXQsIFNFQ1RJT05fTkFWX1RPT0xUSVBfU0VMKSl7XHJcbiAgICAgICAgICAgICAgICB0b29sdGlwVGV4dEhhbmRsZXIuY2FsbCh0YXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYobWF0Y2hlcyh0YXJnZXQsIFNMSURFU19BUlJPV19TRUwpKXtcclxuICAgICAgICAgICAgICAgIHNsaWRlQXJyb3dIYW5kbGVyLmNhbGwodGFyZ2V0LCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKG1hdGNoZXModGFyZ2V0LCBTTElERVNfTkFWX0xJTktfU0VMKSB8fCBjbG9zZXN0KHRhcmdldCwgU0xJREVTX05BVl9MSU5LX1NFTCkgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBzbGlkZUJ1bGxldEhhbmRsZXIuY2FsbCh0YXJnZXQsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYoY2xvc2VzdCh0YXJnZXQsIG9wdGlvbnMubWVudSArICcgW2RhdGEtbWVudWFuY2hvcl0nKSl7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbXNIYW5kbGVyLmNhbGwodGFyZ2V0LCBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZm9yTW91c2VMZWF2ZU9yVG91Y2goZXZlbnROYW1lLCBhbGxvd1Njcm9sbGluZyl7XHJcbiAgICAgICAgICAgIC8vYSB3YXkgdG8gcGFzcyBhcmd1bWVudHMgdG8gdGhlIG9uTW91c2VFbnRlck9yTGVhdmUgZnVuY3Rpb25cclxuICAgICAgICAgICAgZG9jdW1lbnRbJ2ZwXycgKyBldmVudE5hbWVdID0gYWxsb3dTY3JvbGxpbmc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBvbk1vdXNlRW50ZXJPckxlYXZlLCB0cnVlKTsgLy9jYXB0dXJpbmcgcGhhc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uTW91c2VFbnRlck9yTGVhdmUoZSkge1xyXG4gICAgICAgICAgICB2YXIgdHlwZSA9IGUudHlwZTtcclxuICAgICAgICAgICAgdmFyIGlzSW5zaWRlT25lTm9ybWFsU2Nyb2xsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHZhciBpc1VzaW5nU2Nyb2xsT3ZlcmZsb3cgPSBvcHRpb25zLnNjcm9sbE92ZXJmbG93O1xyXG5cclxuICAgICAgICAgICAgLy9vbk1vdXNlTGVhdmUgd2lsbCB1c2UgdGhlIGRlc3RpbmF0aW9uIHRhcmdldCwgbm90IHRoZSBvbmUgd2UgYXJlIG1vdmluZyBhd2F5IGZyb21cclxuICAgICAgICAgICAgdmFyIHRhcmdldCA9IHR5cGUgPT09ICdtb3VzZWxlYXZlJyA/IGUudG9FbGVtZW50IHx8IGUucmVsYXRlZFRhcmdldCA6IGUudGFyZ2V0O1xyXG5cclxuICAgICAgICAgICAgLy9jb21pbmcgZnJvbSBjbG9zaW5nIGEgbm9ybWFsU2Nyb2xsRWxlbWVudHMgbW9kYWwgb3IgbW92aW5nIG91dHNpZGUgdmlld3BvcnQ/XHJcbiAgICAgICAgICAgIGlmKHRhcmdldCA9PSBkb2N1bWVudCB8fCAhdGFyZ2V0KXtcclxuICAgICAgICAgICAgICAgIHNldE1vdXNlSGlqYWNrKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGlzVXNpbmdTY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIuc2V0SXNjcm9sbCh0YXJnZXQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZih0eXBlID09PSAndG91Y2hlbmQnKXtcclxuICAgICAgICAgICAgICAgIGdfY2FuRmlyZU1vdXNlRW50ZXJOb3JtYWxTY3JvbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBnX2NhbkZpcmVNb3VzZUVudGVyTm9ybWFsU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIDgwMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyBtb3VzZWVudGVyIGV2ZW50IHRvIGRvIGFueXRoaW5nIHdoZW4gY29taW5nIGZyb20gYSB0b3VjaEVuZCBldmVudFxyXG4gICAgICAgICAgICAvL2ZpeGluZyBpc3N1ZSAjMzU3NlxyXG4gICAgICAgICAgICBpZih0eXBlID09PSAnbW91c2VlbnRlcicgJiYgIWdfY2FuRmlyZU1vdXNlRW50ZXJOb3JtYWxTY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgbm9ybWFsU2VsZWN0b3JzID0gb3B0aW9ucy5ub3JtYWxTY3JvbGxFbGVtZW50cy5zcGxpdCgnLCcpO1xyXG5cclxuICAgICAgICAgICAgbm9ybWFsU2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24obm9ybWFsU2VsZWN0b3Ipe1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzSW5zaWRlT25lTm9ybWFsU2Nyb2xsKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNOb3JtYWxTY3JvbGxUYXJnZXQgPSBtYXRjaGVzKHRhcmdldCwgbm9ybWFsU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2xlYXZpbmcgYSBjaGlsZCBpbnNpZGUgdGhlIG5vcm1hbFNjb2xsIGVsZW1lbnQgaXMgbm90IGxlYXZpbmcgdGhlIG5vcm1hbFNjcm9sbCAjMzY2MVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc05vcm1hbFNjcm9sbENoaWxkRm9jdXNlZCA9IGNsb3Nlc3QodGFyZ2V0LCBub3JtYWxTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzTm9ybWFsU2Nyb2xsVGFyZ2V0IHx8wqBpc05vcm1hbFNjcm9sbENoaWxkRm9jdXNlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFGUC5zaGFyZWQuaXNOb3JtYWxTY3JvbGxFbGVtZW50KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1vdXNlSGlqYWNrKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc1VzaW5nU2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnNldElzY3JvbGwodGFyZ2V0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgRlAuc2hhcmVkLmlzTm9ybWFsU2Nyb2xsRWxlbWVudCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5zaWRlT25lTm9ybWFsU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9ub3QgaW5zaWRlIGEgc2luZ2xlIG5vcm1hbCBzY3JvbGwgZWxlbWVudCBhbnltb3JlP1xyXG4gICAgICAgICAgICBpZighaXNJbnNpZGVPbmVOb3JtYWxTY3JvbGwgJiYgRlAuc2hhcmVkLmlzTm9ybWFsU2Nyb2xsRWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICBzZXRNb3VzZUhpamFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoaXNVc2luZ1Njcm9sbE92ZXJmbG93KXtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5zZXRJc2Nyb2xsKHRhcmdldCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgRlAuc2hhcmVkLmlzTm9ybWFsU2Nyb2xsRWxlbWVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIENoZWNrcyB0aGUgdmlld3BvcnQgYSBmZXcgdGltZXMgb24gYSBkZWZpbmUgaW50ZXJ2YWwgb2YgdGltZSB0byBcclxuICAgICAgICAqIHNlZSBpZiBpdCBoYXMgY2hhbmdlZCBpbiBhbnkgb2YgdGhvc2UuIElmIHRoYXQncyB0aGUgY2FzZSwgaXQgcmVzaXplcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGRvdWJsZUNoZWNrSGVpZ2h0KCl7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDE7IGkgPCA0OyBpKyspe1xyXG4gICAgICAgICAgICAgICAgZ19kb3VibGVDaGVja0hlaWdodElkID0gc2V0VGltZW91dChhZGp1c3RUb05ld1ZpZXdwb3J0LCAzNTAgKiBpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGp1c3RzIGEgc2VjdGlvbiB0byB0aGUgdmlld3BvcnQgaWYgaXQgaGFzIGNoYW5nZWQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGp1c3RUb05ld1ZpZXdwb3J0KCl7XHJcbiAgICAgICAgICAgIHZhciBuZXdXaW5kb3dIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuICAgICAgICAgICAgdmFyIG5ld1dpbmRvd1dpZHRoID0gZ2V0V2luZG93V2lkdGgoKTtcclxuXHJcbiAgICAgICAgICAgIGlmKHdpbmRvd3NIZWlnaHQgIT09IG5ld1dpbmRvd0hlaWdodCB8fCB3aW5kb3dzV2lkdGggIT09IG5ld1dpbmRvd1dpZHRoKXtcclxuICAgICAgICAgICAgICAgIHdpbmRvd3NIZWlnaHQgPSBuZXdXaW5kb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3dzV2lkdGggPSBuZXdXaW5kb3dXaWR0aDtcclxuICAgICAgICAgICAgICAgIHJlQnVpbGQodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0dGluZyBvcHRpb25zIGZyb20gRE9NIGVsZW1lbnRzIGlmIHRoZXkgYXJlIG5vdCBwcm92aWRlZC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldE9wdGlvbnNGcm9tRE9NKCl7XHJcblxyXG4gICAgICAgICAgICAvL25vIGFuY2hvcnMgb3B0aW9uPyBDaGVja2luZyBmb3IgdGhlbSBpbiB0aGUgRE9NIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvcnNBdHRyaWJ1dGUgPSAnW2RhdGEtYW5jaG9yXSc7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9ycyA9ICQob3B0aW9ucy5zZWN0aW9uU2VsZWN0b3Iuc3BsaXQoJywnKS5qb2luKGFuY2hvcnNBdHRyaWJ1dGUgKyAnLCcpICsgYW5jaG9yc0F0dHJpYnV0ZSwgY29udGFpbmVyKTtcclxuICAgICAgICAgICAgICAgIGlmKGFuY2hvcnMubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICBnX2luaXRpYWxBbmNob3JzSW5Eb20gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5hbmNob3JzLnB1c2goaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJykudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vbm8gdG9vbHRpcHMgb3B0aW9uPyBDaGVja2luZyBmb3IgdGhlbSBpbiB0aGUgRE9NIGF0dHJpYnV0ZXNcclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMubmF2aWdhdGlvblRvb2x0aXBzLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9vbHRpcHNBdHRyaWJ1dGUgPSAnW2RhdGEtdG9vbHRpcF0nO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRvb2x0aXBzID0gJChvcHRpb25zLnNlY3Rpb25TZWxlY3Rvci5zcGxpdCgnLCcpLmpvaW4odG9vbHRpcHNBdHRyaWJ1dGUgKyAnLCcpICsgdG9vbHRpcHNBdHRyaWJ1dGUsIGNvbnRhaW5lcik7XHJcbiAgICAgICAgICAgICAgICBpZih0b29sdGlwcy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubmF2aWdhdGlvblRvb2x0aXBzLnB1c2goaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdG9vbHRpcCcpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFdvcmtzIG92ZXIgdGhlIERPTSBzdHJ1Y3R1cmUgdG8gc2V0IGl0IHVwIGZvciB0aGUgY3VycmVudCBmdWxscGFnZSBvcHRpb25zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcHJlcGFyZURvbSgpe1xyXG4gICAgICAgICAgICBjc3MoY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJzEwMCUnLFxyXG4gICAgICAgICAgICAgICAgJ3Bvc2l0aW9uJzogJ3JlbGF0aXZlJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vYWRkaW5nIGEgY2xhc3MgdG8gcmVjb2duaXplIHRoZSBjb250YWluZXIgaW50ZXJuYWxseSBpbiB0aGUgY29kZVxyXG4gICAgICAgICAgICBhZGRDbGFzcyhjb250YWluZXIsIFdSQVBQRVIpO1xyXG4gICAgICAgICAgICBhZGRDbGFzcygkaHRtbCwgRU5BQkxFRCk7XHJcblxyXG4gICAgICAgICAgICAvL2R1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanMvaXNzdWVzLzE1MDJcclxuICAgICAgICAgICAgd2luZG93c0hlaWdodCA9IGdldFdpbmRvd0hlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoY29udGFpbmVyLCBERVNUUk9ZRUQpOyAvL2luIGNhc2UgaXQgd2FzIGRlc3Ryb3llZCBiZWZvcmUgaW5pdGlhbGl6aW5nIGl0IGFnYWluXHJcblxyXG4gICAgICAgICAgICBhZGRJbnRlcm5hbFNlbGVjdG9ycygpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHNlY3Rpb25zID0gJChTRUNUSU9OX1NFTCk7XHJcblxyXG4gICAgICAgICAgICAvL3N0eWxpbmcgdGhlIHNlY3Rpb25zIC8gc2xpZGVzIC8gbWVudVxyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPHNlY3Rpb25zLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBzZWN0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFX1NFTCwgc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbnVtU2xpZGVzID0gc2xpZGVzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhY2hpbmcgdGhlIG9yaWdpbmFsIHN0eWxlcyB0byBhZGQgdGhlbSBiYWNrIG9uIGRlc3Ryb3koJ2FsbCcpXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1mcC1zdHlsZXMnLCBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnc3R5bGUnKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgc3R5bGVTZWN0aW9uKHNlY3Rpb24sIHNlY3Rpb25JbmRleCk7XHJcbiAgICAgICAgICAgICAgICBzdHlsZU1lbnUoc2VjdGlvbiwgc2VjdGlvbkluZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIGFueSBzbGlkZVxyXG4gICAgICAgICAgICAgICAgaWYgKG51bVNsaWRlcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZVNsaWRlcyhzZWN0aW9uLCBzbGlkZXMsIG51bVNsaWRlcyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpZihvcHRpb25zLnZlcnRpY2FsQ2VudGVyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRUYWJsZUNsYXNzKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9maXhlZCBlbGVtZW50cyBuZWVkIHRvIGJlIG1vdmVkIG91dCBvZiB0aGUgcGx1Z2luIGNvbnRhaW5lciBkdWUgdG8gcHJvYmxlbXMgd2l0aCBDU1MzLlxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmZpeGVkRWxlbWVudHMgJiYgb3B0aW9ucy5jc3MzKXtcclxuICAgICAgICAgICAgICAgICQob3B0aW9ucy5maXhlZEVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZENoaWxkKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vdmVydGljYWwgY2VudGVyZWQgb2YgdGhlIG5hdmlnYXRpb24gKyBhY3RpdmUgYnVsbGV0XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMubmF2aWdhdGlvbil7XHJcbiAgICAgICAgICAgICAgICBhZGRWZXJ0aWNhbE5hdmlnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZW5hYmxlWW91dHViZUFQSSgpO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJIYW5kbGVyID0gb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIuaW5pdChvcHRpb25zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdHlsZXMgdGhlIGhvcml6b250YWwgc2xpZGVzIGZvciBhIHNlY3Rpb24uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzdHlsZVNsaWRlcyhzZWN0aW9uLCBzbGlkZXMsIG51bVNsaWRlcyl7XHJcbiAgICAgICAgICAgIHZhciBzbGlkZXJXaWR0aCA9IG51bVNsaWRlcyAqIDEwMDtcclxuICAgICAgICAgICAgdmFyIHNsaWRlV2lkdGggPSAxMDAgLyBudW1TbGlkZXM7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2xpZGVzV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBzbGlkZXNXcmFwcGVyLmNsYXNzTmFtZSA9IFNMSURFU19XUkFQUEVSOyAvL2ZwLXNsaWRlc1xyXG4gICAgICAgICAgICB3cmFwQWxsKHNsaWRlcywgc2xpZGVzV3JhcHBlcik7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2xpZGVzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIHNsaWRlc0NvbnRhaW5lci5jbGFzc05hbWUgPSBTTElERVNfQ09OVEFJTkVSOyAvL2ZwLXNsaWRlc0NvbnRhaW5lclxyXG4gICAgICAgICAgICB3cmFwQWxsKHNsaWRlcywgc2xpZGVzQ29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIGNzcygkKFNMSURFU19DT05UQUlORVJfU0VMLCBzZWN0aW9uKSwgeyd3aWR0aCc6IHNsaWRlcldpZHRoICsgJyUnfSk7XHJcblxyXG4gICAgICAgICAgICBpZihudW1TbGlkZXMgPiAxKXtcclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuY29udHJvbEFycm93cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2xpZGVBcnJvd3Moc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zbGlkZXNOYXZpZ2F0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRTbGlkZXNOYXZpZ2F0aW9uKHNlY3Rpb24sIG51bVNsaWRlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XHJcbiAgICAgICAgICAgICAgICBjc3Moc2xpZGUsIHsnd2lkdGgnOiBzbGlkZVdpZHRoICsgJyUnfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy52ZXJ0aWNhbENlbnRlcmVkKXtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUYWJsZUNsYXNzKHNsaWRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgc3RhcnRpbmdTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgc2VjdGlvbilbMF07XHJcblxyXG4gICAgICAgICAgICAvL2lmIHRoZSBzbGlkZSB3b24ndCBiZSBhbiBzdGFydGluZyBwb2ludCwgdGhlIGRlZmF1bHQgd2lsbCBiZSB0aGUgZmlyc3Qgb25lXHJcbiAgICAgICAgICAgIC8vdGhlIGFjdGl2ZSBzZWN0aW9uIGlzbid0IHRoZSBmaXJzdCBvbmU/IElzIG5vdCB0aGUgZmlyc3Qgc2xpZGUgb2YgdGhlIGZpcnN0IHNlY3Rpb24/IFRoZW4gd2UgbG9hZCB0aGF0IHNlY3Rpb24vc2xpZGUgYnkgZGVmYXVsdC5cclxuICAgICAgICAgICAgaWYoIHN0YXJ0aW5nU2xpZGUgIT0gbnVsbCAmJiAoaW5kZXgoJChTRUNUSU9OX0FDVElWRV9TRUwpLCBTRUNUSU9OX1NFTCkgIT09IDAgfHwgKGluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSwgU0VDVElPTl9TRUwpID09PSAwICYmIGluZGV4KHN0YXJ0aW5nU2xpZGUpICE9PSAwKSkpe1xyXG4gICAgICAgICAgICAgICAgc2lsZW50TGFuZHNjYXBlU2Nyb2xsKHN0YXJ0aW5nU2xpZGUsICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKHNsaWRlc1swXSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTdHlsaW5nIHZlcnRpY2FsIHNlY3Rpb25zXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzdHlsZVNlY3Rpb24oc2VjdGlvbiwgaW5kZXgpe1xyXG4gICAgICAgICAgICAvL2lmIG5vIGFjdGl2ZSBzZWN0aW9uIGlzIGRlZmluZWQsIHRoZSAxc3Qgb25lIHdpbGwgYmUgdGhlIGRlZmF1bHQgb25lXHJcbiAgICAgICAgICAgIGlmKCFpbmRleCAmJiAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYWRkQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFydGluZ1NlY3Rpb24gPSAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF07XHJcblxyXG4gICAgICAgICAgICBjc3Moc2VjdGlvbiwgeydoZWlnaHQnOiB3aW5kb3dzSGVpZ2h0ICsgJ3B4J30pO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5wYWRkaW5nVG9wKXtcclxuICAgICAgICAgICAgICAgIGNzcyhzZWN0aW9uLCB7J3BhZGRpbmctdG9wJzogb3B0aW9ucy5wYWRkaW5nVG9wfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMucGFkZGluZ0JvdHRvbSl7XHJcbiAgICAgICAgICAgICAgICBjc3Moc2VjdGlvbiwgeydwYWRkaW5nLWJvdHRvbSc6IG9wdGlvbnMucGFkZGluZ0JvdHRvbX0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuc2VjdGlvbnNDb2xvcltpbmRleF0gIT09ICAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgY3NzKHNlY3Rpb24sIHsnYmFja2dyb3VuZC1jb2xvcic6IG9wdGlvbnMuc2VjdGlvbnNDb2xvcltpbmRleF19KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmFuY2hvcnNbaW5kZXhdICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgc2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJywgb3B0aW9ucy5hbmNob3JzW2luZGV4XSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0aGUgZGF0YS1hbmNob3IgYXR0cmlidXRlcyB0byB0aGUgbWVudSBlbGVtZW50cyBhbmQgYWN0aXZhdGVzIHRoZSBjdXJyZW50IG9uZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHN0eWxlTWVudShzZWN0aW9uLCBpbmRleCl7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbmNob3JzW2luZGV4XSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIC8vYWN0aXZhdGluZyB0aGUgbWVudSAvIG5hdiBlbGVtZW50IG9uIGxvYWRcclxuICAgICAgICAgICAgICAgIGlmKGhhc0NsYXNzKHNlY3Rpb24sIEFDVElWRSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdihvcHRpb25zLmFuY2hvcnNbaW5kZXhdLCBpbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vbW92aW5nIHRoZSBtZW51IG91dHNpZGUgdGhlIG1haW4gY29udGFpbmVyIGlmIGl0IGlzIGluc2lkZSAoYXZvaWQgcHJvYmxlbXMgd2l0aCBmaXhlZCBwb3NpdGlvbnMgd2hlbiB1c2luZyBDU1MzIHRyYW5mb3JtcylcclxuICAgICAgICAgICAgaWYob3B0aW9ucy5tZW51ICYmIG9wdGlvbnMuY3NzMyAmJiBjbG9zZXN0KCQob3B0aW9ucy5tZW51KVswXSwgV1JBUFBFUl9TRUwpICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgJChvcHRpb25zLm1lbnUpLmZvckVhY2goZnVuY3Rpb24obWVudSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LmFwcGVuZENoaWxkKG1lbnUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBpbnRlcm5hbCBjbGFzc2VzIHRvIGJlIGFibGUgdG8gcHJvdmlkZSBjdXN0b21pemFibGUgc2VsZWN0b3JzXHJcbiAgICAgICAgKiBrZWVwaW5nIHRoZSBsaW5rIHdpdGggdGhlIHN0eWxlIHNoZWV0LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkSW50ZXJuYWxTZWxlY3RvcnMoKXtcclxuICAgICAgICAgICAgYWRkQ2xhc3MoJChvcHRpb25zLnNlY3Rpb25TZWxlY3RvciwgY29udGFpbmVyKSwgU0VDVElPTik7XHJcbiAgICAgICAgICAgIGFkZENsYXNzKCQob3B0aW9ucy5zbGlkZVNlbGVjdG9yLCBjb250YWluZXIpLCBTTElERSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIENyZWF0ZXMgdGhlIGNvbnRyb2wgYXJyb3dzIGZvciB0aGUgZ2l2ZW4gc2VjdGlvblxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU2xpZGVBcnJvd3Moc2VjdGlvbil7XHJcbiAgICAgICAgICAgIHZhciBhcnJvd3MgPSBbY3JlYXRlRWxlbWVudEZyb21IVE1MKCc8ZGl2IGNsYXNzPVwiJyArIFNMSURFU19BUlJPV19QUkVWICsgJ1wiPjwvZGl2PicpLCBjcmVhdGVFbGVtZW50RnJvbUhUTUwoJzxkaXYgY2xhc3M9XCInICsgU0xJREVTX0FSUk9XX05FWFQgKyAnXCI+PC9kaXY+JyldO1xyXG4gICAgICAgICAgICBhZnRlcigkKFNMSURFU19XUkFQUEVSX1NFTCwgc2VjdGlvbilbMF0sIGFycm93cyk7XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yICE9PSAnI2ZmZicpe1xyXG4gICAgICAgICAgICAgICAgY3NzKCQoU0xJREVTX0FSUk9XX05FWFRfU0VMLCBzZWN0aW9uKSwgeydib3JkZXItY29sb3InOiAndHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgJytvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yfSk7XHJcbiAgICAgICAgICAgICAgICBjc3MoJChTTElERVNfQVJST1dfUFJFVl9TRUwsIHNlY3Rpb24pLCB7J2JvcmRlci1jb2xvcic6ICd0cmFuc3BhcmVudCAnKyBvcHRpb25zLmNvbnRyb2xBcnJvd0NvbG9yICsgJyB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCd9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwpe1xyXG4gICAgICAgICAgICAgICAgaGlkZSgkKFNMSURFU19BUlJPV19QUkVWX1NFTCwgc2VjdGlvbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIENyZWF0ZXMgYSB2ZXJ0aWNhbCBuYXZpZ2F0aW9uIGJhci5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFZlcnRpY2FsTmF2aWdhdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgbmF2aWdhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uLnNldEF0dHJpYnV0ZSgnaWQnLCBTRUNUSU9OX05BVik7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGl2VWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xyXG4gICAgICAgICAgICBuYXZpZ2F0aW9uLmFwcGVuZENoaWxkKGRpdlVsKTtcclxuXHJcbiAgICAgICAgICAgIGFwcGVuZFRvKG5hdmlnYXRpb24sICRib2R5KTtcclxuICAgICAgICAgICAgdmFyIG5hdiA9ICQoU0VDVElPTl9OQVZfU0VMKVswXTtcclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKG5hdiwgJ2ZwLScgKyBvcHRpb25zLm5hdmlnYXRpb25Qb3NpdGlvbik7XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNob3dBY3RpdmVUb29sdGlwKXtcclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKG5hdiwgU0hPV19BQ1RJVkVfVE9PTFRJUCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBsaSA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkKFNFQ1RJT05fU0VMKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbmsgPSAnJztcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFuY2hvcnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IG9wdGlvbnMuYW5jaG9yc1tpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsaSArPSAnPGxpPjxhIGhyZWY9XCIjJyArIGxpbmsgKyAnXCI+PHNwYW4gY2xhc3M9XCJmcC1zci1vbmx5XCI+JyArIGdldEJ1bGxldExpbmtOYW1lKGksICdTZWN0aW9uJykgKyAnPC9zcGFuPjxzcGFuPjwvc3Bhbj48L2E+JztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGFkZCB0b29sdGlwIGlmIG5lZWRlZCAoZGVmaW5lZCBieSB1c2VyKVxyXG4gICAgICAgICAgICAgICAgdmFyIHRvb2x0aXAgPSBvcHRpb25zLm5hdmlnYXRpb25Ub29sdGlwc1tpXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvb2x0aXAgIT09ICd1bmRlZmluZWQnICYmIHRvb2x0aXAgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGkgKz0gJzxkaXYgY2xhc3M9XCInICsgU0VDVElPTl9OQVZfVE9PTFRJUCArICcgZnAtJyArIG9wdGlvbnMubmF2aWdhdGlvblBvc2l0aW9uICsgJ1wiPicgKyB0b29sdGlwICsgJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGkgKz0gJzwvbGk+JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkKCd1bCcsIG5hdilbMF0uaW5uZXJIVE1MID0gbGk7XHJcblxyXG4gICAgICAgICAgICAvL2NlbnRlcmluZyBpdCB2ZXJ0aWNhbGx5XHJcbiAgICAgICAgICAgIGNzcygkKFNFQ1RJT05fTkFWX1NFTCksIHsnbWFyZ2luLXRvcCc6ICctJyArICgkKFNFQ1RJT05fTkFWX1NFTClbMF0ub2Zmc2V0SGVpZ2h0LzIpICsgJ3B4J30pO1xyXG5cclxuICAgICAgICAgICAgLy9hY3RpdmF0aW5nIHRoZSBjdXJyZW50IGFjdGl2ZSBzZWN0aW9uXHJcblxyXG4gICAgICAgICAgICB2YXIgYnVsbGV0ID0gJCgnbGknLCAkKFNFQ1RJT05fTkFWX1NFTClbMF0pW2luZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSwgU0VDVElPTl9TRUwpXTtcclxuICAgICAgICAgICAgYWRkQ2xhc3MoJCgnYScsIGJ1bGxldCksIEFDVElWRSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIG5hbWUgZm9yIHNjcmVlbiByZWFkZXJzIGZvciBhIHNlY3Rpb24vc2xpZGUgbmF2aWdhdGlvbiBidWxsZXQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRCdWxsZXRMaW5rTmFtZShpLCBkZWZhdWx0TmFtZSl7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLm5hdmlnYXRpb25Ub29sdGlwc1tpXVxyXG4gICAgICAgICAgICAgICAgfHwgb3B0aW9ucy5hbmNob3JzW2ldXHJcbiAgICAgICAgICAgICAgICB8fCBkZWZhdWx0TmFtZSArICcgJyArIChpKzEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIEVuYWJsZXMgdGhlIFlvdXR1YmUgdmlkZW9zIEFQSSBzbyB3ZSBjYW4gY29udHJvbCB0aGVpciBmbG93IGlmIG5lY2Vzc2FyeS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGVuYWJsZVlvdXR1YmVBUEkoKXtcclxuICAgICAgICAgICAgJCgnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbS9lbWJlZC9cIl0nLCBjb250YWluZXIpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICBhZGRVUkxQYXJhbShpdGVtLCAnZW5hYmxlanNhcGk9MScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyBhIG5ldyBwYXJhbWV0ZXIgYW5kIGl0cyB2YWx1ZSB0byB0aGUgYHNyY2Agb2YgYSBnaXZlbiBlbGVtZW50XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRVUkxQYXJhbShlbGVtZW50LCBuZXdQYXJhbSl7XHJcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFNyYyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKTtcclxuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIG9yaWdpbmFsU3JjICsgZ2V0VXJsUGFyYW1TaWduKG9yaWdpbmFsU3JjKSArIG5ld1BhcmFtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgKiBSZXR1cm5zIHRoZSBwcmVmaXggc2lnbiB0byB1c2UgZm9yIGEgbmV3IHBhcmFtZXRlciBpbiBhbiBleGlzdGVuIFVSTC5cclxuICAgICAgICAqXHJcbiAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9ICA/IHwgJlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VXJsUGFyYW1TaWduKHVybCl7XHJcbiAgICAgICAgICAgIHJldHVybiAoICEvXFw/Ly50ZXN0KCB1cmwgKSApID8gJz8nIDogJyYnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBY3Rpb25zIGFuZCBjYWxsYmFja3MgdG8gZmlyZSBhZnRlclJlbmRlclxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJSZW5kZXJBY3Rpb25zKCl7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdO1xyXG5cclxuICAgICAgICAgICAgYWRkQ2xhc3Moc2VjdGlvbiwgQ09NUExFVEVMWSk7XHJcblxyXG4gICAgICAgICAgICBsYXp5TG9hZChzZWN0aW9uKTtcclxuICAgICAgICAgICAgbGF6eUxvYWRPdGhlcnMoKTtcclxuICAgICAgICAgICAgcGxheU1lZGlhKHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5hZnRlckxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoaXNEZXN0aW55VGhlU3RhcnRpbmdTZWN0aW9uKCkgJiYgaXNGdW5jdGlvbihvcHRpb25zLmFmdGVyTG9hZCkgKXtcclxuICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnYWZ0ZXJMb2FkJywge1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlY3Rpb246IHNlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogc2VjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IG51bGwsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGNhbGxiYWNrICh0byBiZSByZW1vdmVkIGluIGEgZnV0dXJlISlcclxuICAgICAgICAgICAgICAgICAgICBhbmNob3JMaW5rOiBzZWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKSxcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IGluZGV4KHNlY3Rpb24sIFNFQ1RJT05fU0VMKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24ob3B0aW9ucy5hZnRlclJlbmRlcikpe1xyXG4gICAgICAgICAgICAgICAgZmlyZUNhbGxiYWNrKCdhZnRlclJlbmRlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERldGVybWluZXMgaWYgdGhlIFVSTCBhbmNob3IgZGVzdGlueSBpcyB0aGUgc3RhcnRpbmcgc2VjdGlvbiAodGhlIG9uZSB1c2luZyAnYWN0aXZlJyBjbGFzcyBiZWZvcmUgaW5pdGlhbGl6YXRpb24pXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpc0Rlc3RpbnlUaGVTdGFydGluZ1NlY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyIGFuY2hvciA9IGdldEFuY2hvcnNVUkwoKTtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uU2VjdGlvbiA9IGdldFNlY3Rpb25CeUFuY2hvcihhbmNob3Iuc2VjdGlvbik7XHJcbiAgICAgICAgICAgIHJldHVybiAhYW5jaG9yLnNlY3Rpb24gfHwgIWRlc3RpbmF0aW9uU2VjdGlvbiB8fCB0eXBlb2YgZGVzdGluYXRpb25TZWN0aW9uICE9PSd1bmRlZmluZWQnICYmIGluZGV4KGRlc3RpbmF0aW9uU2VjdGlvbikgPT09IGluZGV4KHN0YXJ0aW5nU2VjdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgbGFzdFNjcm9sbCA9IDA7XHJcblxyXG4gICAgICAgIC8vd2hlbiBzY3JvbGxpbmcuLi5cclxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2VjdGlvbjtcclxuXHJcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLmF1dG9TY3JvbGxpbmcgfHwgb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTY3JvbGwgPSBnZXRTY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXJlY3Rpb24gPSBnZXRTY3JvbGxEaXJlY3Rpb24oY3VycmVudFNjcm9sbCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmlzaWJsZVNlY3Rpb25JbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2NyZWVuX21pZCA9IGN1cnJlbnRTY3JvbGwgKyAoZ2V0V2luZG93SGVpZ2h0KCkgLyAyLjApO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzQXRCb3R0b20gPSAkYm9keS5vZmZzZXRIZWlnaHQgLSBnZXRXaW5kb3dIZWlnaHQoKSA9PT0gY3VycmVudFNjcm9sbDtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9ucyA9ICAkKFNFQ1RJT05fU0VMKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3doZW4gdXNpbmcgYGF1dG8taGVpZ2h0YCBmb3IgYSBzbWFsbCBsYXN0IHNlY3Rpb24gaXQgd29uJ3QgYmUgY2VudGVyZWQgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgICAgICBpZihpc0F0Qm90dG9tKXtcclxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlU2VjdGlvbkluZGV4ID0gc2VjdGlvbnMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vaXMgYXQgdG9wPyB3aGVuIHVzaW5nIGBhdXRvLWhlaWdodGAgZm9yIGEgc21hbGwgZmlyc3Qgc2VjdGlvbiBpdCB3b24ndCBiZSBjZW50ZXJlZCBpbiB0aGUgdmlld3BvcnRcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoIWN1cnJlbnRTY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVTZWN0aW9uSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vdGFraW5nIHRoZSBzZWN0aW9uIHdoaWNoIGlzIHNob3dpbmcgbW9yZSBjb250ZW50IGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uID0gc2VjdGlvbnNbaV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQaWNrIHRoZSB0aGUgbGFzdCBzZWN0aW9uIHdoaWNoIHBhc3NlcyB0aGUgbWlkZGxlIGxpbmUgb2YgdGhlIHNjcmVlbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24ub2Zmc2V0VG9wIDw9IHNjcmVlbl9taWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZWN0aW9uSW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKGlzQ29tcGxldGVseUluVmlld1BvcnQoc2Nyb2xsRGlyZWN0aW9uKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoIWhhc0NsYXNzKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSwgQ09NUExFVEVMWSkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcygkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0sIENPTVBMRVRFTFkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhzaWJsaW5ncygkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0pLCBDT01QTEVURUxZKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9nZXRpbmcgdGhlIGxhc3Qgb25lLCB0aGUgY3VycmVudCBvbmUgb24gdGhlIHNjcmVlblxyXG4gICAgICAgICAgICAgICAgY3VycmVudFNlY3Rpb24gPSBzZWN0aW9uc1t2aXNpYmxlU2VjdGlvbkluZGV4XTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3NldHRpbmcgdGhlIHZpc2libGUgc2VjdGlvbiBhcyBhY3RpdmUgd2hlbiBtYW51YWxseSBzY3JvbGxpbmdcclxuICAgICAgICAgICAgICAgIC8vZXhlY3V0aW5nIG9ubHkgb25jZSB0aGUgZmlyc3QgdGltZSB3ZSByZWFjaCB0aGUgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgaWYoIWhhc0NsYXNzKGN1cnJlbnRTZWN0aW9uLCBBQ1RJVkUpKXtcclxuICAgICAgICAgICAgICAgICAgICBpc1Njcm9sbGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlYXZpbmdTZWN0aW9uID0gJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsZWF2aW5nU2VjdGlvbkluZGV4ID0gaW5kZXgobGVhdmluZ1NlY3Rpb24sIFNFQ1RJT05fU0VMKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHlNb3ZlbWVudCA9IGdldFltb3ZlbWVudChjdXJyZW50U2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvckxpbmsgID0gY3VycmVudFNlY3Rpb24uZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSBpbmRleChjdXJyZW50U2VjdGlvbiwgU0VDVElPTl9TRUwpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSAkKFNMSURFX0FDVElWRV9TRUwsIGN1cnJlbnRTZWN0aW9uKVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGVBbmNob3JMaW5rO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3NQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlY3Rpb246IGxlYXZpbmdTZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IHNlY3Rpb25JbmRleCAtMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yTGluazogYW5jaG9yTGluayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogY3VycmVudFNlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZpbmdTZWN0aW9uOiBsZWF2aW5nU2VjdGlvbkluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHlNb3ZlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFjdGl2ZVNsaWRlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVBbmNob3JMaW5rID0gYWN0aXZlU2xpZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZUluZGV4ID0gaW5kZXgoYWN0aXZlU2xpZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FuU2Nyb2xsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoY3VycmVudFNlY3Rpb24sIEFDVElWRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzKGN1cnJlbnRTZWN0aW9uKSwgQUNUSVZFKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24oIG9wdGlvbnMub25MZWF2ZSApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnb25MZWF2ZScsIGNhbGxiYWNrc1BhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNGdW5jdGlvbiggb3B0aW9ucy5hZnRlckxvYWQgKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJlQ2FsbGJhY2soJ2FmdGVyTG9hZCcsIGNhbGxiYWNrc1BhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BNZWRpYShsZWF2aW5nU2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhenlMb2FkKGN1cnJlbnRTZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheU1lZGlhKGN1cnJlbnRTZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdihhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkZWQgdG8gZW50ZXIgaW4gaGFzaENoYW5nZSBldmVudCB3aGVuIHVzaW5nIHRoZSBtZW51IHdpdGggYW5jaG9yIGxpbmtzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsZWREZXN0aW55ID0gYW5jaG9yTGluaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZShzbGlkZUluZGV4LCBzbGlkZUFuY2hvckxpbmssIGFuY2hvckxpbmssIHNlY3Rpb25JbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL3NtYWxsIHRpbWVvdXQgaW4gb3JkZXIgdG8gYXZvaWQgZW50ZXJpbmcgaW4gaGFzaENoYW5nZSBldmVudCB3aGVuIHNjcm9sbGluZyBpcyBub3QgZmluaXNoZWQgeWV0XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNjcm9sbElkKTtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciB0aGUgYXV0byBhZGp1c3Qgb2YgdGhlIHZpZXdwb3J0IHRvIGZpdCBhIHdob2xlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsSWQyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSWQyID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNraW5nIGl0IGFnYWluIGluIGNhc2UgaXQgY2hhbmdlZCBkdXJpbmcgdGhlIGRlbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuZml0VG9TZWN0aW9uICYmXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGUgZGVzdGluYXRpb24gZWxlbWVudCBiaWdnZXIgdGhhbiB0aGUgdmlld3BvcnQ/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0ub2Zmc2V0SGVpZ2h0IDw9IHdpbmRvd3NIZWlnaHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpdFRvU2VjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5maXRUb1NlY3Rpb25EZWxheSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogRml0cyB0aGUgc2l0ZSB0byB0aGUgbmVhcmVzdCBhY3RpdmUgc2VjdGlvblxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZml0VG9TZWN0aW9uKCl7XHJcbiAgICAgICAgICAgIC8vY2hlY2tpbmcgZml0VG9TZWN0aW9uIGFnYWluIGluIGNhc2UgaXQgd2FzIHNldCB0byBmYWxzZSBiZWZvcmUgdGhlIHRpbWVvdXQgZGVsYXlcclxuICAgICAgICAgICAgaWYoY2FuU2Nyb2xsKXtcclxuICAgICAgICAgICAgICAgIC8vYWxsb3dzIHRvIHNjcm9sbCB0byBhbiBhY3RpdmUgc2VjdGlvbiBhbmRcclxuICAgICAgICAgICAgICAgIC8vaWYgdGhlIHNlY3Rpb24gaXMgYWxyZWFkeSBhY3RpdmUsIHdlIHByZXZlbnQgZmlyaW5nIGNhbGxiYWNrc1xyXG4gICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsUGFnZSgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0pO1xyXG4gICAgICAgICAgICAgICAgaXNSZXNpemluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgYWN0aXZlIHNlY3Rpb24gaGFzIHNlZW4gaW4gaXRzIHdob2xlIG9yIG5vdC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzQ29tcGxldGVseUluVmlld1BvcnQobW92ZW1lbnQpe1xyXG4gICAgICAgICAgICB2YXIgdG9wID0gJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLm9mZnNldFRvcDtcclxuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGdldFdpbmRvd0hlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgaWYobW92ZW1lbnQgPT0gJ3VwJyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm90dG9tID49IChnZXRTY3JvbGxUb3AoKSArIGdldFdpbmRvd0hlaWdodCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdG9wIDw9IGdldFNjcm9sbFRvcCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzZWN0aW9uIGlzIGluIHRoZSB2aWV3cG9ydCBvciBub3QuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpc1NlY3Rpb25JblZpZXdwb3J0IChlbCkge1xyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICB2YXIgdG9wID0gcmVjdC50b3A7XHJcbiAgICAgICAgICAgIHZhciBib3R0b20gPSByZWN0LmJvdHRvbTtcclxuXHJcbiAgICAgICAgICAgIC8vc29tZXRpbWVzIHRoZXJlJ3MgYSAxcHggb2Zmc2V0IG9uIHRoZSBib3R0b20gb2YgdGhlIHNjcmVlbiBldmVuIHdoZW4gdGhlIFxyXG4gICAgICAgICAgICAvL3NlY3Rpb24ncyBoZWlnaHQgaXMgdGhlIHdpbmRvdy5pbm5lckhlaWdodCBvbmUuIEkgZ3Vlc3MgYmVjYXVzZSBwaXhlbHMgd29uJ3QgYWxsb3cgZGVjaW1hbHMuXHJcbiAgICAgICAgICAgIC8vdXNpbmcgdGhpcyBwcmV2ZW50cyBmcm9tIGxhenlMb2FkaW5nIHRoZSBzZWN0aW9uIHRoYXQgaXMgbm90IHlldCB2aXNpYmxlIFxyXG4gICAgICAgICAgICAvLyhvbmx5IDEgcGl4ZWwgb2Zmc2V0IGlzKVxyXG4gICAgICAgICAgICB2YXIgcGl4ZWxPZmZzZXQgPSAyO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIGlzVG9wSW5WaWV3ID0gdG9wICsgcGl4ZWxPZmZzZXQgPCB3aW5kb3dzSGVpZ2h0ICYmIHRvcCA+IDA7XHJcbiAgICAgICAgICAgIHZhciBpc0JvdHRvbUluVmlldyA9IGJvdHRvbSA+IHBpeGVsT2Zmc2V0ICYmIGJvdHRvbSA8IHdpbmRvd3NIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gaXNUb3BJblZpZXcgfHwgaXNCb3R0b21JblZpZXc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIGRpcmVjdG9uIG9mIHRoZSB0aGUgc2Nyb2xsaW5nIGZpcmVkIGJ5IHRoZSBzY3JvbGwgZXZlbnQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTY3JvbGxEaXJlY3Rpb24oY3VycmVudFNjcm9sbCl7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBjdXJyZW50U2Nyb2xsID4gbGFzdFNjcm9sbCA/ICdkb3duJyA6ICd1cCc7XHJcblxyXG4gICAgICAgICAgICBsYXN0U2Nyb2xsID0gY3VycmVudFNjcm9sbDtcclxuXHJcbiAgICAgICAgICAgIC8vbmVlZGVkIGZvciBhdXRvLWhlaWdodCBzZWN0aW9ucyB0byBkZXRlcm1pbmUgaWYgd2Ugd2FudCB0byBzY3JvbGwgdG8gdGhlIHRvcCBvciBib3R0b20gb2YgdGhlIGRlc3RpbmF0aW9uXHJcbiAgICAgICAgICAgIHByZXZpb3VzRGVzdFRvcCA9IGN1cnJlbnRTY3JvbGw7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBEZXRlcm1pbmVzIHRoZSB3YXkgb2Ygc2Nyb2xsaW5nIHVwIG9yIGRvd246XHJcbiAgICAgICAgKiBieSAnYXV0b21hdGljYWxseScgc2Nyb2xsaW5nIGEgc2VjdGlvbiBvciBieSB1c2luZyB0aGUgZGVmYXVsdCBhbmQgbm9ybWFsIHNjcm9sbGluZy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbGluZyh0eXBlKXtcclxuICAgICAgICAgICAgaWYgKCFpc1Njcm9sbEFsbG93ZWQubVt0eXBlXSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxTZWN0aW9uID0gKHR5cGUgPT09ICdkb3duJykgPyBtb3ZlU2VjdGlvbkRvd24gOiBtb3ZlU2VjdGlvblVwO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsYWJsZSA9IG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLnNjcm9sbGFibGUoJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdKTtcclxuICAgICAgICAgICAgICAgIHZhciBjaGVjayA9ICh0eXBlID09PSAnZG93bicpID8gJ2JvdHRvbScgOiAndG9wJztcclxuXHJcbiAgICAgICAgICAgICAgICBpZihzY3JvbGxhYmxlICE9IG51bGwgKXtcclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBzY3JvbGxiYXIgYXQgdGhlIHN0YXJ0L2VuZCBvZiB0aGUgc2Nyb2xsP1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLmlzU2Nyb2xsZWQoY2hlY2ssIHNjcm9sbGFibGUpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2VjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZlZCB1cC9kb3duXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2VjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vIG1vdmVkIHVwL2Rvd25cclxuICAgICAgICAgICAgICAgIHNjcm9sbFNlY3Rpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIFByZXZlbnRpbmcgYm91bmNpbmcgaW4gaU9TICMyMjg1XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwcmV2ZW50Qm91bmNpbmcoZSl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiBpc1JlYWxseVRvdWNoKGUpICYmIGlzU2Nyb2xsQWxsb3dlZC5tLnVwKXtcclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgZWFzaW5nIG9uIGlPUyBkZXZpY2VzXHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRvdWNoU3RhcnRZID0gMDtcclxuICAgICAgICB2YXIgdG91Y2hTdGFydFggPSAwO1xyXG4gICAgICAgIHZhciB0b3VjaEVuZFkgPSAwO1xyXG4gICAgICAgIHZhciB0b3VjaEVuZFggPSAwO1xyXG5cclxuICAgICAgICAvKiBEZXRlY3RpbmcgdG91Y2ggZXZlbnRzXHJcblxyXG4gICAgICAgICogQXMgd2UgYXJlIGNoYW5naW5nIHRoZSB0b3AgcHJvcGVydHkgb2YgdGhlIHBhZ2Ugb24gc2Nyb2xsaW5nLCB3ZSBjYW4gbm90IHVzZSB0aGUgdHJhZGl0aW9uYWwgd2F5IHRvIGRldGVjdCBpdC5cclxuICAgICAgICAqIFRoaXMgd2F5LCB0aGUgdG91Y2hzdGFydCBhbmQgdGhlIHRvdWNoIG1vdmVzIHNob3dzIGFuIHNtYWxsIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGVtIHdoaWNoIGlzIHRoZVxyXG4gICAgICAgICogdXNlZCBvbmUgdG8gZGV0ZXJtaW5lIHRoZSBkaXJlY3Rpb24uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiB0b3VjaE1vdmVIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlU2VjdGlvbiA9IGNsb3Nlc3QoZS50YXJnZXQsIFNFQ1RJT05fU0VMKSB8fMKgJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzUmVhbGx5VG91Y2goZSkgKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICAvL3ByZXZlbnRpbmcgdGhlIGVhc2luZyBvbiBpT1MgZGV2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0b3VjaEV2ZW50cyA9IGdldEV2ZW50c1BhZ2UoZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdG91Y2hFbmRZID0gdG91Y2hFdmVudHMueTtcclxuICAgICAgICAgICAgICAgIHRvdWNoRW5kWCA9IHRvdWNoRXZlbnRzLng7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiBtb3ZlbWVudCBpbiB0aGUgWCBheHlzIGlzIGdyZWF0ZXIgdGhhbiBpbiB0aGUgWSBhbmQgdGhlIGN1cnJlY3Qgc2VjdGlvbiBoYXMgc2xpZGVzLi4uXHJcbiAgICAgICAgICAgICAgICBpZiAoJChTTElERVNfV1JBUFBFUl9TRUwsIGFjdGl2ZVNlY3Rpb24pLmxlbmd0aCAmJiBNYXRoLmFicyh0b3VjaFN0YXJ0WCAtIHRvdWNoRW5kWCkgPiAoTWF0aC5hYnModG91Y2hTdGFydFkgLSB0b3VjaEVuZFkpKSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzbGlkZU1vdmluZyAmJiBNYXRoLmFicyh0b3VjaFN0YXJ0WCAtIHRvdWNoRW5kWCkgPiAoZ2V0V2luZG93V2lkdGgoKSAvIDEwMCAqIG9wdGlvbnMudG91Y2hTZW5zaXRpdml0eSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoU3RhcnRYID4gdG91Y2hFbmRYKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQubS5yaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlUmlnaHQoYWN0aXZlU2VjdGlvbik7IC8vbmV4dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLm0ubGVmdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlTGVmdChhY3RpdmVTZWN0aW9uKTsgLy9wcmV2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy92ZXJ0aWNhbCBzY3JvbGxpbmcgKG9ubHkgd2hlbiBhdXRvU2Nyb2xsaW5nIGlzIGVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmKG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiBjYW5TY3JvbGwpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZSBtb3ZlbWVudCBncmVhdGVyIHRoYW4gdGhlIG1pbmltdW0gcmVzaXN0YW5jZSB0byBzY3JvbGw/XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRvdWNoU3RhcnRZIC0gdG91Y2hFbmRZKSA+ICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAxMDAgKiBvcHRpb25zLnRvdWNoU2Vuc2l0aXZpdHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0b3VjaFN0YXJ0WSA+IHRvdWNoRW5kWSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5nKCdkb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodG91Y2hFbmRZID4gdG91Y2hTdGFydFkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZygndXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBcyBJRSA+PSAxMCBmaXJlcyBib3RoIHRvdWNoIGFuZCBtb3VzZSBldmVudHMgd2hlbiB1c2luZyBhIG1vdXNlIGluIGEgdG91Y2hzY3JlZW5cclxuICAgICAgICAqIHRoaXMgd2F5IHdlIG1ha2Ugc3VyZSB0aGF0IGlzIHJlYWxseSBhIHRvdWNoIGV2ZW50IHdoYXQgSUUgaXMgZGV0ZWN0aW5nLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaXNSZWFsbHlUb3VjaChlKXtcclxuICAgICAgICAgICAgLy9pZiBpcyBub3QgSUUgICB8fCAgSUUgaXMgZGV0ZWN0aW5nIGB0b3VjaGAgb3IgYHBlbmBcclxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBlLnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJyB8fCBlLnBvaW50ZXJUeXBlICE9ICdtb3VzZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEhhbmRsZXIgZm9yIHRoZSB0b3VjaCBzdGFydCBldmVudC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHRvdWNoU3RhcnRIYW5kbGVyKGUpe1xyXG5cclxuICAgICAgICAgICAgLy9zdG9wcGluZyB0aGUgYXV0byBzY3JvbGwgdG8gYWRqdXN0IHRvIGEgc2VjdGlvblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmZpdFRvU2VjdGlvbil7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVBbmltYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoaXNSZWFsbHlUb3VjaChlKSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2hFdmVudHMgPSBnZXRFdmVudHNQYWdlKGUpO1xyXG4gICAgICAgICAgICAgICAgdG91Y2hTdGFydFkgPSB0b3VjaEV2ZW50cy55O1xyXG4gICAgICAgICAgICAgICAgdG91Y2hTdGFydFggPSB0b3VjaEV2ZW50cy54O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIGxhc3QgYG51bWJlcmAgZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QXZlcmFnZShlbGVtZW50cywgbnVtYmVyKXtcclxuICAgICAgICAgICAgdmFyIHN1bSA9IDA7XHJcblxyXG4gICAgICAgICAgICAvL3Rha2luZyBgbnVtYmVyYCBlbGVtZW50cyBmcm9tIHRoZSBlbmQgdG8gbWFrZSB0aGUgYXZlcmFnZSwgaWYgdGhlcmUgYXJlIG5vdCBlbm91Z2h0LCAxXHJcbiAgICAgICAgICAgIHZhciBsYXN0RWxlbWVudHMgPSBlbGVtZW50cy5zbGljZShNYXRoLm1heChlbGVtZW50cy5sZW5ndGggLSBudW1iZXIsIDEpKTtcclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsYXN0RWxlbWVudHMubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgc3VtID0gc3VtICsgbGFzdEVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHN1bS9udW1iZXIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZWN0aW5nIG1vdXNld2hlZWwgc2Nyb2xsaW5nXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBodHRwOi8vYmxvZ3Muc2l0ZXBvaW50c3RhdGljLmNvbS9leGFtcGxlcy90ZWNoL21vdXNlLXdoZWVsL2luZGV4Lmh0bWxcclxuICAgICAgICAgKiBodHRwOi8vd3d3LnNpdGVwb2ludC5jb20vaHRtbDUtamF2YXNjcmlwdC1tb3VzZS13aGVlbC9cclxuICAgICAgICAgKi9cclxuICAgICAgICB2YXIgcHJldlRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gTW91c2VXaGVlbEhhbmRsZXIoZSkge1xyXG4gICAgICAgICAgICB2YXIgY3VyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB2YXIgaXNOb3JtYWxTY3JvbGwgPSBoYXNDbGFzcygkKENPTVBMRVRFTFlfU0VMKVswXSwgTk9STUFMX1NDUk9MTCk7XHJcblxyXG4gICAgICAgICAgICAvL2lzIHNjcm9sbCBhbGxvd2VkP1xyXG4gICAgICAgICAgICBpZiAoIWlzU2Nyb2xsQWxsb3dlZC5tLmRvd24gJiYgIWlzU2Nyb2xsQWxsb3dlZC5tLnVwKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9hdXRvc2Nyb2xsaW5nIGFuZCBub3Qgem9vbWluZz9cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nICYmICFjb250cm9sUHJlc3NlZCAmJiAhaXNOb3JtYWxTY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgLy8gY3Jvc3MtYnJvd3NlciB3aGVlbCBkZWx0YVxyXG4gICAgICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZS53aGVlbERlbHRhIHx8IC1lLmRlbHRhWSB8fCAtZS5kZXRhaWw7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgdmFsdWUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaG9yaXpvbnRhbERldGVjdGlvbiA9IHR5cGVvZiBlLndoZWVsRGVsdGFYICE9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgZS5kZWx0YVggIT09ICd1bmRlZmluZWQnO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzU2Nyb2xsaW5nVmVydGljYWxseSA9IChNYXRoLmFicyhlLndoZWVsRGVsdGFYKSA8IE1hdGguYWJzKGUud2hlZWxEZWx0YSkpIHx8IChNYXRoLmFicyhlLmRlbHRhWCApIDwgTWF0aC5hYnMoZS5kZWx0YVkpIHx8ICFob3Jpem9udGFsRGV0ZWN0aW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0xpbWl0aW5nIHRoZSBhcnJheSB0byAxNTAgKGxldHMgbm90IHdhc3RlIG1lbW9yeSEpXHJcbiAgICAgICAgICAgICAgICBpZihzY3JvbGxpbmdzLmxlbmd0aCA+IDE0OSl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5ncy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8va2VlcGluZyByZWNvcmQgb2YgdGhlIHByZXZpb3VzIHNjcm9sbGluZ3NcclxuICAgICAgICAgICAgICAgIHNjcm9sbGluZ3MucHVzaChNYXRoLmFicyh2YWx1ZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyB0byBzY3JvbGwgdGhlIHNpdGUgb24gbW91c2Ugd2hlZWwgd2hlbiBzY3JvbGxiYXIgaXMgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vdGltZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGxhc3Qgc2Nyb2xsIGFuZCB0aGUgY3VycmVudCBvbmVcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGN1clRpbWUtcHJldlRpbWU7XHJcbiAgICAgICAgICAgICAgICBwcmV2VGltZSA9IGN1clRpbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9oYXZlbid0IHRoZXkgc2Nyb2xsZWQgaW4gYSB3aGlsZT9cclxuICAgICAgICAgICAgICAgIC8vKGVub3VnaCB0byBiZSBjb25zaWRlciBhIGRpZmZlcmVudCBzY3JvbGxpbmcgYWN0aW9uIHRvIHNjcm9sbCBhbm90aGVyIHNlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICBpZih0aW1lRGlmZiA+IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbXB0eWluZyB0aGUgYXJyYXksIHdlIGRvbnQgY2FyZSBhYm91dCBvbGQgc2Nyb2xsaW5ncyBmb3Igb3VyIGF2ZXJhZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5ncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmKGNhblNjcm9sbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2VFbmQgPSBnZXRBdmVyYWdlKHNjcm9sbGluZ3MsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXZlcmFnZU1pZGRsZSA9IGdldEF2ZXJhZ2Uoc2Nyb2xsaW5ncywgNzApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc0FjY2VsZXJhdGluZyA9IGF2ZXJhZ2VFbmQgPj0gYXZlcmFnZU1pZGRsZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy90byBhdm9pZCBkb3VibGUgc3dpcGVzLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNBY2NlbGVyYXRpbmcgJiYgaXNTY3JvbGxpbmdWZXJ0aWNhbGx5KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zY3JvbGxpbmcgZG93bj9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5nKCdkb3duJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyB1cD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsaW5nKCd1cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5maXRUb1NlY3Rpb24pe1xyXG4gICAgICAgICAgICAgICAgLy9zdG9wcGluZyB0aGUgYXV0byBzY3JvbGwgdG8gYWRqdXN0IHRvIGEgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQW5pbWF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2xpZGVzIGEgc2xpZGVyIHRvIHRoZSBnaXZlbiBkaXJlY3Rpb24uXHJcbiAgICAgICAgKiBPcHRpb25hbCBgc2VjdGlvbmAgcGFyYW0uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlU2xpZGUoZGlyZWN0aW9uLCBzZWN0aW9uKXtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNlY3Rpb24gPSBzZWN0aW9uID09IG51bGwgPyAkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0gOiBzZWN0aW9uO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVzID0gJChTTElERVNfV1JBUFBFUl9TRUwsIGFjdGl2ZVNlY3Rpb24pWzBdO1xyXG5cclxuICAgICAgICAgICAgLy8gbW9yZSB0aGFuIG9uZSBzbGlkZSBuZWVkZWQgYW5kIG5vdGhpbmcgc2hvdWxkIGJlIHNsaWRpbmdcclxuICAgICAgICAgICAgaWYgKHNsaWRlcyA9PSBudWxsIHx8IHNsaWRlTW92aW5nIHx8ICQoU0xJREVfU0VMLCBzbGlkZXMpLmxlbmd0aCA8IDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRTbGlkZSA9ICQoU0xJREVfQUNUSVZFX1NFTCwgc2xpZGVzKVswXTtcclxuICAgICAgICAgICAgdmFyIGRlc3RpbnkgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYoZGlyZWN0aW9uID09PSAnbGVmdCcpe1xyXG4gICAgICAgICAgICAgICAgZGVzdGlueSA9IHByZXZVbnRpbChjdXJyZW50U2xpZGUsIFNMSURFX1NFTCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgZGVzdGlueSA9IG5leHRVbnRpbChjdXJyZW50U2xpZGUsIFNMSURFX1NFTCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vaXNuJ3QgdGhlcmUgYSBuZXh0IHNsaWRlIGluIHRoZSBzZWN1ZW5jZT9cclxuICAgICAgICAgICAgaWYoZGVzdGlueSA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIC8vcmVzcGVjdCBsb29wSG9yaXpvbnRhbCBzZXR0aW5cclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5sb29wSG9yaXpvbnRhbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZVNpYmxpbmdzID0gc2libGluZ3MoY3VycmVudFNsaWRlKTtcclxuICAgICAgICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ2xlZnQnKXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0aW55ID0gc2xpZGVTaWJsaW5nc1tzbGlkZVNpYmxpbmdzLmxlbmd0aCAtIDFdOyAvL2xhc3RcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBzbGlkZVNpYmxpbmdzWzBdOyAvL2ZpcnN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNsaWRlTW92aW5nID0gdHJ1ZSAmJiAhRlAudGVzdC5pc1Rlc3Rpbmc7XHJcbiAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3RpbnksIGRpcmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIE1haW50YWlucyB0aGUgYWN0aXZlIHNsaWRlcyBpbiB0aGUgdmlld3BvcnRcclxuICAgICAgICAqIChCZWNhdXNlIHRoZSBgc2Nyb2xsYCBhbmltYXRpb24gbWlnaHQgZ2V0IGxvc3Qgd2l0aCBzb21lIGFjdGlvbnMsIHN1Y2ggYXMgd2hlbiB1c2luZyBjb250aW51b3VzVmVydGljYWwpXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBrZWVwU2xpZGVzUG9zaXRpb24oKXtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZVNsaWRlcyA9ICQoU0xJREVfQUNUSVZFX1NFTCk7XHJcbiAgICAgICAgICAgIGZvciggdmFyIGkgPTA7IGk8YWN0aXZlU2xpZGVzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHNpbGVudExhbmRzY2FwZVNjcm9sbChhY3RpdmVTbGlkZXNbaV0sICdpbnRlcm5hbCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcHJldmlvdXNEZXN0VG9wID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIFkgcG9zaXRpb24gYmFzZWQgb24gdGhlIHNjcm9sbGluZyBkaXJlY3Rpb24gYW5kXHJcbiAgICAgICAgKiB0aGUgaGVpZ2h0IG9mIHRoZSBzZWN0aW9uLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RGVzdGluYXRpb25Qb3NpdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRIZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRUb3AgPSBlbGVtZW50Lm9mZnNldFRvcDtcclxuXHJcbiAgICAgICAgICAgIC8vdG9wIG9mIHRoZSBkZXNpbmF0aW9uIHdpbGwgYmUgYXQgdGhlIHRvcCBvZiB0aGUgdmlld3BvcnRcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudFRvcDtcclxuICAgICAgICAgICAgdmFyIGlzU2Nyb2xsaW5nRG93biA9ICBlbGVtZW50VG9wID4gcHJldmlvdXNEZXN0VG9wO1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbkJvdHRvbSA9IHBvc2l0aW9uIC0gd2luZG93c0hlaWdodCArIGVsZW1lbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciBiaWdTZWN0aW9uc0Rlc3RpbmF0aW9uID0gb3B0aW9ucy5iaWdTZWN0aW9uc0Rlc3RpbmF0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy9pcyB0aGUgZGVzdGluYXRpb24gZWxlbWVudCBiaWdnZXIgdGhhbiB0aGUgdmlld3BvcnQ/XHJcbiAgICAgICAgICAgIGlmKGVsZW1lbnRIZWlnaHQgPiB3aW5kb3dzSGVpZ2h0KXtcclxuICAgICAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHVwP1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzU2Nyb2xsaW5nRG93biAmJiAhYmlnU2VjdGlvbnNEZXN0aW5hdGlvbiB8fCBiaWdTZWN0aW9uc0Rlc3RpbmF0aW9uID09PSAnYm90dG9tJyApe1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gc2VjdGlvbkJvdHRvbTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9zZWN0aW9ucyBlcXVhbCBvciBzbWFsbGVyIHRoYW4gdGhlIHZpZXdwb3J0IGhlaWdodCAmJiBzY3JvbGxpbmcgZG93bj8gfHwgIGlzIHJlc2l6aW5nIGFuZCBpdHMgaW4gdGhlIGxhc3Qgc2VjdGlvblxyXG4gICAgICAgICAgICBlbHNlIGlmKGlzU2Nyb2xsaW5nRG93biB8fCAoaXNSZXNpemluZyAmJiBuZXh0KGVsZW1lbnQpID09IG51bGwpICl7XHJcbiAgICAgICAgICAgICAgICAvL1RoZSBib3R0b20gb2YgdGhlIGRlc3RpbmF0aW9uIHdpbGwgYmUgYXQgdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnRcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gc2VjdGlvbkJvdHRvbTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgS2VlcGluZyByZWNvcmQgb2YgdGhlIGxhc3Qgc2Nyb2xsZWQgcG9zaXRpb24gdG8gZGV0ZXJtaW5lIHRoZSBzY3JvbGxpbmcgZGlyZWN0aW9uLlxyXG4gICAgICAgICAgICBObyBjb252ZW50aW9uYWwgbWV0aG9kcyBjYW4gYmUgdXNlZCBhcyB0aGUgc2Nyb2xsIGJhciBtaWdodCBub3QgYmUgcHJlc2VudFxyXG4gICAgICAgICAgICBBTkQgdGhlIHNlY3Rpb24gbWlnaHQgbm90IGJlIGFjdGl2ZSBpZiBpdCBpcyBhdXRvLWhlaWdodCBhbmQgZGlkbnQgcmVhY2ggdGhlIG1pZGRsZVxyXG4gICAgICAgICAgICBvZiB0aGUgdmlld3BvcnQuXHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHByZXZpb3VzRGVzdFRvcCA9IHBvc2l0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgdGhlIHNpdGUgdG8gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIHNjcm9sbHMgdG8gdGhlIHNsaWRlIGlmIGEgY2FsbGJhY2sgaXMgZ2l2ZW4uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxQYWdlKGVsZW1lbnQsIGNhbGxiYWNrLCBpc01vdmVtZW50VXApe1xyXG4gICAgICAgICAgICBpZihlbGVtZW50ID09IG51bGwpeyByZXR1cm47IH0gLy90aGVyZSdzIG5vIGVsZW1lbnQgdG8gc2Nyb2xsLCBsZWF2aW5nIHRoZSBmdW5jdGlvblxyXG5cclxuICAgICAgICAgICAgdmFyIGR0b3AgPSBnZXREZXN0aW5hdGlvblBvc2l0aW9uKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3JMaW5rO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVJbmRleDtcclxuXHJcbiAgICAgICAgICAgIC8vbG9jYWwgdmFyaWFibGVzXHJcbiAgICAgICAgICAgIHZhciB2ID0ge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcclxuICAgICAgICAgICAgICAgIGlzTW92ZW1lbnRVcDogaXNNb3ZlbWVudFVwLFxyXG4gICAgICAgICAgICAgICAgZHRvcDogZHRvcCxcclxuICAgICAgICAgICAgICAgIHlNb3ZlbWVudDogZ2V0WW1vdmVtZW50KGVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgYW5jaG9yTGluazogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uSW5kZXg6IGluZGV4KGVsZW1lbnQsIFNFQ1RJT05fU0VMKSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVNsaWRlOiAkKFNMSURFX0FDVElWRV9TRUwsIGVsZW1lbnQpWzBdLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlU2VjdGlvbjogJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdLFxyXG4gICAgICAgICAgICAgICAgbGVhdmluZ1NlY3Rpb246IGluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKSwgU0VDVElPTl9TRUwpICsgMSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhY2hpbmcgdGhlIHZhbHVlIG9mIGlzUmVzaXppbmcgYXQgdGhlIG1vbW1lbnQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZFxyXG4gICAgICAgICAgICAgICAgLy9iZWNhdXNlIGl0IHdpbGwgYmUgY2hlY2tlZCBsYXRlciBpbnNpZGUgYSBzZXRUaW1lb3V0IGFuZCB0aGUgdmFsdWUgbWlnaHQgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBsb2NhbElzUmVzaXppbmc6IGlzUmVzaXppbmdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vcXVpdGluZyB3aGVuIGRlc3RpbmF0aW9uIHNjcm9sbCBpcyB0aGUgc2FtZSBhcyB0aGUgY3VycmVudCBvbmVcclxuICAgICAgICAgICAgaWYoKHYuYWN0aXZlU2VjdGlvbiA9PSBlbGVtZW50ICYmICFpc1Jlc2l6aW5nKSB8fCAob3B0aW9ucy5zY3JvbGxCYXIgJiYgZ2V0U2Nyb2xsVG9wKCkgPT09IHYuZHRvcCAmJiAhaGFzQ2xhc3MoZWxlbWVudCwgQVVUT19IRUlHSFQpICkpeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgICAgIGlmKHYuYWN0aXZlU2xpZGUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICBzbGlkZUFuY2hvckxpbmsgPSB2LmFjdGl2ZVNsaWRlLmdldEF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICAgICAgICAgIHNsaWRlSW5kZXggPSBpbmRleCh2LmFjdGl2ZVNsaWRlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9jYWxsYmFjayAob25MZWF2ZSkgaWYgdGhlIHNpdGUgaXMgbm90IGp1c3QgcmVzaXppbmcgYW5kIHJlYWRqdXN0aW5nIHRoZSBzbGlkZXNcclxuICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSB2LnlNb3ZlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3JlcXVpcmVkIGZvciBjb250aW5vdXNWZXJ0aWNhbFxyXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIGlzTW92ZW1lbnRVcCAhPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IGlzTW92ZW1lbnRVcCA/ICd1cCcgOiAnZG93bic7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9mb3IgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB2LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKG9wdGlvbnMub25MZWF2ZSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGZpcmVDYWxsYmFjaygnb25MZWF2ZScsIHYpID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIElmIGNvbnRpbnVvdXNWZXJ0aWNhbCAmJiB3ZSBuZWVkIHRvIHdyYXAgYXJvdW5kXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgb3B0aW9ucy5jb250aW51b3VzVmVydGljYWwgJiYgdHlwZW9mICh2LmlzTW92ZW1lbnRVcCkgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAgICAgICAgICgoIXYuaXNNb3ZlbWVudFVwICYmIHYueU1vdmVtZW50ID09ICd1cCcpIHx8IC8vIEludGVuZGluZyB0byBzY3JvbGwgZG93biBidXQgYWJvdXQgdG8gZ28gdXAgb3JcclxuICAgICAgICAgICAgICAgICh2LmlzTW92ZW1lbnRVcCAmJiB2LnlNb3ZlbWVudCA9PSAnZG93bicpKSkgeyAvLyBpbnRlbmRpbmcgdG8gc2Nyb2xsIHVwIGJ1dCBhYm91dCB0byBnbyBkb3duXHJcblxyXG4gICAgICAgICAgICAgICAgdiA9IGNyZWF0ZUluZmluaXRlU2VjdGlvbnModik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vcGF1c2luZyBtZWRpYSBvZiB0aGUgbGVhdmluZyBzZWN0aW9uIChpZiB3ZSBhcmUgbm90IGp1c3QgcmVzaXppbmcsIGFzIGRlc3RpbmF0aW5vIHdpbGwgYmUgdGhlIHNhbWUgb25lKVxyXG4gICAgICAgICAgICBpZighdi5sb2NhbElzUmVzaXppbmcpe1xyXG4gICAgICAgICAgICAgICAgc3RvcE1lZGlhKHYuYWN0aXZlU2VjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3cpe1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIuYmVmb3JlTGVhdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgQUNUSVZFKTtcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Moc2libGluZ3MoZWxlbWVudCksIEFDVElWRSk7XHJcbiAgICAgICAgICAgIGxhenlMb2FkKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNjcm9sbE92ZXJmbG93SGFuZGxlci5vbkxlYXZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyBmcm9tIGFjdGl2YXRpbmcgdGhlIE1vdXNlV2hlZWxIYW5kbGVyIGV2ZW50XHJcbiAgICAgICAgICAgIC8vbW9yZSB0aGFuIG9uY2UgaWYgdGhlIHBhZ2UgaXMgc2Nyb2xsaW5nXHJcbiAgICAgICAgICAgIGNhblNjcm9sbCA9IGZhbHNlIHx8IEZQLnRlc3QuaXNUZXN0aW5nO1xyXG5cclxuICAgICAgICAgICAgc2V0U3RhdGUoc2xpZGVJbmRleCwgc2xpZGVBbmNob3JMaW5rLCB2LmFuY2hvckxpbmssIHYuc2VjdGlvbkluZGV4KTtcclxuXHJcbiAgICAgICAgICAgIHBlcmZvcm1Nb3ZlbWVudCh2KTtcclxuXHJcbiAgICAgICAgICAgIC8vZmxhZyB0byBhdm9pZCBjYWxsaW5nbiBgc2Nyb2xsUGFnZSgpYCB0d2ljZSBpbiBjYXNlIG9mIHVzaW5nIGFuY2hvciBsaW5rc1xyXG4gICAgICAgICAgICBsYXN0U2Nyb2xsZWREZXN0aW55ID0gdi5hbmNob3JMaW5rO1xyXG5cclxuICAgICAgICAgICAgLy9hdm9pZCBmaXJpbmcgaXQgdHdpY2UgKGFzIGl0IGRvZXMgYWxzbyBvbiBzY3JvbGwpXHJcbiAgICAgICAgICAgIGFjdGl2YXRlTWVudUFuZE5hdih2LmFuY2hvckxpbmssIHYuc2VjdGlvbkluZGV4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogRGlzcGF0Y2ggZXZlbnRzICYgY2FsbGJhY2tzIG1ha2luZyBzdXJlIGl0IGRvZXMgaXQgb24gdGhlIHJpZ2h0IGZvcm1hdCwgZGVwZW5kaW5nIG9uXHJcbiAgICAgICAgKiB3aGV0aGVyIHYyY29tcGF0aWJsZSBpcyBiZWluZyB1c2VkIG9yIG5vdC5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGZpcmVDYWxsYmFjayhldmVudE5hbWUsIHYpe1xyXG4gICAgICAgICAgICB2YXIgZXZlbnREYXRhID0gZ2V0RXZlbnREYXRhKGV2ZW50TmFtZSwgdik7XHJcblxyXG4gICAgICAgICAgICBpZighb3B0aW9ucy52MmNvbXBhdGlibGUpe1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcihjb250YWluZXIsIGV2ZW50TmFtZSwgZXZlbnREYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zW2V2ZW50TmFtZV0uYXBwbHkoZXZlbnREYXRhW09iamVjdC5rZXlzKGV2ZW50RGF0YSlbMF1dLCB0b0FycmF5KGV2ZW50RGF0YSkpID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZihvcHRpb25zW2V2ZW50TmFtZV0uYXBwbHkoZXZlbnREYXRhWzBdLCBldmVudERhdGEuc2xpY2UoMSkpID09PSBmYWxzZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTWFrZXMgc3VyZSB0byBvbmx5IGNyZWF0ZSBhIFBhbmVsIG9iamVjdCBpZiB0aGUgZWxlbWVudCBleGlzdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbnVsbE9yU2VjdGlvbihlbCl7XHJcbiAgICAgICAgICAgIHJldHVybiBlbCA/IG5ldyBTZWN0aW9uKGVsKSA6IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBudWxsT3JTbGlkZShlbCl7XHJcbiAgICAgICAgICAgIHJldHVybiBlbCA/IG5ldyBTbGlkZShlbCkgOiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIHRoZSBldmVudCdzIGRhdGEgZm9yIHRoZSBnaXZlbiBldmVudCBvbiB0aGUgcmlnaHQgZm9ybWF0LiBEZXBlbmRpbmcgb24gd2hldGhlclxyXG4gICAgICAgICogdjJjb21wYXRpYmxlIGlzIGJlaW5nIHVzZWQgb3Igbm90LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50TmFtZSwgdil7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXNQZXJFdmVudDtcclxuXHJcbiAgICAgICAgICAgIGlmKCFvcHRpb25zLnYyY29tcGF0aWJsZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy91c2luZyBmdW5jdGlvbnMgdG8gcnVuIG9ubHkgdGhlIG5lY2Vzc2FyeSBiaXRzIHdpdGhpbiB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBwYXJhbXNQZXJFdmVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb246IG51bGxPclNlY3Rpb24oJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlOiBudWxsT3JTbGlkZSgkKFNMSURFX0FDVElWRV9TRUwsICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSlbMF0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvbkxlYXZlOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBudWxsT3JTZWN0aW9uKHYuYWN0aXZlU2VjdGlvbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogbnVsbE9yU2VjdGlvbih2LmVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiB2LmRpcmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTG9hZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1BlckV2ZW50Lm9uTGVhdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBhZnRlclNsaWRlTG9hZDogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb246IG51bGxPclNlY3Rpb24odi5zZWN0aW9uKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogbnVsbE9yU2xpZGUodi5wcmV2U2xpZGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb246IG51bGxPclNsaWRlKHYuZGVzdGlueSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IHYuZGlyZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb25TbGlkZUxlYXZlOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zUGVyRXZlbnQuYWZ0ZXJTbGlkZUxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXNQZXJFdmVudCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24oKXsgcmV0dXJuIFtjb250YWluZXJdOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uTGVhdmU6IGZ1bmN0aW9uKCl7IHJldHVybiBbdi5hY3RpdmVTZWN0aW9uLCB2LmxlYXZpbmdTZWN0aW9uLCAodi5zZWN0aW9uSW5kZXggKyAxKSwgdi5kaXJlY3Rpb25dOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyTG9hZDogZnVuY3Rpb24oKXsgcmV0dXJuIFt2LmVsZW1lbnQsIHYuYW5jaG9yTGluaywgKHYuc2VjdGlvbkluZGV4ICsgMSldOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyU2xpZGVMb2FkOiBmdW5jdGlvbigpeyByZXR1cm4gW3YuZGVzdGlueSwgdi5hbmNob3JMaW5rLCAodi5zZWN0aW9uSW5kZXggKyAxKSwgdi5zbGlkZUFuY2hvciwgdi5zbGlkZUluZGV4XTsgfSxcclxuICAgICAgICAgICAgICAgICAgICBvblNsaWRlTGVhdmU6IGZ1bmN0aW9uKCl7IHJldHVybiBbdi5wcmV2U2xpZGUsIHYuYW5jaG9yTGluaywgKHYuc2VjdGlvbkluZGV4ICsgMSksIHYucHJldlNsaWRlSW5kZXgsIHYuZGlyZWN0aW9uLCB2LnNsaWRlSW5kZXhdOyB9LFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhcmFtc1BlckV2ZW50W2V2ZW50TmFtZV0oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogUGVyZm9ybXMgdGhlIHZlcnRpY2FsIG1vdmVtZW50IChieSBDU1MzIG9yIGJ5IGpRdWVyeSlcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHBlcmZvcm1Nb3ZlbWVudCh2KXtcclxuICAgICAgICAgICAgLy8gdXNpbmcgQ1NTMyB0cmFuc2xhdGUgZnVuY3Rpb25hbGl0eVxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jc3MzICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUaGUgZmlyc3Qgc2VjdGlvbiBjYW4gaGF2ZSBhIG5lZ2F0aXZlIHZhbHVlIGluIGlPUyAxMC4gTm90IHF1aXRlIHN1cmUgd2h5OiAtMC4wMTQyODIyMjY1NjI1XHJcbiAgICAgICAgICAgICAgICAvLyB0aGF0J3Mgd2h5IHdlIHJvdW5kIGl0IHRvIDAuXHJcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoMHB4LCAtJyArIE1hdGgucm91bmQodi5kdG9wKSArICdweCwgMHB4KSc7XHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Db250YWluZXIodHJhbnNsYXRlM2QsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZXZlbiB3aGVuIHRoZSBzY3JvbGxpbmdTcGVlZCBpcyAwIHRoZXJlJ3MgYSBsaXR0bGUgZGVsYXksIHdoaWNoIG1pZ2h0IGNhdXNlIHRoZVxyXG4gICAgICAgICAgICAgICAgLy9zY3JvbGxpbmdTcGVlZCB0byBjaGFuZ2UgaW4gY2FzZSBvZiB1c2luZyBzaWxlbnRNb3ZlVG8oKTtcclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChhZnRlclNlY3Rpb25Mb2Fkc0lkKTtcclxuICAgICAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkc0lkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyU2VjdGlvbkxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHVzaW5nIEpTIHRvIGFuaW1hdGVcclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKHYuZHRvcCk7XHJcbiAgICAgICAgICAgICAgICBGUC50ZXN0LnRvcCA9IC12LmR0b3AgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvKHNjcm9sbFNldHRpbmdzLmVsZW1lbnQsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMsIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxCYXIpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogSGFjayFcclxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHRpbWVvdXQgcHJldmVudHMgc2V0dGluZyB0aGUgbW9zdCBkb21pbmFudCBzZWN0aW9uIGluIHRoZSB2aWV3cG9ydCBhcyBcImFjdGl2ZVwiIHdoZW4gdGhlIHVzZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZWQgdG8gYSBzbWFsbGVyIHNlY3Rpb24gYnkgdXNpbmcgdGhlIG1vdXNld2hlZWwgKGF1dG8gc2Nyb2xsaW5nKSByYXRoZXIgdGhhbiBkcmFnaW5nIHRoZSBzY3JvbGwgYmFyLlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgV2hlbiB1c2luZyBzY3JvbGxCYXI6dHJ1ZSBJdCBzZWVtcyBsaWtlIHRoZSBzY3JvbGwgZXZlbnRzIHN0aWxsIGdldHRpbmcgcHJvcGFnYXRlZCBldmVuIGFmdGVyIHRoZSBzY3JvbGxpbmcgYW5pbWF0aW9uIGhhcyBmaW5pc2hlZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTZWN0aW9uTG9hZHModik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sMzApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkcyh2KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIHRoZSBzY3JvbGxpbmcgc2V0dGluZ3MgZGVwZW5kaW5nIG9uIHRoZSBwbHVnaW4gYXV0b1Njcm9sbGluZyBvcHRpb25cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbFNldHRpbmdzKHRvcCl7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGwgPSB7fTtcclxuXHJcbiAgICAgICAgICAgIC8vdG9wIHByb3BlcnR5IGFuaW1hdGlvblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLmF1dG9TY3JvbGxpbmcgJiYgIW9wdGlvbnMuc2Nyb2xsQmFyKXtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC5vcHRpb25zID0gLXRvcDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC5lbGVtZW50ID0gJChXUkFQUEVSX1NFTClbMF07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vd2luZG93IHJlYWwgc2Nyb2xsaW5nXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGwub3B0aW9ucyA9IHRvcDtcclxuICAgICAgICAgICAgICAgIHNjcm9sbC5lbGVtZW50ID0gd2luZG93O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2Nyb2xsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBZGRzIHNlY3Rpb25zIGJlZm9yZSBvciBhZnRlciB0aGUgY3VycmVudCBvbmUgdG8gY3JlYXRlIHRoZSBpbmZpbml0ZSBlZmZlY3QuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJbmZpbml0ZVNlY3Rpb25zKHYpe1xyXG4gICAgICAgICAgICAvLyBTY3JvbGxpbmcgZG93blxyXG4gICAgICAgICAgICBpZiAoIXYuaXNNb3ZlbWVudFVwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIGFsbCBwcmV2aW91cyBzZWN0aW9ucyB0byBhZnRlciB0aGUgYWN0aXZlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgIGFmdGVyKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSwgcHJldkFsbCh2LmFjdGl2ZVNlY3Rpb24sIFNFQ1RJT05fU0VMKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgeyAvLyBTY3JvbGxpbmcgdXBcclxuICAgICAgICAgICAgICAgIC8vIE1vdmUgYWxsIG5leHQgc2VjdGlvbnMgdG8gYmVmb3JlIHRoZSBhY3RpdmUgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgYmVmb3JlKCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSwgbmV4dEFsbCh2LmFjdGl2ZVNlY3Rpb24sIFNFQ1RJT05fU0VMKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE1haW50YWluIHRoZSBkaXNwbGF5ZWQgcG9zaXRpb24gKG5vdyB0aGF0IHdlIGNoYW5nZWQgdGhlIGVsZW1lbnQgb3JkZXIpXHJcbiAgICAgICAgICAgIHNpbGVudFNjcm9sbCgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0ub2Zmc2V0VG9wKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1haW50YWluIHRoZSBhY3RpdmUgc2xpZGVzIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgIGtlZXBTbGlkZXNQb3NpdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2F2ZSBmb3IgbGF0ZXIgdGhlIGVsZW1lbnRzIHRoYXQgc3RpbGwgbmVlZCB0byBiZSByZW9yZGVyZWRcclxuICAgICAgICAgICAgdi53cmFwQXJvdW5kRWxlbWVudHMgPSB2LmFjdGl2ZVNlY3Rpb247XHJcblxyXG4gICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBhbmltYXRpb24gdmFyaWFibGVzXHJcbiAgICAgICAgICAgIHYuZHRvcCA9IHYuZWxlbWVudC5vZmZzZXRUb3A7XHJcbiAgICAgICAgICAgIHYueU1vdmVtZW50ID0gZ2V0WW1vdmVtZW50KHYuZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogRml4IHNlY3Rpb24gb3JkZXIgYWZ0ZXIgY29udGludW91c1ZlcnRpY2FsIGNoYW5nZXMgaGF2ZSBiZWVuIGFuaW1hdGVkXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjb250aW51b3VzVmVydGljYWxGaXhTZWN0aW9uT3JkZXIgKHYpIHtcclxuICAgICAgICAgICAgLy8gSWYgY29udGludW91c1ZlcnRpY2FsIGlzIGluIGVmZmVjdCAoYW5kIGF1dG9TY3JvbGxpbmcgd291bGQgYWxzbyBiZSBpbiBlZmZlY3QgdGhlbiksXHJcbiAgICAgICAgICAgIC8vIGZpbmlzaCBtb3ZpbmcgdGhlIGVsZW1lbnRzIGFyb3VuZCBzbyB0aGUgZGlyZWN0IG5hdmlnYXRpb24gd2lsbCBmdW5jdGlvbiBtb3JlIHNpbXBseVxyXG4gICAgICAgICAgICBpZiAodi53cmFwQXJvdW5kRWxlbWVudHMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodi5pc01vdmVtZW50VXApIHtcclxuICAgICAgICAgICAgICAgIGJlZm9yZSgkKFNFQ1RJT05fU0VMKVswXSwgdi53cmFwQXJvdW5kRWxlbWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWZ0ZXIoJChTRUNUSU9OX1NFTClbJChTRUNUSU9OX1NFTCkubGVuZ3RoLTFdLCB2LndyYXBBcm91bmRFbGVtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNpbGVudFNjcm9sbCgkKFNFQ1RJT05fQUNUSVZFX1NFTClbMF0ub2Zmc2V0VG9wKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1haW50YWluIHRoZSBhY3RpdmUgc2xpZGVzIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgIGtlZXBTbGlkZXNQb3NpdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBY3Rpb25zIHRvIGRvIG9uY2UgdGhlIHNlY3Rpb24gaXMgbG9hZGVkLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJTZWN0aW9uTG9hZHMgKHYpe1xyXG4gICAgICAgICAgICBjb250aW51b3VzVmVydGljYWxGaXhTZWN0aW9uT3JkZXIodik7XHJcblxyXG4gICAgICAgICAgICAvL2NhbGxiYWNrIChhZnRlckxvYWQpIGlmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24ob3B0aW9ucy5hZnRlckxvYWQpICYmICF2LmxvY2FsSXNSZXNpemluZyl7XHJcbiAgICAgICAgICAgICAgICBmaXJlQ2FsbGJhY2soJ2FmdGVyTG9hZCcsIHYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93KXtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyLmFmdGVyTG9hZCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZighdi5sb2NhbElzUmVzaXppbmcpe1xyXG4gICAgICAgICAgICAgICAgcGxheU1lZGlhKHYuZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKHYuZWxlbWVudCwgQ09NUExFVEVMWSk7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzKHYuZWxlbWVudCksIENPTVBMRVRFTFkpO1xyXG4gICAgICAgICAgICBsYXp5TG9hZE90aGVycygpO1xyXG5cclxuICAgICAgICAgICAgY2FuU2Nyb2xsID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmKGlzRnVuY3Rpb24odi5jYWxsYmFjaykpe1xyXG4gICAgICAgICAgICAgICAgdi5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdGhlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gYXR0cmlidXRlIGZyb20gdGhlIGBkYXRhLWAgYXR0cmlidXRlIHdpdGggdGhlIHNhbWUgc3VmZml4XHJcbiAgICAgICAgKiBpZTogZGF0YS1zcmNzZXQgPT0+IHNyY3NldCAgfCAgZGF0YS1zcmMgPT0+IHNyY1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0U3JjKGVsZW1lbnQsIGF0dHJpYnV0ZSl7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtJyArIGF0dHJpYnV0ZSkpO1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS0nICsgYXR0cmlidXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTWFrZXMgc3VyZSBsYXp5bG9hZCBpcyBkb25lIGZvciBvdGhlciBzZWN0aW9ucyBpbiB0aGUgdmlld3BvcnQgdGhhdCBhcmUgbm90IHRoZVxyXG4gICAgICAgICogYWN0aXZlIG9uZS4gXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBsYXp5TG9hZE90aGVycygpe1xyXG4gICAgICAgICAgICB2YXIgaGFzQXV0b0hlaWdodFNlY3Rpb25zID0gJChBVVRPX0hFSUdIVF9TRUwpWzBdIHx8IGlzUmVzcG9uc2l2ZU1vZGUoKSAmJiAkKEFVVE9fSEVJR0hUX1JFU1BPTlNJVkVfU0VMKVswXTtcclxuXHJcbiAgICAgICAgICAgIC8vcXVpdHRpbmcgd2hlbiBpdCBkb2Vzbid0IGFwcGx5XHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5sYXp5TG9hZGluZyB8fCAhaGFzQXV0b0hlaWdodFNlY3Rpb25zKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9tYWtpbmcgc3VyZSB0byBsYXp5IGxvYWQgYXV0by1oZWlnaHQgc2VjdGlvbnMgdGhhdCBhcmUgaW4gdGhlIHZpZXdwb3J0XHJcbiAgICAgICAgICAgICQoU0VDVElPTl9TRUwgKyAnOm5vdCgnICsgQUNUSVZFX1NFTCArICcpJykuZm9yRWFjaChmdW5jdGlvbihzZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgIGlmKGlzU2VjdGlvbkluVmlld3BvcnQoc2VjdGlvbikpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxhenlMb2FkKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogTGF6eSBsb2FkcyBpbWFnZSwgdmlkZW8gYW5kIGF1ZGlvIGVsZW1lbnRzLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gbGF6eUxvYWQoZGVzdGlueSl7XHJcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5sYXp5TG9hZGluZyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGdldFNsaWRlT3JTZWN0aW9uKGRlc3RpbnkpO1xyXG5cclxuICAgICAgICAgICAgJCgnaW1nW2RhdGEtc3JjXSwgaW1nW2RhdGEtc3Jjc2V0XSwgc291cmNlW2RhdGEtc3JjXSwgc291cmNlW2RhdGEtc3Jjc2V0XSwgdmlkZW9bZGF0YS1zcmNdLCBhdWRpb1tkYXRhLXNyY10sIGlmcmFtZVtkYXRhLXNyY10nLCBwYW5lbCkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIFsnc3JjJywgJ3NyY3NldCddLmZvckVhY2goZnVuY3Rpb24odHlwZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLScgKyB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZihhdHRyaWJ1dGUgIT0gbnVsbCAmJiBhdHRyaWJ1dGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRTcmMoZWxlbWVudCwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1lZGlhTG9hZChkZXN0aW55KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYobWF0Y2hlcyhlbGVtZW50LCAnc291cmNlJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50VG9QbGF5ID0gIGNsb3Nlc3QoZWxlbWVudCwgJ3ZpZGVvLCBhdWRpbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnRUb1BsYXkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50VG9QbGF5LmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFRvUGxheS5vbmxvYWRlZGRhdGEgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25NZWRpYUxvYWQoZGVzdGlueSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ2FsbGJhY2sgZmlyaW5nIHdoZW4gYSBsYXp5IGxvYWQgbWVkaWEgZWxlbWVudCBoYXMgbG9hZGVkLlxyXG4gICAgICAgICogTWFraW5nIHN1cmUgaXQgb25seSBmaXJlcyBvbmUgcGVyIHNlY3Rpb24gaW4gbm9ybWFsIGNvbmRpdGlvbnMgKGlmIGxvYWQgdGltZSBpcyBub3QgaHVnZSlcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uTWVkaWFMb2FkKHNlY3Rpb24pe1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93KXtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChnX21lZGlhTG9hZGVkSWQpO1xyXG4gICAgICAgICAgICAgICAgZ19tZWRpYUxvYWRlZElkID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEJhckhhbmRsZXIuY3JlYXRlU2Nyb2xsQmFyKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBQbGF5cyB2aWRlbyBhbmQgYXVkaW8gZWxlbWVudHMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwbGF5TWVkaWEoZGVzdGlueSl7XHJcbiAgICAgICAgICAgIHZhciBwYW5lbCA9IGdldFNsaWRlT3JTZWN0aW9uKGRlc3RpbnkpO1xyXG5cclxuICAgICAgICAgICAgLy9wbGF5aW5nIEhUTUw1IG1lZGlhIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICQoJ3ZpZGVvLCBhdWRpbycsIHBhbmVsKS5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgaWYoIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWF1dG9wbGF5JykgJiYgdHlwZW9mIGVsZW1lbnQucGxheSA9PT0gJ2Z1bmN0aW9uJyApIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL3lvdXR1YmUgdmlkZW9zXHJcbiAgICAgICAgICAgICQoJ2lmcmFtZVtzcmMqPVwieW91dHViZS5jb20vZW1iZWQvXCJdJywgcGFuZWwpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICBpZiAoIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWF1dG9wbGF5JykgKXtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5WW91dHViZShlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2luIGNhc2UgdGhlIFVSTCB3YXMgbm90IGxvYWRlZCB5ZXQuIE9uIHBhZ2UgbG9hZCB3ZSBuZWVkIHRpbWUgZm9yIHRoZSBuZXcgVVJMICh3aXRoIHRoZSBBUEkgc3RyaW5nKSB0byBsb2FkLlxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIGVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWF1dG9wbGF5JykgKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheVlvdXR1YmUoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFBsYXlzIGEgeW91dHViZSB2aWRlb1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcGxheVlvdXR1YmUoZWxlbWVudCl7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSgne1wiZXZlbnRcIjpcImNvbW1hbmRcIixcImZ1bmNcIjpcInBsYXlWaWRlb1wiLFwiYXJnc1wiOlwiXCJ9JywgJyonKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU3RvcHMgdmlkZW8gYW5kIGF1ZGlvIGVsZW1lbnRzLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc3RvcE1lZGlhKGRlc3Rpbnkpe1xyXG4gICAgICAgICAgICB2YXIgcGFuZWwgPSBnZXRTbGlkZU9yU2VjdGlvbihkZXN0aW55KTtcclxuXHJcbiAgICAgICAgICAgIC8vc3RvcHBpbmcgSFRNTDUgbWVkaWEgZWxlbWVudHNcclxuICAgICAgICAgICAgJCgndmlkZW8sIGF1ZGlvJywgcGFuZWwpLmZvckVhY2goZnVuY3Rpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgICAgICBpZiggIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWtlZXBwbGF5aW5nJykgJiYgdHlwZW9mIGVsZW1lbnQucGF1c2UgPT09ICdmdW5jdGlvbicgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8veW91dHViZSB2aWRlb3NcclxuICAgICAgICAgICAgJCgnaWZyYW1lW3NyYyo9XCJ5b3V0dWJlLmNvbS9lbWJlZC9cIl0nLCBwYW5lbCkuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKCAveW91dHViZVxcLmNvbVxcL2VtYmVkXFwvLy50ZXN0KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKSkgJiYgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdkYXRhLWtlZXBwbGF5aW5nJykpe1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSgne1wiZXZlbnRcIjpcImNvbW1hbmRcIixcImZ1bmNcIjpcInBhdXNlVmlkZW9cIixcImFyZ3NcIjpcIlwifScsJyonKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIGFjdGl2ZSBzbGlkZSAob3Igc2VjdGlvbikgZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTbGlkZU9yU2VjdGlvbihkZXN0aW55KXtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBkZXN0aW55KTtcclxuICAgICAgICAgICAgaWYoIHNsaWRlLmxlbmd0aCApIHtcclxuICAgICAgICAgICAgICAgIGRlc3RpbnkgPSBzbGlkZVswXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRlc3Rpbnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgdG8gdGhlIGFuY2hvciBpbiB0aGUgVVJMIHdoZW4gbG9hZGluZyB0aGUgc2l0ZVxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsVG9BbmNob3IoKXtcclxuICAgICAgICAgICAgdmFyIGFuY2hvcnMgPSAgZ2V0QW5jaG9yc1VSTCgpO1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbkFuY2hvciA9IGFuY2hvcnMuc2VjdGlvbjtcclxuICAgICAgICAgICAgdmFyIHNsaWRlQW5jaG9yID0gYW5jaG9ycy5zbGlkZTtcclxuXHJcbiAgICAgICAgICAgIGlmKHNlY3Rpb25BbmNob3IpeyAgLy9pZiB0aGVyZXMgYW55ICNcclxuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuYW5pbWF0ZUFuY2hvcil7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHNpbGVudE1vdmVUbyhzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogRGV0ZWN0aW5nIGFueSBjaGFuZ2Ugb24gdGhlIFVSTCB0byBzY3JvbGwgdG8gdGhlIGdpdmVuIGFuY2hvciBsaW5rXHJcbiAgICAgICAgKiAoYSB3YXkgdG8gZGV0ZWN0IGJhY2sgaGlzdG9yeSBidXR0b24gYXMgd2UgcGxheSB3aXRoIHRoZSBoYXNoZXMgb24gdGhlIFVSTClcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGhhc2hDaGFuZ2VIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIGlmKCFpc1Njcm9sbGluZyAmJiAhb3B0aW9ucy5sb2NrQW5jaG9ycyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9ycyA9IGdldEFuY2hvcnNVUkwoKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uQW5jaG9yID0gYW5jaG9ycy5zZWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWRlQW5jaG9yID0gYW5jaG9ycy5zbGlkZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3doZW4gbW92aW5nIHRvIGEgc2xpZGUgaW4gdGhlIGZpcnN0IHNlY3Rpb24gZm9yIHRoZSBmaXJzdCB0aW1lIChmaXJzdCB0aW1lIHRvIGFkZCBhbiBhbmNob3IgdG8gdGhlIFVSTClcclxuICAgICAgICAgICAgICAgIHZhciBpc0ZpcnN0U2xpZGVNb3ZlID0gICh0eXBlb2YgbGFzdFNjcm9sbGVkRGVzdGlueSA9PT0gJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRmlyc3RTY3JvbGxNb3ZlID0gKHR5cGVvZiBsYXN0U2Nyb2xsZWREZXN0aW55ID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygc2xpZGVBbmNob3IgPT09ICd1bmRlZmluZWQnICYmICFzbGlkZU1vdmluZyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoc2VjdGlvbkFuY2hvciAmJiBzZWN0aW9uQW5jaG9yLmxlbmd0aCl7XHJcbiAgICAgICAgICAgICAgICAgICAgLyppbiBvcmRlciB0byBjYWxsIHNjcm9sbHBhZ2UoKSBvbmx5IG9uY2UgZm9yIGVhY2ggZGVzdGluYXRpb24gYXQgYSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgSXQgaXMgY2FsbGVkIHR3aWNlIGZvciBlYWNoIHNjcm9sbCBvdGhlcndpc2UsIGFzIGluIGNhc2Ugb2YgdXNpbmcgYW5jaG9ybGlua3MgYGhhc2hDaGFuZ2VgXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgaXMgZmlyZWQgb24gZXZlcnkgc2Nyb2xsIHRvby4qL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoc2VjdGlvbkFuY2hvciAmJiBzZWN0aW9uQW5jaG9yICE9PSBsYXN0U2Nyb2xsZWREZXN0aW55KSAmJiAhaXNGaXJzdFNsaWRlTW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBpc0ZpcnN0U2Nyb2xsTW92ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoIXNsaWRlTW92aW5nICYmIGxhc3RTY3JvbGxlZFNsaWRlICE9IHNsaWRlQW5jaG9yICkpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUGFnZUFuZFNsaWRlKHNlY3Rpb25BbmNob3IsIHNsaWRlQW5jaG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vZ2V0cyB0aGUgVVJMIGFuY2hvcnMgKHNlY3Rpb24gYW5kIHNsaWRlKVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEFuY2hvcnNVUkwoKXtcclxuICAgICAgICAgICAgdmFyIHNlY3Rpb247XHJcbiAgICAgICAgICAgIHZhciBzbGlkZTtcclxuICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcclxuXHJcbiAgICAgICAgICAgIGlmKGhhc2gubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgIC8vZ2V0dGluZyB0aGUgYW5jaG9yIGxpbmsgaW4gdGhlIFVSTCBhbmQgZGVsZXRpbmcgdGhlIGAjYFxyXG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvcnNQYXJ0cyA9ICBoYXNoLnJlcGxhY2UoJyMnLCAnJykuc3BsaXQoJy8nKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3VzaW5nIC8gZm9yIHZpc3VhbCByZWFzb25zIGFuZCBub3QgYXMgYSBzZWN0aW9uL3NsaWRlIHNlcGFyYXRvciAjMjgwM1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRnVua3lBbmNob3IgPSBoYXNoLmluZGV4T2YoJyMvJykgPiAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWN0aW9uID0gaXNGdW5reUFuY2hvciA/ICcvJyArIGFuY2hvcnNQYXJ0c1sxXSA6IGRlY29kZVVSSUNvbXBvbmVudChhbmNob3JzUGFydHNbMF0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzbGlkZUFuY2hvciA9IGlzRnVua3lBbmNob3IgPyBhbmNob3JzUGFydHNbMl0gOiBhbmNob3JzUGFydHNbMV07XHJcbiAgICAgICAgICAgICAgICBpZihzbGlkZUFuY2hvciAmJiBzbGlkZUFuY2hvci5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlID0gZGVjb2RlVVJJQ29tcG9uZW50KHNsaWRlQW5jaG9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHNlY3Rpb246IHNlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBzbGlkZTogc2xpZGVcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2xpZGluZyB3aXRoIGFycm93IGtleXMsIGJvdGgsIHZlcnRpY2FsIGFuZCBob3Jpem9udGFsXHJcbiAgICAgICAgZnVuY3Rpb24ga2V5ZG93bkhhbmRsZXIoZSkge1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoa2V5ZG93bklkKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XHJcblxyXG4gICAgICAgICAgICAvL3RhYj9cclxuICAgICAgICAgICAgaWYoa2V5Q29kZSA9PT0gOSl7XHJcbiAgICAgICAgICAgICAgICBvblRhYihlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWxzZSBpZighbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAndGV4dGFyZWEnKSAmJiAhbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAnaW5wdXQnKSAmJiAhbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAnc2VsZWN0JykgJiZcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjb250ZW50RWRpdGFibGUnKSAhPT0gXCJ0cnVlXCIgJiYgYWN0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRFZGl0YWJsZScpICE9PSAnJyAmJlxyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5rZXlib2FyZFNjcm9sbGluZyAmJiBvcHRpb25zLmF1dG9TY3JvbGxpbmcpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgc2Nyb2xsIHdpdGggYXJyb3cga2V5cyAmIHNwYWNlYmFyICYgUGFnZSBVcCAmIERvd24ga2V5c1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleUNvbnRyb2xzID0gWzQwLCAzOCwgMzIsIDMzLCAzNF07XHJcbiAgICAgICAgICAgICAgICBpZihrZXlDb250cm9scy5pbmRleE9mKGtleUNvZGUpID4gLTEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnRyb2xQcmVzc2VkID0gZS5jdHJsS2V5O1xyXG5cclxuICAgICAgICAgICAgICAgIGtleWRvd25JZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICBvbmtleWRvd24oZSk7XHJcbiAgICAgICAgICAgICAgICB9LDE1MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHRvb2x0aXBUZXh0SGFuZGxlcigpe1xyXG4gICAgICAgICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xyXG4gICAgICAgICAgICB0cmlnZ2VyKHByZXYodGhpcyksICdjbGljaycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy90byBwcmV2ZW50IHNjcm9sbGluZyB3aGlsZSB6b29taW5nXHJcbiAgICAgICAgZnVuY3Rpb24ga2V5VXBIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICBpZihpc1dpbmRvd0ZvY3VzZWQpeyAvL3RoZSBrZXl1cCBnZXRzIGZpcmVkIG9uIG5ldyB0YWIgY3RybCArIHQgaW4gRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgY29udHJvbFByZXNzZWQgPSBlLmN0cmxLZXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vYmluZGluZyB0aGUgbW91c2Vtb3ZlIHdoZW4gdGhlIG1vdXNlJ3MgbWlkZGxlIGJ1dHRvbiBpcyByZWxlYXNlZFxyXG4gICAgICAgIGZ1bmN0aW9uIG1vdXNlRG93bkhhbmRsZXIoZSl7XHJcbiAgICAgICAgICAgIC8vbWlkZGxlIGJ1dHRvblxyXG4gICAgICAgICAgICBpZiAoZS53aGljaCA9PSAyKXtcclxuICAgICAgICAgICAgICAgIG9sZFBhZ2VZID0gZS5wYWdlWTtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZU1vdmVIYW5kbGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy91bmJpbmRpbmcgdGhlIG1vdXNlbW92ZSB3aGVuIHRoZSBtb3VzZSdzIG1pZGRsZSBidXR0b24gaXMgcmVsZWFzZWRcclxuICAgICAgICBmdW5jdGlvbiBtb3VzZVVwSGFuZGxlcihlKXtcclxuICAgICAgICAgICAgLy9taWRkbGUgYnV0dG9uXHJcbiAgICAgICAgICAgIGlmIChlLndoaWNoID09IDIpe1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIE1ha2VzIHN1cmUgdGhlIHRhYiBrZXkgd2lsbCBvbmx5IGZvY3VzIGVsZW1lbnRzIHdpdGhpbiB0aGUgY3VycmVudCBzZWN0aW9uL3NsaWRlXHJcbiAgICAgICAgKiBwcmV2ZW50aW5nIHRoaXMgd2F5IGZyb20gYnJlYWtpbmcgdGhlIHBhZ2UuXHJcbiAgICAgICAgKiBCYXNlZCBvbiBcIk1vZGFscyBhbmQga2V5Ym9hcmQgdHJhcHNcIlxyXG4gICAgICAgICogZnJvbSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvZnVuZGFtZW50YWxzL2FjY2Vzc2liaWxpdHkvZm9jdXMvdXNpbmctdGFiaW5kZXhcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uVGFiKGUpe1xyXG4gICAgICAgICAgICB2YXIgaXNTaGlmdFByZXNzZWQgPSBlLnNoaWZ0S2V5O1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcbiAgICAgICAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50cyA9IGdldEZvY3VzYWJsZXMoZ2V0U2xpZGVPclNlY3Rpb24oJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdKSk7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmV2ZW50QW5kRm9jdXNGaXJzdChlKXtcclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvY3VzYWJsZUVsZW1lbnRzWzBdID8gZm9jdXNhYmxlRWxlbWVudHNbMF0uZm9jdXMoKSA6IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vb3V0c2lkZSBhbnkgc2VjdGlvbiBvciBzbGlkZT8gTGV0J3Mgbm90IGhpamFjayB0aGUgdGFiIVxyXG4gICAgICAgICAgICBpZihpc0ZvY3VzT3V0c2lkZShlKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vaXMgdGhlcmUgYW4gZWxlbWVudCB3aXRoIGZvY3VzP1xyXG4gICAgICAgICAgICBpZihhY3RpdmVFbGVtZW50KXtcclxuICAgICAgICAgICAgICAgIGlmKGNsb3Nlc3QoYWN0aXZlRWxlbWVudCwgU0VDVElPTl9BQ1RJVkVfU0VMICsgJywnICsgU0VDVElPTl9BQ1RJVkVfU0VMICsgJyAnICsgU0xJREVfQUNUSVZFX1NFTCkgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IHByZXZlbnRBbmRGb2N1c0ZpcnN0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL25vIGVsZW1lbnQgaWYgZm9jdXNlZD8gTGV0J3MgZm9jdXMgdGhlIGZpcnN0IG9uZSBvZiB0aGUgc2VjdGlvbi9zbGlkZVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcHJldmVudEFuZEZvY3VzRmlyc3QoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vd2hlbiByZWFjaGVkIHRoZSBmaXJzdCBvciBsYXN0IGZvY3VzYWJsZSBlbGVtZW50IG9mIHRoZSBzZWN0aW9uL3NsaWRlXHJcbiAgICAgICAgICAgIC8vd2UgcHJldmVudCB0aGUgdGFiIGFjdGlvbiB0byBrZWVwIGl0IGluIHRoZSBsYXN0IGZvY3VzYWJsZSBlbGVtZW50XHJcbiAgICAgICAgICAgIGlmKCFpc1NoaWZ0UHJlc3NlZCAmJiBhY3RpdmVFbGVtZW50ID09IGZvY3VzYWJsZUVsZW1lbnRzW2ZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCAtIDFdIHx8XHJcbiAgICAgICAgICAgICAgICBpc1NoaWZ0UHJlc3NlZCAmJiBhY3RpdmVFbGVtZW50ID09IGZvY3VzYWJsZUVsZW1lbnRzWzBdXHJcbiAgICAgICAgICAgICl7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIGFsbCB0aGUgZm9jdXNhYmxlIGVsZW1lbnRzIGluc2lkZSB0aGUgcGFzc2VkIGVsZW1lbnQuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRGb2N1c2FibGVzKGVsKXtcclxuICAgICAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoJChmb2N1c2FibGVFbGVtZW50c1N0cmluZywgZWwpKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSAhPT0gJy0xJ1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYXJlIGFsc28gbm90IGhpZGRlbiBlbGVtZW50cyAob3Igd2l0aCBoaWRkZW4gcGFyZW50cylcclxuICAgICAgICAgICAgICAgICAgICAmJiBpdGVtLm9mZnNldFBhcmVudCAhPT0gbnVsbDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgZm9jdXMgaXMgb3V0c2lkZSBmdWxscGFnZS5qcyBzZWN0aW9ucy9zbGlkZXMgb3Igbm90LlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gaXNGb2N1c091dHNpZGUoZSl7XHJcbiAgICAgICAgICAgIHZhciBhbGxGb2N1c2FibGVzID0gZ2V0Rm9jdXNhYmxlcyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50Rm9jdXNJbmRleCA9IGFsbEZvY3VzYWJsZXMuaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtcclxuICAgICAgICAgICAgdmFyIGZvY3VzRGVzdGluYXRpb25JbmRleCA9IGUuc2hpZnRLZXkgPyBjdXJyZW50Rm9jdXNJbmRleCAtIDEgOiBjdXJyZW50Rm9jdXNJbmRleCArIDE7XHJcbiAgICAgICAgICAgIHZhciBmb2N1c0Rlc3RpbmF0aW9uID0gYWxsRm9jdXNhYmxlc1tmb2N1c0Rlc3RpbmF0aW9uSW5kZXhdO1xyXG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb25JdGVtU2xpZGUgPSBudWxsT3JTbGlkZShjbG9zZXN0KGZvY3VzRGVzdGluYXRpb24sIFNMSURFX1NFTCkpO1xyXG4gICAgICAgICAgICB2YXIgZGVzdGluYXRpb25JdGVtU2VjdGlvbiA9IG51bGxPclNlY3Rpb24oY2xvc2VzdChmb2N1c0Rlc3RpbmF0aW9uLCBTRUNUSU9OX1NFTCkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICFkZXN0aW5hdGlvbkl0ZW1TbGlkZSAmJiAhZGVzdGluYXRpb25JdGVtU2VjdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2Nyb2xsaW5nIGhvcml6b250YWxseSB3aGVuIGNsaWNraW5nIG9uIHRoZSBzbGlkZXIgY29udHJvbHMuXHJcbiAgICAgICAgZnVuY3Rpb24gc2xpZGVBcnJvd0hhbmRsZXIoKXtcclxuICAgICAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBjbG9zZXN0KHRoaXMsIFNFQ1RJT05fU0VMKTtcclxuXHJcbiAgICAgICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcbiAgICAgICAgICAgIGlmIChoYXNDbGFzcyh0aGlzLCBTTElERVNfUFJFVikpIHtcclxuICAgICAgICAgICAgICAgIGlmKGlzU2Nyb2xsQWxsb3dlZC5tLmxlZnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVTbGlkZUxlZnQoc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQubS5yaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZVNsaWRlUmlnaHQoc2VjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vd2hlbiBvcGVuaW5nIGEgbmV3IHRhYiAoY3RybCArIHQpLCBgY29udHJvbGAgd29uJ3QgYmUgcHJlc3NlZCB3aGVuIGNvbWluZyBiYWNrLlxyXG4gICAgICAgIGZ1bmN0aW9uIGJsdXJIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIGlzV2luZG93Rm9jdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb250cm9sUHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TY3JvbGxzIHRvIHRoZSBzZWN0aW9uIHdoZW4gY2xpY2tpbmcgdGhlIG5hdmlnYXRpb24gYnVsbGV0XHJcbiAgICAgICAgZnVuY3Rpb24gc2VjdGlvbkJ1bGxldEhhbmRsZXIoZSl7XHJcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG5cclxuICAgICAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuICAgICAgICAgICAgdmFyIGluZGV4QnVsbGV0ID0gaW5kZXgoY2xvc2VzdCh0aGlzLCBTRUNUSU9OX05BVl9TRUwgKyAnIGxpJykpO1xyXG4gICAgICAgICAgICBzY3JvbGxQYWdlKCQoU0VDVElPTl9TRUwpW2luZGV4QnVsbGV0XSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1Njcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAgICAgZnVuY3Rpb24gc2xpZGVCdWxsZXRIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdChlKTtcclxuXHJcbiAgICAgICAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXHJcbiAgICAgICAgICAgIHZhciBzbGlkZXMgPSAkKFNMSURFU19XUkFQUEVSX1NFTCwgY2xvc2VzdCh0aGlzLCBTRUNUSU9OX1NFTCkpWzBdO1xyXG4gICAgICAgICAgICB2YXIgZGVzdGlueSA9ICQoU0xJREVfU0VMLCBzbGlkZXMpW2luZGV4KGNsb3Nlc3QodGhpcywgJ2xpJykpXTtcclxuXHJcbiAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChzbGlkZXMsIGRlc3RpbnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9NZW51IGl0ZW0gaGFuZGxlciB3aGVuIG5vdCB1c2luZyBhbmNob3JzIG9yIHVzaW5nIGxvY2tBbmNob3JzOnRydWVcclxuICAgICAgICBmdW5jdGlvbiBtZW51SXRlbXNIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICBpZigkKG9wdGlvbnMubWVudSlbMF0gJiYgKG9wdGlvbnMubG9ja0FuY2hvcnMgfHwgIW9wdGlvbnMuYW5jaG9ycy5sZW5ndGgpKXtcclxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4gICAgICAgICAgICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cclxuICAgICAgICAgICAgICAgIG1vdmVUbyh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1tZW51YW5jaG9yJykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEtleWRvd24gZXZlbnRcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIG9ua2V5ZG93bihlKXtcclxuICAgICAgICAgICAgdmFyIHNoaWZ0UHJlc3NlZCA9IGUuc2hpZnRLZXk7XHJcbiAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAgICAgdmFyIGlzTWVkaWFGb2N1c2VkID0gbWF0Y2hlcyhhY3RpdmVFbGVtZW50LCAndmlkZW8nKSB8fCBtYXRjaGVzKGFjdGl2ZUVsZW1lbnQsICdhdWRpbycpO1xyXG5cclxuICAgICAgICAgICAgLy9kbyBub3RoaW5nIGlmIHdlIGNhbiBub3Qgc2Nyb2xsIG9yIHdlIGFyZSBub3QgdXNpbmcgaG9yaXpvdG5hbCBrZXkgYXJyb3dzLlxyXG4gICAgICAgICAgICBpZighY2FuU2Nyb2xsICYmIFszNywzOV0uaW5kZXhPZihlLmtleUNvZGUpIDwgMCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvL3VwXHJcbiAgICAgICAgICAgICAgICBjYXNlIDM4OlxyXG4gICAgICAgICAgICAgICAgY2FzZSAzMzpcclxuICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQuay51cCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9kb3duXHJcbiAgICAgICAgICAgICAgICBjYXNlIDMyOiAvL3NwYWNlYmFyXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNoaWZ0UHJlc3NlZCAmJiBpc1Njcm9sbEFsbG93ZWQuay51cCAmJiAhaXNNZWRpYUZvY3VzZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvblVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cclxuICAgICAgICAgICAgICAgIGNhc2UgNDA6XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlzU2Nyb2xsQWxsb3dlZC5rLmRvd24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzcGFjZSBiYXI/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGUua2V5Q29kZSAhPT0gMzIgfHwgIWlzTWVkaWFGb2N1c2VkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uRG93bigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vSG9tZVxyXG4gICAgICAgICAgICAgICAgY2FzZSAzNjpcclxuICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQuay51cCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVUbygxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9FbmRcclxuICAgICAgICAgICAgICAgIGNhc2UgMzU6XHJcbiAgICAgICAgICAgICAgICAgICAgIGlmKGlzU2Nyb2xsQWxsb3dlZC5rLmRvd24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlVG8oICQoU0VDVElPTl9TRUwpLmxlbmd0aCApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2xlZnRcclxuICAgICAgICAgICAgICAgIGNhc2UgMzc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNTY3JvbGxBbGxvd2VkLmsubGVmdCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTbGlkZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9yaWdodFxyXG4gICAgICAgICAgICAgICAgY2FzZSAzOTpcclxuICAgICAgICAgICAgICAgICAgICBpZihpc1Njcm9sbEFsbG93ZWQuay5yaWdodCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVTbGlkZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBleGl0IHRoaXMgaGFuZGxlciBmb3Igb3RoZXIga2V5c1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERldGVjdGluZyB0aGUgZGlyZWN0aW9uIG9mIHRoZSBtb3VzZSBtb3ZlbWVudC5cclxuICAgICAgICAqIFVzZWQgb25seSBmb3IgdGhlIG1pZGRsZSBidXR0b24gb2YgdGhlIG1vdXNlLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgdmFyIG9sZFBhZ2VZID0gMDtcclxuICAgICAgICBmdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGUpe1xyXG4gICAgICAgICAgICBpZighb3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihjYW5TY3JvbGwpe1xyXG4gICAgICAgICAgICAgICAgLy8gbW92aW5nIHVwXHJcbiAgICAgICAgICAgICAgICBpZiAoZS5wYWdlWSA8IG9sZFBhZ2VZICYmIGlzU2Nyb2xsQWxsb3dlZC5tLnVwKXtcclxuICAgICAgICAgICAgICAgICAgICBtb3ZlU2VjdGlvblVwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbW92aW5nIGRvd25cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYoZS5wYWdlWSA+IG9sZFBhZ2VZICYmIGlzU2Nyb2xsQWxsb3dlZC5tLmRvd24pe1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVTZWN0aW9uRG93bigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9sZFBhZ2VZID0gZS5wYWdlWTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2Nyb2xscyBob3Jpem9udGFsIHNsaWRlcnMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBsYW5kc2NhcGVTY3JvbGwoc2xpZGVzLCBkZXN0aW55LCBkaXJlY3Rpb24pe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9IGNsb3Nlc3Qoc2xpZGVzLCBTRUNUSU9OX1NFTCk7XHJcbiAgICAgICAgICAgIHZhciB2ID0ge1xyXG4gICAgICAgICAgICAgICAgc2xpZGVzOiBzbGlkZXMsXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55OiBkZXN0aW55LFxyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBkZXN0aW55UG9zOiB7bGVmdDogZGVzdGlueS5vZmZzZXRMZWZ0fSxcclxuICAgICAgICAgICAgICAgIHNsaWRlSW5kZXg6IGluZGV4KGRlc3RpbnkpLFxyXG4gICAgICAgICAgICAgICAgc2VjdGlvbjogc2VjdGlvbixcclxuICAgICAgICAgICAgICAgIHNlY3Rpb25JbmRleDogaW5kZXgoc2VjdGlvbiwgU0VDVElPTl9TRUwpLFxyXG4gICAgICAgICAgICAgICAgYW5jaG9yTGluazogc2VjdGlvbi5nZXRBdHRyaWJ1dGUoJ2RhdGEtYW5jaG9yJyksXHJcbiAgICAgICAgICAgICAgICBzbGlkZXNOYXY6ICQoU0xJREVTX05BVl9TRUwsIHNlY3Rpb24pWzBdLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVBbmNob3I6IGdldEFuY2hvcihkZXN0aW55KSxcclxuICAgICAgICAgICAgICAgIHByZXZTbGlkZTogJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKVswXSxcclxuICAgICAgICAgICAgICAgIHByZXZTbGlkZUluZGV4OiBpbmRleCgkKFNMSURFX0FDVElWRV9TRUwsIHNlY3Rpb24pWzBdKSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhY2hpbmcgdGhlIHZhbHVlIG9mIGlzUmVzaXppbmcgYXQgdGhlIG1vbW1lbnQgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZFxyXG4gICAgICAgICAgICAgICAgLy9iZWNhdXNlIGl0IHdpbGwgYmUgY2hlY2tlZCBsYXRlciBpbnNpZGUgYSBzZXRUaW1lb3V0IGFuZCB0aGUgdmFsdWUgbWlnaHQgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBsb2NhbElzUmVzaXppbmc6IGlzUmVzaXppbmdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdi54TW92ZW1lbnQgPSBnZXRYbW92ZW1lbnQodi5wcmV2U2xpZGVJbmRleCwgdi5zbGlkZUluZGV4KTtcclxuICAgICAgICAgICAgdi5kaXJlY3Rpb24gPSB2LmRpcmVjdGlvbiA/IHYuZGlyZWN0aW9uIDogdi54TW92ZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAvL2ltcG9ydGFudCEhIE9ubHkgZG8gaXQgd2hlbiBub3QgcmVzaXppbmdcclxuICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyBmcm9tIHNjcm9sbGluZyB0byB0aGUgbmV4dC9wcmV2IHNlY3Rpb24gd2hlbiB1c2luZyBzY3JvbGxIb3Jpem9udGFsbHlcclxuICAgICAgICAgICAgICAgIGNhblNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLm9uU2xpZGVMZWF2ZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiB0aGUgc2l0ZSBpcyBub3QganVzdCByZXNpemluZyBhbmQgcmVhZGp1c3RpbmcgdGhlIHNsaWRlc1xyXG4gICAgICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nICYmIHYueE1vdmVtZW50IT09J25vbmUnKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKCBvcHRpb25zLm9uU2xpZGVMZWF2ZSApKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGZpcmVDYWxsYmFjaygnb25TbGlkZUxlYXZlJywgdikgPT09IGZhbHNlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKGRlc3RpbnksIEFDVElWRSk7XHJcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKHNpYmxpbmdzKGRlc3RpbnkpLCBBQ1RJVkUpO1xyXG5cclxuICAgICAgICAgICAgaWYoIXYubG9jYWxJc1Jlc2l6aW5nKXtcclxuICAgICAgICAgICAgICAgIHN0b3BNZWRpYSh2LnByZXZTbGlkZSk7XHJcbiAgICAgICAgICAgICAgICBsYXp5TG9hZChkZXN0aW55KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMubG9vcEhvcml6b250YWwgJiYgb3B0aW9ucy5jb250cm9sQXJyb3dzKXtcclxuICAgICAgICAgICAgICAgIC8vaGlkZGluZyBpdCBmb3IgdGhlIGZpc3Qgc2xpZGUsIHNob3dpbmcgZm9yIHRoZSByZXN0XHJcbiAgICAgICAgICAgICAgICB0b2dnbGUoJChTTElERVNfQVJST1dfUFJFVl9TRUwsIHNlY3Rpb24pLCB2LnNsaWRlSW5kZXghPT0wKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2hpZGRpbmcgaXQgZm9yIHRoZSBsYXN0IHNsaWRlLCBzaG93aW5nIGZvciB0aGUgcmVzdFxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlKCQoU0xJREVTX0FSUk9XX05FWFRfU0VMLCBzZWN0aW9uKSwgbmV4dChkZXN0aW55KSAhPSBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9vbmx5IGNoYW5naW5nIHRoZSBVUkwgaWYgdGhlIHNsaWRlcyBhcmUgaW4gdGhlIGN1cnJlbnQgc2VjdGlvbiAobm90IGZvciByZXNpemUgcmUtYWRqdXN0aW5nKVxyXG4gICAgICAgICAgICBpZihoYXNDbGFzcyhzZWN0aW9uLCBBQ1RJVkUpICYmICF2LmxvY2FsSXNSZXNpemluZyl7XHJcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZSh2LnNsaWRlSW5kZXgsIHYuc2xpZGVBbmNob3IsIHYuYW5jaG9yTGluaywgdi5zZWN0aW9uSW5kZXgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBwZXJmb3JtSG9yaXpvbnRhbE1vdmUoc2xpZGVzLCB2LCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZnRlclNsaWRlTG9hZHModil7XHJcbiAgICAgICAgICAgIGFjdGl2ZVNsaWRlc05hdmlnYXRpb24odi5zbGlkZXNOYXYsIHYuc2xpZGVJbmRleCk7XHJcblxyXG4gICAgICAgICAgICAvL2lmIHRoZSBzaXRlIGlzIG5vdCBqdXN0IHJlc2l6aW5nIGFuZCByZWFkanVzdGluZyB0aGUgc2xpZGVzXHJcbiAgICAgICAgICAgIGlmKCF2LmxvY2FsSXNSZXNpemluZyl7XHJcbiAgICAgICAgICAgICAgICBpZihpc0Z1bmN0aW9uKCBvcHRpb25zLmFmdGVyU2xpZGVMb2FkICkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGZpcmVDYWxsYmFjaygnYWZ0ZXJTbGlkZUxvYWQnLCB2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL25lZWRzIHRvIGJlIGluc2lkZSB0aGUgY29uZGl0aW9uIHRvIHByZXZlbnQgcHJvYmxlbXMgd2l0aCBjb250aW51b3VzVmVydGljYWwgYW5kIHNjcm9sbEhvcml6b250YWxseVxyXG4gICAgICAgICAgICAgICAgLy9hbmQgdG8gcHJldmVudCBkb3VibGUgc2Nyb2xsIHJpZ2h0IGFmdGVyIGEgd2luZG93cyByZXNpemVcclxuICAgICAgICAgICAgICAgIGNhblNjcm9sbCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgcGxheU1lZGlhKHYuZGVzdGlueSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vbGV0dGluZyB0aGVtIHNsaWRlIGFnYWluXHJcbiAgICAgICAgICAgIHNsaWRlTW92aW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFBlcmZvcm1zIHRoZSBob3Jpem9udGFsIG1vdmVtZW50LiAoQ1NTMyBvciBqUXVlcnkpXHJcbiAgICAgICAgKlxyXG4gICAgICAgICogQHBhcmFtIGZpcmVDYWxsYmFjayB7Qm9vbH0gLSBkZXRlcm1pbmVzIHdoZXRoZXIgb3Igbm90IHRvIGZpcmUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBwZXJmb3JtSG9yaXpvbnRhbE1vdmUoc2xpZGVzLCB2LCBmaXJlQ2FsbGJhY2spe1xyXG4gICAgICAgICAgICB2YXIgZGVzdGlueVBvcyA9IHYuZGVzdGlueVBvcztcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuY3NzMyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlM2QgPSAndHJhbnNsYXRlM2QoLScgKyBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCkgKyAncHgsIDBweCwgMHB4KSc7XHJcblxyXG4gICAgICAgICAgICAgICAgRlAudGVzdC50cmFuc2xhdGUzZEhbdi5zZWN0aW9uSW5kZXhdID0gdHJhbnNsYXRlM2Q7XHJcbiAgICAgICAgICAgICAgICBjc3MoYWRkQW5pbWF0aW9uKCQoU0xJREVTX0NPTlRBSU5FUl9TRUwsIHNsaWRlcykpLCBnZXRUcmFuc2Zvcm1zKHRyYW5zbGF0ZTNkKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlyZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIEZQLnRlc3QubGVmdFt2LnNlY3Rpb25JbmRleF0gPSBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgc2Nyb2xsVG8oc2xpZGVzLCBNYXRoLnJvdW5kKGRlc3RpbnlQb3MubGVmdCksIG9wdGlvbnMuc2Nyb2xsaW5nU3BlZWQsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZmlyZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJTbGlkZUxvYWRzKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdGhlIHN0YXRlIGZvciB0aGUgaG9yaXpvbnRhbCBidWxsZXQgbmF2aWdhdGlvbnMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhY3RpdmVTbGlkZXNOYXZpZ2F0aW9uKHNsaWRlc05hdiwgc2xpZGVJbmRleCl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuc2xpZGVzTmF2aWdhdGlvbiAmJiBzbGlkZXNOYXYgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkKEFDVElWRV9TRUwsIHNsaWRlc05hdiksIEFDVElWRSk7XHJcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyggJCgnYScsICQoJ2xpJywgc2xpZGVzTmF2KVtzbGlkZUluZGV4XSApLCBBQ1RJVkUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcHJldmlvdXNIZWlnaHQgPSB3aW5kb3dzSGVpZ2h0O1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICogUmVzaXplIGV2ZW50IGhhbmRsZXIuXHJcbiAgICAgICAgKi8gICAgICAgIFxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKXtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZUlkKTtcclxuXHJcbiAgICAgICAgICAgIC8vaW4gb3JkZXIgdG8gY2FsbCB0aGUgZnVuY3Rpb25zIG9ubHkgd2hlbiB0aGUgcmVzaXplIGlzIGZpbmlzaGVkXHJcbiAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80Mjk4NjEyL2pxdWVyeS1ob3ctdG8tY2FsbC1yZXNpemUtZXZlbnQtb25seS1vbmNlLWl0cy1maW5pc2hlZC1yZXNpemluZyAgICBcclxuICAgICAgICAgICAgcmVzaXplSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9pc3N1ZSAjMzMzNiBcclxuICAgICAgICAgICAgICAgIC8vKHNvbWUgYXBwcyBvciBicm93c2VycywgbGlrZSBDaHJvbWUvRmlyZWZveCBmb3IgTW9iaWxlIHRha2UgdGltZSB0byByZXBvcnQgdGhlIHJlYWwgaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgLy9zbyB3ZSBjaGVjayBpdCAzIHRpbWVzIHdpdGggaW50ZXJ2YWxzIGluIHRoYXQgY2FzZVxyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTwgNDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICByZXNpemVIYW5kbGVySWQgPSBzZXRUaW1lb3V0KHJlc2l6ZUFjdGlvbnMsIDIwMCAqIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAyMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBXaGVuIHJlc2l6aW5nIHRoZSBzaXRlLCB3ZSBhZGp1c3QgdGhlIGhlaWdodHMgb2YgdGhlIHNlY3Rpb25zLCBzbGltU2Nyb2xsLi4uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZXNpemVBY3Rpb25zKCl7XHJcblxyXG4gICAgICAgICAgICAvL2NoZWNraW5nIGlmIGl0IG5lZWRzIHRvIGdldCByZXNwb25zaXZlXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlYnVpbGQgaW1tZWRpYXRlbHkgb24gdG91Y2ggZGV2aWNlc1xyXG4gICAgICAgICAgICBpZiAoaXNUb3VjaERldmljZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgdGhlIGtleWJvYXJkIGlzIE5PVCB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZXMoYWN0aXZlRWxlbWVudCwgJ3RleHRhcmVhJykgJiYgIW1hdGNoZXMoYWN0aXZlRWxlbWVudCwgJ2lucHV0JykgJiYgIW1hdGNoZXMoYWN0aXZlRWxlbWVudCwgJ3NlbGVjdCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRIZWlnaHQgPSBnZXRXaW5kb3dIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tYWtpbmcgc3VyZSB0aGUgY2hhbmdlIGluIHRoZSB2aWV3cG9ydCBzaXplIGlzIGVub3VnaCB0byBmb3JjZSBhIHJlYnVpbGQuICgyMCAlIG9mIHRoZSB3aW5kb3cgdG8gYXZvaWQgcHJvYmxlbXMgd2hlbiBoaWRkaW5nIHNjcm9sbCBiYXJzKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKCBNYXRoLmFicyhjdXJyZW50SGVpZ2h0IC0gcHJldmlvdXNIZWlnaHQpID4gKDIwICogTWF0aC5tYXgocHJldmlvdXNIZWlnaHQsIGN1cnJlbnRIZWlnaHQpIC8gMTAwKSApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZUJ1aWxkKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0hlaWdodCA9IGN1cnJlbnRIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBhZGp1c3RUb05ld1ZpZXdwb3J0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ2hlY2tzIGlmIHRoZSBzaXRlIG5lZWRzIHRvIGdldCByZXNwb25zaXZlIGFuZCBkaXNhYmxlcyBhdXRvU2Nyb2xsaW5nIGlmIHNvLlxyXG4gICAgICAgICogQSBjbGFzcyBgZnAtcmVzcG9uc2l2ZWAgaXMgYWRkZWQgdG8gdGhlIHBsdWdpbidzIGNvbnRhaW5lciBpbiBjYXNlIHRoZSB1c2VyIHdhbnRzIHRvIHVzZSBpdCBmb3IgaGlzIG93biByZXNwb25zaXZlIENTUy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc3BvbnNpdmUoKXtcclxuICAgICAgICAgICAgdmFyIHdpZHRoTGltaXQgPSBvcHRpb25zLnJlc3BvbnNpdmUgfHwgb3B0aW9ucy5yZXNwb25zaXZlV2lkdGg7IC8vYmFja3dhcmRzIGNvbXBhdGlibGl0eVxyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0TGltaXQgPSBvcHRpb25zLnJlc3BvbnNpdmVIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAvL29ubHkgY2FsY3VsYXRpbmcgd2hhdCB3ZSBuZWVkLiBSZW1lbWJlciBpdHMgY2FsbGVkIG9uIHRoZSByZXNpemUgZXZlbnQuXHJcbiAgICAgICAgICAgIHZhciBpc0JyZWFraW5nUG9pbnRXaWR0aCA9IHdpZHRoTGltaXQgJiYgd2luZG93LmlubmVyV2lkdGggPCB3aWR0aExpbWl0O1xyXG4gICAgICAgICAgICB2YXIgaXNCcmVha2luZ1BvaW50SGVpZ2h0ID0gaGVpZ2h0TGltaXQgJiYgd2luZG93LmlubmVySGVpZ2h0IDwgaGVpZ2h0TGltaXQ7XHJcblxyXG4gICAgICAgICAgICBpZih3aWR0aExpbWl0ICYmIGhlaWdodExpbWl0KXtcclxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNpdmUoaXNCcmVha2luZ1BvaW50V2lkdGggfHwgaXNCcmVha2luZ1BvaW50SGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKHdpZHRoTGltaXQpe1xyXG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2l2ZShpc0JyZWFraW5nUG9pbnRXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZihoZWlnaHRMaW1pdCl7XHJcbiAgICAgICAgICAgICAgICBzZXRSZXNwb25zaXZlKGlzQnJlYWtpbmdQb2ludEhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWRkcyB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBhZGRBbmltYXRpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uID0gJ2FsbCAnICsgb3B0aW9ucy5zY3JvbGxpbmdTcGVlZCArICdtcyAnICsgb3B0aW9ucy5lYXNpbmdjc3MzO1xyXG5cclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgTk9fVFJBTlNJVElPTik7XHJcbiAgICAgICAgICAgIHJldHVybiBjc3MoZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNpdGlvbic6IHRyYW5zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6IHRyYW5zaXRpb25cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJlbW92ZSB0cmFuc2l0aW9uIGFuaW1hdGlvbnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVBbmltYXRpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRDbGFzcyhlbGVtZW50LCBOT19UUkFOU0lUSU9OKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWN0aXZhdGluZyB0aGUgdmVydGljYWwgbmF2aWdhdGlvbiBidWxsZXRzIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gc2xpZGUgbmFtZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlTmF2RG90cyhuYW1lLCBzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgICAgICBpZihvcHRpb25zLm5hdmlnYXRpb24gJiYgJChTRUNUSU9OX05BVl9TRUwpWzBdICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKCQoQUNUSVZFX1NFTCwgJChTRUNUSU9OX05BVl9TRUwpWzBdKSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgIGlmKG5hbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKCAkKCdhW2hyZWY9XCIjJyArIG5hbWUgKyAnXCJdJywgJChTRUNUSU9OX05BVl9TRUwpWzBdKSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKCQoJ2EnLCAkKCdsaScsICQoU0VDVElPTl9OQVZfU0VMKVswXSlbc2VjdGlvbkluZGV4XSksIEFDVElWRSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQWN0aXZhdGluZyB0aGUgd2Vic2l0ZSBtYWluIG1lbnUgZWxlbWVudHMgYWNjb3JkaW5nIHRvIHRoZSBnaXZlbiBzbGlkZSBuYW1lLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWN0aXZhdGVNZW51RWxlbWVudChuYW1lKXtcclxuICAgICAgICAgICAgJChvcHRpb25zLm1lbnUpLmZvckVhY2goZnVuY3Rpb24obWVudSkge1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5tZW51ICYmIG1lbnUgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJChBQ1RJVkVfU0VMLCBtZW51KSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcygkKCdbZGF0YS1tZW51YW5jaG9yPVwiJytuYW1lKydcIl0nLCBtZW51KSwgQUNUSVZFKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdG8gYWN0aXZlIHRoZSBjdXJyZW50IG1lbnUgYW5kIHZlcnRpY2FsIG5hdiBpdGVtcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFjdGl2YXRlTWVudUFuZE5hdihhbmNob3IsIGluZGV4KXtcclxuICAgICAgICAgICAgYWN0aXZhdGVNZW51RWxlbWVudChhbmNob3IpO1xyXG4gICAgICAgICAgICBhY3RpdmF0ZU5hdkRvdHMoYW5jaG9yLCBpbmRleCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJldHVucyBgdXBgIG9yIGBkb3duYCBkZXBlbmRpbmcgb24gdGhlIHNjcm9sbGluZyBtb3ZlbWVudCB0byByZWFjaCBpdHMgZGVzdGluYXRpb25cclxuICAgICAgICAqIGZyb20gdGhlIGN1cnJlbnQgc2VjdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFltb3ZlbWVudChkZXN0aW55KXtcclxuICAgICAgICAgICAgdmFyIGZyb21JbmRleCA9IGluZGV4KCQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSwgU0VDVElPTl9TRUwpO1xyXG4gICAgICAgICAgICB2YXIgdG9JbmRleCA9IGluZGV4KGRlc3RpbnksIFNFQ1RJT05fU0VMKTtcclxuICAgICAgICAgICAgaWYoIGZyb21JbmRleCA9PSB0b0luZGV4KXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoZnJvbUluZGV4ID4gdG9JbmRleCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VwJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ2Rvd24nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBSZXR1bnMgYHJpZ2h0YCBvciBgbGVmdGAgZGVwZW5kaW5nIG9uIHRoZSBzY3JvbGxpbmcgbW92ZW1lbnQgdG8gcmVhY2ggaXRzIGRlc3RpbmF0aW9uXHJcbiAgICAgICAgKiBmcm9tIHRoZSBjdXJyZW50IHNsaWRlLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0WG1vdmVtZW50KGZyb21JbmRleCwgdG9JbmRleCl7XHJcbiAgICAgICAgICAgIGlmKCBmcm9tSW5kZXggPT0gdG9JbmRleCl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGZyb21JbmRleCA+IHRvSW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdsZWZ0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ3JpZ2h0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRhYmxlQ2xhc3MoZWxlbWVudCl7XHJcbiAgICAgICAgICAgIC8vSW4gY2FzZSB3ZSBhcmUgc3R5bGluZyBmb3IgdGhlIDJuZCB0aW1lIGFzIGluIHdpdGggcmVwb25zaXZlU2xpZGVzXHJcbiAgICAgICAgICAgIGlmKCFoYXNDbGFzcyhlbGVtZW50LCBUQUJMRSkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gVEFCTEVfQ0VMTDtcclxuICAgICAgICAgICAgICAgIHdyYXBwZXIuc3R5bGUuaGVpZ2h0ID0gZ2V0VGFibGVIZWlnaHQoZWxlbWVudCkgKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIFRBQkxFKTtcclxuICAgICAgICAgICAgICAgIHdyYXBJbm5lcihlbGVtZW50LCB3cmFwcGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGFibGVIZWlnaHQoZWxlbWVudCl7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uSGVpZ2h0ID0gd2luZG93c0hlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMucGFkZGluZ1RvcCB8fCBvcHRpb25zLnBhZGRpbmdCb3R0b20pe1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb24gPSBlbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgaWYoIWhhc0NsYXNzKHNlY3Rpb24sIFNFQ1RJT04pKXtcclxuICAgICAgICAgICAgICAgICAgICBzZWN0aW9uID0gY2xvc2VzdChlbGVtZW50LCBTRUNUSU9OX1NFTCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdzID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShzZWN0aW9uKVsncGFkZGluZy10b3AnXSkgKyBwYXJzZUludChnZXRDb21wdXRlZFN0eWxlKHNlY3Rpb24pWydwYWRkaW5nLWJvdHRvbSddKTtcclxuICAgICAgICAgICAgICAgIHNlY3Rpb25IZWlnaHQgPSAod2luZG93c0hlaWdodCAtIHBhZGRpbmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb25IZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgYSBjc3MzIHRyYW5zZm9ybSBwcm9wZXJ0eSB0byB0aGUgY29udGFpbmVyIGNsYXNzIHdpdGggb3Igd2l0aG91dCBhbmltYXRpb24gZGVwZW5kaW5nIG9uIHRoZSBhbmltYXRlZCBwYXJhbS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvbnRhaW5lcih0cmFuc2xhdGUzZCwgYW5pbWF0ZWQpe1xyXG4gICAgICAgICAgICBpZihhbmltYXRlZCl7XHJcbiAgICAgICAgICAgICAgICBhZGRBbmltYXRpb24oY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVBbmltYXRpb24oY29udGFpbmVyKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3NzKGNvbnRhaW5lciwgZ2V0VHJhbnNmb3Jtcyh0cmFuc2xhdGUzZCkpO1xyXG4gICAgICAgICAgICBGUC50ZXN0LnRyYW5zbGF0ZTNkID0gdHJhbnNsYXRlM2Q7XHJcblxyXG4gICAgICAgICAgICAvL3N5bmNyb25vdXNseSByZW1vdmluZyB0aGUgY2xhc3MgYWZ0ZXIgdGhlIGFuaW1hdGlvbiBoYXMgYmVlbiBhcHBsaWVkLlxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhjb250YWluZXIsIE5PX1RSQU5TSVRJT04pO1xyXG4gICAgICAgICAgICB9LDEwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyBhIHNlY3Rpb24gYnkgaXRzIGFuY2hvciAvIGluZGV4XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTZWN0aW9uQnlBbmNob3Ioc2VjdGlvbkFuY2hvcil7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gJChTRUNUSU9OX1NFTCArICdbZGF0YS1hbmNob3I9XCInK3NlY3Rpb25BbmNob3IrJ1wiXScsIGNvbnRhaW5lcilbMF07XHJcbiAgICAgICAgICAgIGlmKCFzZWN0aW9uKXtcclxuICAgICAgICAgICAgICAgIHZhciBzZWN0aW9uSW5kZXggPSB0eXBlb2Ygc2VjdGlvbkFuY2hvciAhPT0gJ3VuZGVmaW5lZCcgPyBzZWN0aW9uQW5jaG9yIC0xIDogMDtcclxuICAgICAgICAgICAgICAgIHNlY3Rpb24gPSAkKFNFQ1RJT05fU0VMKVtzZWN0aW9uSW5kZXhdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2VjdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyBhIHNsaWRlIGluc2lkZSBhIGdpdmVuIHNlY3Rpb24gYnkgaXRzIGFuY2hvciAvIGluZGV4XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRTbGlkZUJ5QW5jaG9yKHNsaWRlQW5jaG9yLCBzZWN0aW9uKXtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gJChTTElERV9TRUwgKyAnW2RhdGEtYW5jaG9yPVwiJytzbGlkZUFuY2hvcisnXCJdJywgc2VjdGlvbilbMF07XHJcbiAgICAgICAgICAgIGlmKHNsaWRlID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgc2xpZGVBbmNob3IgPSB0eXBlb2Ygc2xpZGVBbmNob3IgIT09ICd1bmRlZmluZWQnID8gc2xpZGVBbmNob3IgOiAwO1xyXG4gICAgICAgICAgICAgICAgc2xpZGUgPSAkKFNMSURFX1NFTCwgc2VjdGlvbilbc2xpZGVBbmNob3JdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gc2xpZGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgdG8gdGhlIGdpdmVuIHNlY3Rpb24gYW5kIHNsaWRlIGFuY2hvcnNcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNjcm9sbFBhZ2VBbmRTbGlkZShzZWN0aW9uQW5jaG9yLCBzbGlkZUFuY2hvcil7XHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uID0gZ2V0U2VjdGlvbkJ5QW5jaG9yKHNlY3Rpb25BbmNob3IpO1xyXG5cclxuICAgICAgICAgICAgLy9kbyBub3RoaW5nIGlmIHRoZXJlJ3Mgbm8gc2VjdGlvbiB3aXRoIHRoZSBnaXZlbiBhbmNob3IgbmFtZVxyXG4gICAgICAgICAgICBpZihzZWN0aW9uID09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHZhciBzbGlkZSA9IGdldFNsaWRlQnlBbmNob3Ioc2xpZGVBbmNob3IsIHNlY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgLy93ZSBuZWVkIHRvIHNjcm9sbCB0byB0aGUgc2VjdGlvbiBhbmQgdGhlbiB0byB0aGUgc2xpZGVcclxuICAgICAgICAgICAgaWYgKGdldEFuY2hvcihzZWN0aW9uKSAhPT0gbGFzdFNjcm9sbGVkRGVzdGlueSAmJiAhaGFzQ2xhc3Moc2VjdGlvbiwgQUNUSVZFKSl7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxQYWdlKHNlY3Rpb24sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsU2xpZGVyKHNsaWRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vaWYgd2Ugd2VyZSBhbHJlYWR5IGluIHRoZSBzZWN0aW9uXHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxTbGlkZXIoc2xpZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgdGhlIHNsaWRlciB0byB0aGUgZ2l2ZW4gc2xpZGUgZGVzdGluYXRpb24gZm9yIHRoZSBnaXZlbiBzZWN0aW9uXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzY3JvbGxTbGlkZXIoc2xpZGUpe1xyXG4gICAgICAgICAgICBpZihzbGlkZSAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGxhbmRzY2FwZVNjcm9sbChjbG9zZXN0KHNsaWRlLCBTTElERVNfV1JBUFBFUl9TRUwpLCBzbGlkZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogQ3JlYXRlcyBhIGxhbmRzY2FwZSBuYXZpZ2F0aW9uIGJhciB3aXRoIGRvdHMgZm9yIGhvcml6b250YWwgc2xpZGVycy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFNsaWRlc05hdmlnYXRpb24oc2VjdGlvbiwgbnVtU2xpZGVzKXtcclxuICAgICAgICAgICAgYXBwZW5kVG8oY3JlYXRlRWxlbWVudEZyb21IVE1MKCc8ZGl2IGNsYXNzPVwiJyArIFNMSURFU19OQVYgKyAnXCI+PHVsPjwvdWw+PC9kaXY+JyksIHNlY3Rpb24pO1xyXG4gICAgICAgICAgICB2YXIgbmF2ID0gJChTTElERVNfTkFWX1NFTCwgc2VjdGlvbilbMF07XHJcblxyXG4gICAgICAgICAgICAvL3RvcCBvciBib3R0b21cclxuICAgICAgICAgICAgYWRkQ2xhc3MobmF2LCAnZnAtJyArIG9wdGlvbnMuc2xpZGVzTmF2UG9zaXRpb24pO1xyXG5cclxuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8IG51bVNsaWRlczsgaSsrKXtcclxuICAgICAgICAgICAgICAgIGFwcGVuZFRvKGNyZWF0ZUVsZW1lbnRGcm9tSFRNTCgnPGxpPjxhIGhyZWY9XCIjXCI+PHNwYW4gY2xhc3M9XCJmcC1zci1vbmx5XCI+JysgZ2V0QnVsbGV0TGlua05hbWUoaSwgJ1NsaWRlJykgKyc8L3NwYW4+PHNwYW4+PC9zcGFuPjwvYT48L2xpPicpLCAkKCd1bCcsIG5hdilbMF0gKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9jZW50ZXJpbmcgaXRcclxuICAgICAgICAgICAgY3NzKG5hdiwgeydtYXJnaW4tbGVmdCc6ICctJyArIChuYXYuaW5uZXJXaWR0aC8yKSArICdweCd9KTtcclxuXHJcbiAgICAgICAgICAgIGFkZENsYXNzKCQoJ2EnLCAkKCdsaScsIG5hdilbMF0gKSwgQUNUSVZFKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNldHMgdGhlIHN0YXRlIG9mIHRoZSB3ZWJzaXRlIGRlcGVuZGluZyBvbiB0aGUgYWN0aXZlIHNlY3Rpb24vc2xpZGUuXHJcbiAgICAgICAgKiBJdCBjaGFuZ2VzIHRoZSBVUkwgaGFzaCB3aGVuIG5lZWRlZCBhbmQgdXBkYXRlcyB0aGUgYm9keSBjbGFzcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldFN0YXRlKHNsaWRlSW5kZXgsIHNsaWRlQW5jaG9yLCBhbmNob3JMaW5rLCBzZWN0aW9uSW5kZXgpe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbkhhc2ggPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuYW5jaG9ycy5sZW5ndGggJiYgIW9wdGlvbnMubG9ja0FuY2hvcnMpe1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaXNuJ3QgaXQgdGhlIGZpcnN0IHNsaWRlP1xyXG4gICAgICAgICAgICAgICAgaWYoc2xpZGVJbmRleCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYW5jaG9yTGluayAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbkhhc2ggPSBhbmNob3JMaW5rO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbGlkZSB3aXRob3V0IGFuY2hvciBsaW5rPyBXZSB0YWtlIHRoZSBpbmRleCBpbnN0ZWFkLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHNsaWRlQW5jaG9yID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZUFuY2hvciA9IHNsaWRlSW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsZWRTbGlkZSA9IHNsaWRlQW5jaG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFVybEhhc2goc2VjdGlvbkhhc2ggKyAnLycgKyBzbGlkZUFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXJzdCBzbGlkZSB3b24ndCBoYXZlIHNsaWRlIGFuY2hvciwganVzdCB0aGUgc2VjdGlvbiBvbmVcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKHNsaWRlSW5kZXggIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbGVkU2xpZGUgPSBzbGlkZUFuY2hvcjtcclxuICAgICAgICAgICAgICAgICAgICBzZXRVcmxIYXNoKGFuY2hvckxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vc2VjdGlvbiB3aXRob3V0IHNsaWRlc1xyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBzZXRVcmxIYXNoKGFuY2hvckxpbmspO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzZXRCb2R5Q2xhc3MoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyB0aGUgVVJMIGhhc2guXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRVcmxIYXNoKHVybCl7XHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMucmVjb3JkSGlzdG9yeSl7XHJcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gdXJsO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vTW9iaWxlIENocm9tZSBkb2Vzbid0IHdvcmsgdGhlIG5vcm1hbCB3YXksIHNvLi4uIGxldHMgdXNlIEhUTUw1IGZvciBwaG9uZXMgOilcclxuICAgICAgICAgICAgICAgIGlmKGlzVG91Y2hEZXZpY2UgfHwgaXNUb3VjaCl7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAnIycgKyB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VVcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCBiYXNlVXJsICsgJyMnICsgdXJsICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgYW5jaG9yIGZvciB0aGUgZ2l2ZW4gc2xpZGUgLyBzZWN0aW9uLiBJdHMgaW5kZXggd2lsbCBiZSB1c2VkIGlmIHRoZXJlJ3Mgbm9uZS5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldEFuY2hvcihlbGVtZW50KXtcclxuICAgICAgICAgICAgaWYoIWVsZW1lbnQpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGFuY2hvciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudEluZGV4ID0gaW5kZXgoZWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAvL1NsaWRlIHdpdGhvdXQgYW5jaG9yIGxpbms/IFdlIHRha2UgdGhlIGluZGV4IGluc3RlYWQuXHJcbiAgICAgICAgICAgIGlmKGFuY2hvciA9PSBudWxsKXtcclxuICAgICAgICAgICAgICAgIGFuY2hvciA9IGVsZW1lbnRJbmRleDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGFuY2hvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2V0cyBhIGNsYXNzIGZvciB0aGUgYm9keSBvZiB0aGUgcGFnZSBkZXBlbmRpbmcgb24gdGhlIGFjdGl2ZSBzZWN0aW9uIC8gc2xpZGVcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEJvZHlDbGFzcygpe1xyXG4gICAgICAgICAgICB2YXIgc2VjdGlvbiA9ICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXTtcclxuICAgICAgICAgICAgdmFyIHNsaWRlID0gJChTTElERV9BQ1RJVkVfU0VMLCBzZWN0aW9uKVswXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZWN0aW9uQW5jaG9yID0gZ2V0QW5jaG9yKHNlY3Rpb24pO1xyXG4gICAgICAgICAgICB2YXIgc2xpZGVBbmNob3IgPSBnZXRBbmNob3Ioc2xpZGUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSBTdHJpbmcoc2VjdGlvbkFuY2hvcik7XHJcblxyXG4gICAgICAgICAgICBpZihzbGlkZSl7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dCArICctJyArIHNsaWRlQW5jaG9yO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2NoYW5naW5nIHNsYXNoIGZvciBkYXNoIHRvIG1ha2UgaXQgYSB2YWxpZCBDU1Mgc3R5bGVcclxuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgnLycsICctJykucmVwbGFjZSgnIycsJycpO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyBwcmV2aW91cyBhbmNob3IgY2xhc3Nlc1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NSZSA9IG5ldyBSZWdFeHAoJ1xcXFxiXFxcXHM/JyArIFZJRVdJTkdfUFJFRklYICsgJy1bXlxcXFxzXStcXFxcYicsIFwiZ1wiKTtcclxuICAgICAgICAgICAgJGJvZHkuY2xhc3NOYW1lID0gJGJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoY2xhc3NSZSwgJycpO1xyXG5cclxuICAgICAgICAgICAgLy9hZGRpbmcgdGhlIGN1cnJlbnQgYW5jaG9yXHJcbiAgICAgICAgICAgIGFkZENsYXNzKCRib2R5LCBWSUVXSU5HX1BSRUZJWCArICctJyArIHRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBDaGVja3MgZm9yIHRyYW5zbGF0ZTNkIHN1cHBvcnRcclxuICAgICAgICAqIEByZXR1cm4gYm9vbGVhblxyXG4gICAgICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81NjYxNjcxL2RldGVjdGluZy10cmFuc2Zvcm0tdHJhbnNsYXRlM2Qtc3VwcG9ydFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc3VwcG9ydDNkKCkge1xyXG4gICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXHJcbiAgICAgICAgICAgICAgICBoYXMzZCxcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dlYmtpdFRyYW5zZm9ybSc6Jy13ZWJraXQtdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICAgICAnT1RyYW5zZm9ybSc6Jy1vLXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ21zVHJhbnNmb3JtJzonLW1zLXRyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ01velRyYW5zZm9ybSc6Jy1tb3otdHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzondHJhbnNmb3JtJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJldmVudGluZyB0aGUgc3R5bGUgcDplbXB0eXtkaXNwbGF5OiBub25lO30gZnJvbSByZXR1cm5pbmcgdGhlIHdyb25nIHJlc3VsdFxyXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgICAgIC8vIEFkZCBpdCB0byB0aGUgYm9keSB0byBnZXQgdGhlIGNvbXB1dGVkIHN0eWxlLlxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCwgbnVsbCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciB0IGluIHRyYW5zZm9ybXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlbC5zdHlsZVt0XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuc3R5bGVbdF0gPSAndHJhbnNsYXRlM2QoMXB4LDFweCwxcHgpJztcclxuICAgICAgICAgICAgICAgICAgICBoYXMzZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHRyYW5zZm9ybXNbdF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiAoaGFzM2QgIT09IHVuZGVmaW5lZCAmJiBoYXMzZC5sZW5ndGggPiAwICYmIGhhczNkICE9PSAnbm9uZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBSZW1vdmVzIHRoZSBhdXRvIHNjcm9sbGluZyBhY3Rpb24gZmlyZWQgYnkgdGhlIG1vdXNlIHdoZWVsIGFuZCB0cmFja3BhZC5cclxuICAgICAgICAqIEFmdGVyIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgbW91c2V3aGVlbCBhbmQgdHJhY2twYWQgbW92ZW1lbnRzIHdvbid0IHNjcm9sbCB0aHJvdWdoIHNlY3Rpb25zLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTW91c2VXaGVlbEhhbmRsZXIoKXtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCBNb3VzZVdoZWVsSGFuZGxlciwgZmFsc2UpOyAvL0lFOSwgQ2hyb21lLCBTYWZhcmksIE9wZXJcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3doZWVsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9GaXJlZm94XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdNb3pNb3VzZVBpeGVsU2Nyb2xsJywgTW91c2VXaGVlbEhhbmRsZXIsIGZhbHNlKTsgLy9vbGQgRmlyZWZveFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29ubW91c2V3aGVlbCcsIE1vdXNlV2hlZWxIYW5kbGVyKTsgLy9JRSA2LzcvOFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgdGhlIGF1dG8gc2Nyb2xsaW5nIGFjdGlvbiBmb3IgdGhlIG1vdXNlIHdoZWVsIGFuZCB0cmFja3BhZC5cclxuICAgICAgICAqIEFmdGVyIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLCB0aGUgbW91c2V3aGVlbCBhbmQgdHJhY2twYWQgbW92ZW1lbnRzIHdpbGwgc2Nyb2xsIHRocm91Z2ggc2VjdGlvbnNcclxuICAgICAgICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0V2ZW50cy93aGVlbFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkTW91c2VXaGVlbEhhbmRsZXIoKXtcclxuICAgICAgICAgICAgdmFyIHByZWZpeCA9ICcnO1xyXG4gICAgICAgICAgICB2YXIgX2FkZEV2ZW50TGlzdGVuZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAod2luZG93LmFkZEV2ZW50TGlzdGVuZXIpe1xyXG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50TGlzdGVuZXIgPSBcImFkZEV2ZW50TGlzdGVuZXJcIjtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lciA9IFwiYXR0YWNoRXZlbnRcIjtcclxuICAgICAgICAgICAgICAgIHByZWZpeCA9ICdvbic7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGRldGVjdCBhdmFpbGFibGUgd2hlZWwgZXZlbnRcclxuICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSAnb253aGVlbCcgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgPyAnd2hlZWwnIDogLy8gTW9kZXJuIGJyb3dzZXJzIHN1cHBvcnQgXCJ3aGVlbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNld2hlZWwgIT09IHVuZGVmaW5lZCA/ICdtb3VzZXdoZWVsJyA6IC8vIFdlYmtpdCBhbmQgSUUgc3VwcG9ydCBhdCBsZWFzdCBcIm1vdXNld2hlZWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzsgLy8gbGV0J3MgYXNzdW1lIHRoYXQgcmVtYWluaW5nIGJyb3dzZXJzIGFyZSBvbGRlciBGaXJlZm94XHJcbiAgICAgICAgICAgIHZhciBwYXNzaXZlRXZlbnQgPSBnX3N1cHBvcnRzUGFzc2l2ZSA/IHtwYXNzaXZlOiBmYWxzZSB9OiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmKHN1cHBvcnQgPT0gJ0RPTU1vdXNlU2Nyb2xsJyl7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudFsgX2FkZEV2ZW50TGlzdGVuZXIgXShwcmVmaXggKyAnTW96TW91c2VQaXhlbFNjcm9sbCcsIE1vdXNlV2hlZWxIYW5kbGVyLCBwYXNzaXZlRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2hhbmRsZSBNb3pNb3VzZVBpeGVsU2Nyb2xsIGluIG9sZGVyIEZpcmVmb3hcclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50WyBfYWRkRXZlbnRMaXN0ZW5lciBdKHByZWZpeCArIHN1cHBvcnQsIE1vdXNlV2hlZWxIYW5kbGVyLCBwYXNzaXZlRXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEJpbmRpbmcgdGhlIG1vdXNlbW92ZSB3aGVuIHRoZSBtb3VzZSdzIG1pZGRsZSBidXR0b24gaXMgcHJlc3NlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkTWlkZGxlV2hlZWxIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd25IYW5kbGVyKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFVuYmluZGluZyB0aGUgbW91c2Vtb3ZlIHdoZW4gdGhlIG1vdXNlJ3MgbWlkZGxlIGJ1dHRvbiBpcyByZWxlYXNlZFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlTWlkZGxlV2hlZWxIYW5kbGVyKCl7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd25IYW5kbGVyKTtcclxuICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEFkZHMgdGhlIHBvc3NpYmlsaXR5IHRvIGF1dG8gc2Nyb2xsIHRocm91Z2ggc2VjdGlvbnMgb24gdG91Y2ggZGV2aWNlcy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRvdWNoSGFuZGxlcigpe1xyXG4gICAgICAgICAgICBpZihpc1RvdWNoRGV2aWNlIHx8IGlzVG91Y2gpe1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50cy50b3VjaG1vdmUsIHByZXZlbnRCb3VuY2luZywge3Bhc3NpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGJvZHkuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2htb3ZlLCBwcmV2ZW50Qm91bmNpbmcsIHtwYXNzaXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB0b3VjaFdyYXBwZXIgPSBvcHRpb25zLnRvdWNoV3JhcHBlcjtcclxuICAgICAgICAgICAgICAgIHRvdWNoV3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50cy50b3VjaHN0YXJ0LCB0b3VjaFN0YXJ0SGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICB0b3VjaFdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2htb3ZlLCB0b3VjaE1vdmVIYW5kbGVyLCB7cGFzc2l2ZTogZmFsc2V9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b3VjaFdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2hzdGFydCwgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgdG91Y2hXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNobW92ZSwgdG91Y2hNb3ZlSGFuZGxlciwge3Bhc3NpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogUmVtb3ZlcyB0aGUgYXV0byBzY3JvbGxpbmcgZm9yIHRvdWNoIGRldmljZXMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVUb3VjaEhhbmRsZXIoKXtcclxuICAgICAgICAgICAgaWYoaXNUb3VjaERldmljZSB8fCBpc1RvdWNoKXtcclxuICAgICAgICAgICAgICAgIC8vIG5vcm1hbFNjcm9sbEVsZW1lbnRzIHJlcXVpcmVzIGl0IG9mZiAjMjY5MVxyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nKXtcclxuICAgICAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50cy50b3VjaG1vdmUsIHRvdWNoTW92ZUhhbmRsZXIsIHtwYXNzaXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNobW92ZSwgcHJldmVudEJvdW5jaW5nLCB7cGFzc2l2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2hXcmFwcGVyID0gb3B0aW9ucy50b3VjaFdyYXBwZXI7XHJcbiAgICAgICAgICAgICAgICB0b3VjaFdyYXBwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMudG91Y2hzdGFydCwgdG91Y2hTdGFydEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgdG91Y2hXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLnRvdWNobW92ZSwgdG91Y2hNb3ZlSGFuZGxlciwge3Bhc3NpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgKiBSZXR1cm5zIGFuZCBvYmplY3Qgd2l0aCBNaWNyb3NvZnQgcG9pbnRlcnMgKGZvciBJRTwxMSBhbmQgZm9yIElFID49IDExKVxyXG4gICAgICAgICogaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2RuMzA0ODg2KHY9dnMuODUpLmFzcHhcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1TUG9pbnRlcigpe1xyXG4gICAgICAgICAgICB2YXIgcG9pbnRlcjtcclxuXHJcbiAgICAgICAgICAgIC8vSUUgPj0gMTEgJiByZXN0IG9mIGJyb3dzZXJzXHJcbiAgICAgICAgICAgIGlmKHdpbmRvdy5Qb2ludGVyRXZlbnQpe1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHsgZG93bjogJ3BvaW50ZXJkb3duJywgbW92ZTogJ3BvaW50ZXJtb3ZlJ307XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vSUUgPCAxMVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgcG9pbnRlciA9IHsgZG93bjogJ01TUG9pbnRlckRvd24nLCBtb3ZlOiAnTVNQb2ludGVyTW92ZSd9O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcG9pbnRlcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0cyB0aGUgcGFnZVggYW5kIHBhZ2VZIHByb3BlcnRpZXMgZGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLlxyXG4gICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FsdmFyb3RyaWdvL2Z1bGxQYWdlLmpzL2lzc3Vlcy8xOTQjaXNzdWVjb21tZW50LTM0MDY5ODU0XHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRFdmVudHNQYWdlKGUpe1xyXG4gICAgICAgICAgICB2YXIgZXZlbnRzID0gW107XHJcblxyXG4gICAgICAgICAgICBldmVudHMueSA9ICh0eXBlb2YgZS5wYWdlWSAhPT0gJ3VuZGVmaW5lZCcgJiYgKGUucGFnZVkgfHwgZS5wYWdlWCkgPyBlLnBhZ2VZIDogZS50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICAgICAgZXZlbnRzLnggPSAodHlwZW9mIGUucGFnZVggIT09ICd1bmRlZmluZWQnICYmIChlLnBhZ2VZIHx8IGUucGFnZVgpID8gZS5wYWdlWCA6IGUudG91Y2hlc1swXS5wYWdlWCk7XHJcblxyXG4gICAgICAgICAgICAvL2luIHRvdWNoIGRldmljZXMgd2l0aCBzY3JvbGxCYXI6dHJ1ZSwgZS5wYWdlWSBpcyBkZXRlY3RlZCwgYnV0IHdlIGhhdmUgdG8gZGVhbCB3aXRoIHRvdWNoIGV2ZW50cy4gIzEwMDhcclxuICAgICAgICAgICAgaWYoaXNUb3VjaCAmJiBpc1JlYWxseVRvdWNoKGUpICYmIG9wdGlvbnMuc2Nyb2xsQmFyICYmIHR5cGVvZiBlLnRvdWNoZXMgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIGV2ZW50cy55ID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xyXG4gICAgICAgICAgICAgICAgZXZlbnRzLnggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBldmVudHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNsaWRlcyBzaWxlbnRseSAod2l0aCBubyBhbmltYXRpb24pIHRoZSBhY3RpdmUgc2xpZGVyIHRvIHRoZSBnaXZlbiBzbGlkZS5cclxuICAgICAgICAqIEBwYXJhbSBub0NhbGxiYWNrIHtib29sfSB0cnVlIG9yIGRlZmluZWQgLT4gbm8gY2FsbGJhY2tzXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzaWxlbnRMYW5kc2NhcGVTY3JvbGwoYWN0aXZlU2xpZGUsIG5vQ2FsbGJhY2tzKXtcclxuICAgICAgICAgICAgc2V0U2Nyb2xsaW5nU3BlZWQoMCwgJ2ludGVybmFsJyk7XHJcblxyXG4gICAgICAgICAgICBpZih0eXBlb2Ygbm9DYWxsYmFja3MgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIC8vcHJldmVudGluZyBmaXJpbmcgY2FsbGJhY2tzIGFmdGVyU2xpZGVMb2FkIGV0Yy5cclxuICAgICAgICAgICAgICAgIGlzUmVzaXppbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsYW5kc2NhcGVTY3JvbGwoY2xvc2VzdChhY3RpdmVTbGlkZSwgU0xJREVTX1dSQVBQRVJfU0VMKSwgYWN0aXZlU2xpZGUpO1xyXG5cclxuICAgICAgICAgICAgaWYodHlwZW9mIG5vQ2FsbGJhY2tzICE9PSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBpc1Jlc2l6aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHNldFNjcm9sbGluZ1NwZWVkKG9yaWdpbmFscy5zY3JvbGxpbmdTcGVlZCwgJ2ludGVybmFsJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNjcm9sbHMgc2lsZW50bHkgKHdpdGggbm8gYW5pbWF0aW9uKSB0aGUgcGFnZSB0byB0aGUgZ2l2ZW4gWSBwb3NpdGlvbi5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHNpbGVudFNjcm9sbCh0b3Ape1xyXG4gICAgICAgICAgICAvLyBUaGUgZmlyc3Qgc2VjdGlvbiBjYW4gaGF2ZSBhIG5lZ2F0aXZlIHZhbHVlIGluIGlPUyAxMC4gTm90IHF1aXRlIHN1cmUgd2h5OiAtMC4wMTQyODIyMjY1NjI1XHJcbiAgICAgICAgICAgIC8vIHRoYXQncyB3aHkgd2Ugcm91bmQgaXQgdG8gMC5cclxuICAgICAgICAgICAgdmFyIHJvdW5kZWRUb3AgPSBNYXRoLnJvdW5kKHRvcCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5jc3MzICYmIG9wdGlvbnMuYXV0b1Njcm9sbGluZyAmJiAhb3B0aW9ucy5zY3JvbGxCYXIpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZTNkID0gJ3RyYW5zbGF0ZTNkKDBweCwgLScgKyByb3VuZGVkVG9wICsgJ3B4LCAwcHgpJztcclxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybUNvbnRhaW5lcih0cmFuc2xhdGUzZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYob3B0aW9ucy5hdXRvU2Nyb2xsaW5nICYmICFvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICBjc3MoY29udGFpbmVyLCB7J3RvcCc6IC1yb3VuZGVkVG9wICsgJ3B4J30pO1xyXG4gICAgICAgICAgICAgICAgRlAudGVzdC50b3AgPSAtcm91bmRlZFRvcCArICdweCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxTZXR0aW5ncyA9IGdldFNjcm9sbFNldHRpbmdzKHJvdW5kZWRUb3ApO1xyXG4gICAgICAgICAgICAgICAgc2V0U2Nyb2xsaW5nKHNjcm9sbFNldHRpbmdzLmVsZW1lbnQsIHNjcm9sbFNldHRpbmdzLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFJldHVybnMgdGhlIGNyb3NzLWJyb3dzZXIgdHJhbnNmb3JtIHN0cmluZy5cclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRyYW5zZm9ybXModHJhbnNsYXRlM2Qpe1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogdHJhbnNsYXRlM2QsXHJcbiAgICAgICAgICAgICAgICAnLW1vei10cmFuc2Zvcm0nOiB0cmFuc2xhdGUzZCxcclxuICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzp0cmFuc2xhdGUzZCxcclxuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiB0cmFuc2xhdGUzZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBBbGxvd2luZyBvciBkaXNhbGxvd2luZyB0aGUgbW91c2Uvc3dpcGUgc2Nyb2xsIGluIGEgZ2l2ZW4gZGlyZWN0aW9uLiAobm90IGZvciBrZXlib2FyZClcclxuICAgICAgICAqIEB0eXBlICBtIChtb3VzZSkgb3IgayAoa2V5Ym9hcmQpXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRJc1Njcm9sbEFsbG93ZWQodmFsdWUsIGRpcmVjdGlvbiwgdHlwZSl7XHJcbiAgICAgICAgICAgIC8vdXAsIGRvd24sIGxlZnQsIHJpZ2h0XHJcbiAgICAgICAgICAgIGlmKGRpcmVjdGlvbiAhPT0gJ2FsbCcpe1xyXG4gICAgICAgICAgICAgICAgaXNTY3JvbGxBbGxvd2VkW3R5cGVdW2RpcmVjdGlvbl0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9hbGwgZGlyZWN0aW9ucz9cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGlzU2Nyb2xsQWxsb3dlZFt0eXBlXSkuZm9yRWFjaChmdW5jdGlvbihrZXkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2Nyb2xsQWxsb3dlZFt0eXBlXVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAqIERlc3Ryb3lzIGZ1bGxwYWdlLmpzIHBsdWdpbiBldmVudHMgYW5kIG9wdGluYWxseSBpdHMgaHRtbCBtYXJrdXAgYW5kIHN0eWxlc1xyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveShhbGwpe1xyXG4gICAgICAgICAgICBzZXRBdXRvU2Nyb2xsaW5nKGZhbHNlLCAnaW50ZXJuYWwnKTtcclxuICAgICAgICAgICAgc2V0QWxsb3dTY3JvbGxpbmcodHJ1ZSk7XHJcbiAgICAgICAgICAgIHNldE1vdXNlSGlqYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICBhZGRDbGFzcyhjb250YWluZXIsIERFU1RST1lFRCk7XHJcblxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBhZnRlclNsaWRlTG9hZHNJZCwgXHJcbiAgICAgICAgICAgICAgICBhZnRlclNlY3Rpb25Mb2Fkc0lkLFxyXG4gICAgICAgICAgICAgICAgcmVzaXplSWQsXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxJZCxcclxuICAgICAgICAgICAgICAgIHNjcm9sbElkMixcclxuICAgICAgICAgICAgICAgIGdfZG91YmxlQ2hlY2tIZWlnaHRJZCxcclxuICAgICAgICAgICAgICAgIHJlc2l6ZUhhbmRsZXJJZFxyXG4gICAgICAgICAgICBdLmZvckVhY2goZnVuY3Rpb24odGltZW91dElkKXtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBoYXNoQ2hhbmdlSGFuZGxlcik7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duSGFuZGxlcik7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywga2V5VXBIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgICAgIFsnY2xpY2snLCAndG91Y2hzdGFydCddLmZvckVhY2goZnVuY3Rpb24oZXZlbnROYW1lKXtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBkZWxlZ2F0ZWRFdmVudHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIFsnbW91c2VlbnRlcicsICd0b3VjaHN0YXJ0JywgJ21vdXNlbGVhdmUnLCAndG91Y2hlbmQnXS5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50TmFtZSl7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgb25Nb3VzZUVudGVyT3JMZWF2ZSwgdHJ1ZSk7IC8vdHJ1ZSBpcyByZXF1aXJlZCFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2xldHMgbWFrZSBhIG1lc3MhXHJcbiAgICAgICAgICAgIGlmKGFsbCl7XHJcbiAgICAgICAgICAgICAgICBkZXN0cm95U3RydWN0dXJlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgKiBSZW1vdmVzIGlubGluZSBzdHlsZXMgYWRkZWQgYnkgZnVsbHBhZ2UuanNcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3lTdHJ1Y3R1cmUoKXtcclxuICAgICAgICAgICAgLy9yZXNldGluZyB0aGUgYHRvcGAgb3IgYHRyYW5zbGF0ZWAgcHJvcGVydGllcyB0byAwXHJcbiAgICAgICAgICAgIHNpbGVudFNjcm9sbCgwKTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9hZGluZyBhbGwgdGhlIGxhenkgbG9hZCBjb250ZW50XHJcbiAgICAgICAgICAgICQoJ2ltZ1tkYXRhLXNyY10sIHNvdXJjZVtkYXRhLXNyY10sIGF1ZGlvW2RhdGEtc3JjXSwgaWZyYW1lW2RhdGEtc3JjXScsIGNvbnRhaW5lcikuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgIHNldFNyYyhpdGVtLCAnc3JjJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnaW1nW2RhdGEtc3Jjc2V0XScpLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICBzZXRTcmMoaXRlbSwgJ3NyY3NldCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlbW92ZSgkKFNFQ1RJT05fTkFWX1NFTCArICcsICcgKyBTTElERVNfTkFWX1NFTCArICAnLCAnICsgU0xJREVTX0FSUk9XX1NFTCkpO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyBpbmxpbmUgc3R5bGVzXHJcbiAgICAgICAgICAgIGNzcygkKFNFQ1RJT05fU0VMKSwge1xyXG4gICAgICAgICAgICAgICAgJ2hlaWdodCc6ICcnLFxyXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtY29sb3InIDogJycsXHJcbiAgICAgICAgICAgICAgICAncGFkZGluZyc6ICcnXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY3NzKCQoU0xJREVfU0VMKSwge1xyXG4gICAgICAgICAgICAgICAgJ3dpZHRoJzogJydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjc3MoY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICAnaGVpZ2h0JzogJycsXHJcbiAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnJyxcclxuICAgICAgICAgICAgICAgICctbXMtdG91Y2gtYWN0aW9uJzogJycsXHJcbiAgICAgICAgICAgICAgICAndG91Y2gtYWN0aW9uJzogJydcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjc3MoJGh0bWxCb2R5LCB7XHJcbiAgICAgICAgICAgICAgICAnb3ZlcmZsb3cnOiAnJyxcclxuICAgICAgICAgICAgICAgICdoZWlnaHQnOiAnJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSAuZnAtZW5hYmxlZCBjbGFzc1xyXG4gICAgICAgICAgICByZW1vdmVDbGFzcygkaHRtbCwgRU5BQkxFRCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgLmZwLXJlc3BvbnNpdmUgY2xhc3NcclxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJGJvZHksIFJFU1BPTlNJVkUpO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVtb3ZlIGFsbCBvZiB0aGUgLmZwLXZpZXdpbmctIGNsYXNzZXNcclxuICAgICAgICAgICAgJGJvZHkuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lLmluZGV4T2YoVklFV0lOR19QUkVGSVgpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoJGJvZHksIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyBhZGRlZCBjbGFzc2VzXHJcbiAgICAgICAgICAgICQoU0VDVElPTl9TRUwgKyAnLCAnICsgU0xJREVfU0VMKS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIgJiYgb3B0aW9ucy5zY3JvbGxPdmVyZmxvdyl7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvd0hhbmRsZXIucmVtb3ZlKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgVEFCTEUgKyAnICcgKyBBQ1RJVkUgKyAnICcgKyBDT01QTEVURUxZKTtcclxuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1N0eWxlcyA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWZwLXN0eWxlcycpO1xyXG4gICAgICAgICAgICAgICAgaWYocHJldmlvdXNTdHlsZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdzdHlsZScsIGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWZwLXN0eWxlcycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3JlbW92aW5nIGFuY2hvcnMgaWYgdGhleSB3ZXJlIG5vdCBzZXQgdXNpbmcgdGhlIEhUTUwgbWFya3VwXHJcbiAgICAgICAgICAgICAgICBpZihoYXNDbGFzcyhpdGVtLCBTRUNUSU9OKSAmJiAhZ19pbml0aWFsQW5jaG9yc0luRG9tKXtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1hbmNob3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL3JlbW92aW5nIHRoZSBhcHBsaWVkIHRyYW5zaXRpb24gZnJvbSB0aGUgZnVsbHBhZ2Ugd3JhcHBlclxyXG4gICAgICAgICAgICByZW1vdmVBbmltYXRpb24oY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIC8vVW53cmFwcGluZyBjb250ZW50XHJcbiAgICAgICAgICAgIFtUQUJMRV9DRUxMX1NFTCwgU0xJREVTX0NPTlRBSU5FUl9TRUwsU0xJREVTX1dSQVBQRVJfU0VMXS5mb3JFYWNoKGZ1bmN0aW9uKHNlbGVjdG9yKXtcclxuICAgICAgICAgICAgICAgICQoc2VsZWN0b3IsIGNvbnRhaW5lcikuZm9yRWFjaChmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgICAgICAgICAvL3Vud3JhcCBub3QgYmVpbmcgdXNlIGluIGNhc2UgdGhlcmUncyBubyBjaGlsZCBlbGVtZW50IGluc2lkZSBhbmQgaXRzIGp1c3QgdGV4dFxyXG4gICAgICAgICAgICAgICAgICAgIHVud3JhcChpdGVtKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vcmVtb3ZpbmcgdGhlIGFwcGxpZWQgdHJhbnNpdGlvbiBmcm9tIHRoZSBmdWxscGFnZSB3cmFwcGVyXHJcbiAgICAgICAgICAgIGNzcyhjb250YWluZXIsIHtcclxuICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zaXRpb24nOiAnbm9uZScsXHJcbiAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6ICdub25lJ1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vc2Nyb2xsaW5nIHRoZSBwYWdlIHRvIHRoZSB0b3Agd2l0aCBubyBhbmltYXRpb25cclxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzZWxlY3RvcnNcclxuICAgICAgICAgICAgdmFyIHVzZWRTZWxlY3RvcnMgPSBbU0VDVElPTiwgU0xJREUsIFNMSURFU19DT05UQUlORVJdO1xyXG4gICAgICAgICAgICB1c2VkU2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcygkKCcuJyArIGl0ZW0pLCBpdGVtKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICogU2V0cyB0aGUgc3RhdGUgZm9yIGEgdmFyaWFibGUgd2l0aCBtdWx0aXBsZSBzdGF0ZXMgKG9yaWdpbmFsLCBhbmQgdGVtcG9yYWwpXHJcbiAgICAgICAgKiBTb21lIHZhcmlhYmxlcyBzdWNoIGFzIGBhdXRvU2Nyb2xsaW5nYCBvciBgcmVjb3JkSGlzdG9yeWAgbWlnaHQgY2hhbmdlIGF1dG9tYXRpY2FsbHkgaXRzIHN0YXRlIHdoZW4gdXNpbmcgYHJlc3BvbnNpdmVgIG9yIGBhdXRvU2Nyb2xsaW5nOmZhbHNlYC5cclxuICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBrZWVwIHRyYWNrIG9mIGJvdGggc3RhdGVzLCB0aGUgb3JpZ2luYWwgYW5kIHRoZSB0ZW1wb3JhbCBvbmUuXHJcbiAgICAgICAgKiBJZiB0eXBlIGlzIG5vdCAnaW50ZXJuYWwnLCB0aGVuIHdlIGFzc3VtZSB0aGUgdXNlciBpcyBnbG9iYWxseSBjaGFuZ2luZyB0aGUgdmFyaWFibGUuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRWYXJpYWJsZVN0YXRlKHZhcmlhYmxlLCB2YWx1ZSwgdHlwZSl7XHJcbiAgICAgICAgICAgIG9wdGlvbnNbdmFyaWFibGVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGlmKHR5cGUgIT09ICdpbnRlcm5hbCcpe1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxzW3ZhcmlhYmxlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIERpc3BsYXlzIHdhcm5pbmdzXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBkaXNwbGF5V2FybmluZ3MoKXtcclxuICAgICAgICAgICAgdmFyIGwgPSBvcHRpb25zWydsaScgKyAnYycgKyAnZW5zZUsnICsgJ2UnICsgJ3knXTtcclxuICAgICAgICAgICAgdmFyIG1zZ1N0eWxlID0gJ2ZvbnQtc2l6ZTogMTVweDtiYWNrZ3JvdW5kOnllbGxvdzsnO1xyXG5cclxuICAgICAgICAgICAgaWYoIWlzT0spe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdGdWxscGFnZS5qcyB2ZXJzaW9uIDMgaGFzIGNoYW5nZWQgaXRzIGxpY2Vuc2UgdG8gR1BMdjMgYW5kIGl0IHJlcXVpcmVzIGEgYGxpY2Vuc2VLZXlgIG9wdGlvbi4gUmVhZCBhYm91dCBpdCBoZXJlOicpO1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdodHRwczovL2dpdGh1Yi5jb20vYWx2YXJvdHJpZ28vZnVsbFBhZ2UuanMjb3B0aW9ucy4nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmKGwgJiYgbC5sZW5ndGggPCAyMCl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJyVjIFRoaXMgd2Vic2l0ZSB3YXMgbWFkZSB1c2luZyBmdWxsUGFnZS5qcyBzbGlkZXIuIE1vcmUgaW5mbyBvbiB0aGUgZm9sbG93aW5nIHdlYnNpdGU6JywgbXNnU3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCclYyBodHRwczovL2FsdmFyb3RyaWdvLmNvbS9mdWxsUGFnZS8nLCBtc2dTdHlsZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKGhhc0NsYXNzKCRodG1sLCBFTkFCTEVEKSl7XHJcbiAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ2Vycm9yJywgJ0Z1bGxwYWdlLmpzIGNhbiBvbmx5IGJlIGluaXRpYWxpemVkIG9uY2UgYW5kIHlvdSBhcmUgZG9pbmcgaXQgbXVsdGlwbGUgdGltZXMhJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgbXV0dWFsbHkgZXhjbHVzaXZlIHNldHRpbmdzXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCAmJlxyXG4gICAgICAgICAgICAgICAgKG9wdGlvbnMubG9vcFRvcCB8fCBvcHRpb25zLmxvb3BCb3R0b20pKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCd3YXJuJywgJ09wdGlvbiBgbG9vcFRvcC9sb29wQm90dG9tYCBpcyBtdXR1YWxseSBleGNsdXNpdmUgd2l0aCBgY29udGludW91c1ZlcnRpY2FsYDsgYGNvbnRpbnVvdXNWZXJ0aWNhbGAgZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYob3B0aW9ucy5zY3JvbGxPdmVyZmxvdyAmJlxyXG4gICAgICAgICAgICAgICAob3B0aW9ucy5zY3JvbGxCYXIgfHwgIW9wdGlvbnMuYXV0b1Njcm9sbGluZykpe1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCd3YXJuJywgJ09wdGlvbnMgc2Nyb2xsQmFyOnRydWUgYW5kIGF1dG9TY3JvbGxpbmc6ZmFsc2UgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIHNjcm9sbE92ZXJmbG93OnRydWUuIFNlY3Rpb25zIHdpdGggc2Nyb2xsT3ZlcmZsb3cgbWlnaHQgbm90IHdvcmsgd2VsbCBpbiBGaXJlZm94Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKG9wdGlvbnMuY29udGludW91c1ZlcnRpY2FsICYmIChvcHRpb25zLnNjcm9sbEJhciB8fCAhb3B0aW9ucy5hdXRvU2Nyb2xsaW5nKSl7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbnRpbnVvdXNWZXJ0aWNhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCd3YXJuJywgJ1Njcm9sbCBiYXJzIChgc2Nyb2xsQmFyOnRydWVgIG9yIGBhdXRvU2Nyb2xsaW5nOmZhbHNlYCkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZSB3aXRoIGBjb250aW51b3VzVmVydGljYWxgOyBgY29udGludW91c1ZlcnRpY2FsYCBkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZihvcHRpb25zLnNjcm9sbE92ZXJmbG93ICYmIG9wdGlvbnMuc2Nyb2xsT3ZlcmZsb3dIYW5kbGVyID09IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zY3JvbGxPdmVyZmxvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdUaGUgb3B0aW9uIGBzY3JvbGxPdmVyZmxvdzp0cnVlYCByZXF1aXJlcyB0aGUgZmlsZSBgc2Nyb2xsb3ZlcmZsb3cubWluLmpzYC4gUGxlYXNlIGluY2x1ZGUgaXQgYmVmb3JlIGZ1bGxQYWdlLmpzLicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL3VzaW5nIGV4dGVuc2lvbnM/IFdyb25nIGZpbGUhXHJcbiAgICAgICAgICAgIGV4dGVuc2lvbnMuZm9yRWFjaChmdW5jdGlvbihleHRlbnNpb24pe1xyXG4gICAgICAgICAgICAgICAgLy9pcyB0aGUgb3B0aW9uIHNldCB0byB0cnVlP1xyXG4gICAgICAgICAgICAgICAgaWYob3B0aW9uc1tleHRlbnNpb25dKXtcclxuICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ3dhcm4nLCAnZnVsbHBhZ2UuanMgZXh0ZW5zaW9ucyByZXF1aXJlIGZ1bGxwYWdlLmV4dGVuc2lvbnMubWluLmpzIGZpbGUgaW5zdGVhZCBvZiB0aGUgdXN1YWwgZnVsbHBhZ2UuanMuIFJlcXVlc3RlZDogJysgZXh0ZW5zaW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2FuY2hvcnMgY2FuIG5vdCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGFueSBlbGVtZW50IElEIG9yIE5BTUVcclxuICAgICAgICAgICAgb3B0aW9ucy5hbmNob3JzLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYXNlIGluc2Vuc2l0aXZlIHNlbGVjdG9ycyAoaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTk0NjUxODcvMTA4MTM5NilcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lQXR0ciA9IFtdLnNsaWNlLmNhbGwoJCgnW25hbWVdJykpLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uZ2V0QXR0cmlidXRlKCduYW1lJykgJiYgaXRlbS5nZXRBdHRyaWJ1dGUoJ25hbWUnKS50b0xvd2VyQ2FzZSgpID09IG5hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpZEF0dHIgPSBbXS5zbGljZS5jYWxsKCQoJ1tpZF0nKSkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykgJiYgaXRlbS5nZXRBdHRyaWJ1dGUoJ2lkJykudG9Mb3dlckNhc2UoKSA9PSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpZEF0dHIubGVuZ3RoIHx8IG5hbWVBdHRyLmxlbmd0aCApe1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcignZXJyb3InLCAnZGF0YS1hbmNob3IgdGFncyBjYW4gbm90IGhhdmUgdGhlIHNhbWUgdmFsdWUgYXMgYW55IGBpZGAgZWxlbWVudCBvbiB0aGUgc2l0ZSAob3IgYG5hbWVgIGVsZW1lbnQgZm9yIElFKS4nKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gaWRBdHRyLmxlbmd0aCA/ICdpZCcgOiAnbmFtZSc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGlkQXR0ci5sZW5ndGggfHwgbmFtZUF0dHIubGVuZ3RoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdlcnJvcicsICdcIicgKyBuYW1lICsgJ1wiIGlzIGlzIGJlaW5nIHVzZWQgYnkgYW5vdGhlciBlbGVtZW50IGAnKyBwcm9wZXJ0eU5hbWUgKydgIHByb3BlcnR5Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogR2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHdoZW4gdXNpbmcgalF1ZXJ5IGFuaW1hdGlvbnNcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbGVkUG9zaXRpb24oZWxlbWVudCl7XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgbm90IHRoZSB3aW5kb3cgZWxlbWVudCBhbmQgaXMgYSBzbGlkZT9cclxuICAgICAgICAgICAgaWYoZWxlbWVudC5zZWxmICE9IHdpbmRvdyAmJiBoYXNDbGFzcyhlbGVtZW50LCBTTElERVNfV1JBUFBFUikpe1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBlbGVtZW50LnNjcm9sbExlZnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZighb3B0aW9ucy5hdXRvU2Nyb2xsaW5nICB8fCBvcHRpb25zLnNjcm9sbEJhcil7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGdldFNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGVsZW1lbnQub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2dldHMgdGhlIHRvcCBwcm9wZXJ0eSBvZiB0aGUgd3JhcHBlclxyXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIFNpbXVsYXRlcyB0aGUgYW5pbWF0ZWQgc2Nyb2xsVG9wIG9mIGpRdWVyeS4gVXNlZCB3aGVuIGNzczM6ZmFsc2Ugb3Igc2Nyb2xsQmFyOnRydWUgb3IgYXV0b1Njcm9sbGluZzpmYWxzZVxyXG4gICAgICAgICogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTYxMzY3ODkvMTA4MTM5NlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbWVudCwgdG8sIGR1cmF0aW9uLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBnZXRTY3JvbGxlZFBvc2l0aW9uKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICB2YXIgY2hhbmdlID0gdG8gLSBzdGFydDtcclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gMDtcclxuICAgICAgICAgICAgdmFyIGluY3JlbWVudCA9IDIwO1xyXG4gICAgICAgICAgICBhY3RpdmVBbmltYXRpb24gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgdmFyIGFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgaWYoYWN0aXZlQW5pbWF0aW9uKXsgLy9pbiBvcmRlciB0byBzdG9wZSBpdCBmcm9tIG90aGVyIGZ1bmN0aW9uIHdoZW5ldmVyIHdlIHdhbnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gdG87XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lICs9IGluY3JlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoZHVyYXRpb24pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB3aW5kb3cuZnBfZWFzaW5nc1tvcHRpb25zLmVhc2luZ10oY3VycmVudFRpbWUsIHN0YXJ0LCBjaGFuZ2UsIGR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldFNjcm9sbGluZyhlbGVtZW50LCB2YWwpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50VGltZSA8IGR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYW5pbWF0ZVNjcm9sbCwgaW5jcmVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eXBlb2YgY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAoY3VycmVudFRpbWUgPCBkdXJhdGlvbil7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGVTY3JvbGwoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogU2Nyb2xscyB0aGUgcGFnZSAvIHNsaWRlciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIHBpeGVscy5cclxuICAgICAgICAqIEl0IHdpbGwgZG8gaXQgb25lIG9yIGFub3RoZXIgd2F5IGRlcGVuZGlvbmcgb24gdGhlIGxpYnJhcnkncyBjb25maWcuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzZXRTY3JvbGxpbmcoZWxlbWVudCwgdmFsKXtcclxuICAgICAgICAgICAgaWYoIW9wdGlvbnMuYXV0b1Njcm9sbGluZyB8fCBvcHRpb25zLnNjcm9sbEJhciB8fCAoZWxlbWVudC5zZWxmICE9IHdpbmRvdyAmJiBoYXNDbGFzcyhlbGVtZW50LCBTTElERVNfV1JBUFBFUikpKXtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Njcm9sbGluZyBob3Jpem9udGFsbHkgdGhyb3VnaCB0aGUgc2xpZGVzP1xyXG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudC5zZWxmICE9IHdpbmRvdyAgJiYgaGFzQ2xhc3MoZWxlbWVudCwgU0xJREVTX1dSQVBQRVIpKXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3ZlcnRpY2FsIHNjcm9sbFxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNjcm9sbFRvKDAsIHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gdmFsICsgJ3B4JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBHZXRzIHRoZSBhY3RpdmUgc2xpZGUuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBnZXRBY3RpdmVTbGlkZSgpe1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlU2xpZGUgPSAkKFNMSURFX0FDVElWRV9TRUwsICQoU0VDVElPTl9BQ1RJVkVfU0VMKVswXSlbMF07XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsT3JTbGlkZShhY3RpdmVTbGlkZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAqIEdldHMgdGhlIGFjdGl2ZSBzZWN0aW9uLlxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0QWN0aXZlU2VjdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlY3Rpb24oJChTRUNUSU9OX0FDVElWRV9TRUwpWzBdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICogSXRlbS4gU2xpZGUgb3IgU2VjdGlvbiBvYmplY3RzIHNoYXJlIHRoZSBzYW1lIHByb3BlcnRpZXMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBJdGVtKGVsLCBzZWxlY3Rvcil7XHJcbiAgICAgICAgICAgIHRoaXMuYW5jaG9yID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWFuY2hvcicpO1xyXG4gICAgICAgICAgICB0aGlzLml0ZW0gPSBlbDtcclxuICAgICAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4KGVsLCBzZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNMYXN0ID0gdGhpcy5pbmRleCA9PT0gZWwucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5sZW5ndGggLTE7XHJcbiAgICAgICAgICAgIHRoaXMuaXNGaXJzdCA9ICF0aGlzLmluZGV4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTZWN0aW9uIG9iamVjdFxyXG4gICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gU2VjdGlvbihlbCl7XHJcbiAgICAgICAgICAgIEl0ZW0uY2FsbCh0aGlzLCBlbCwgU0VDVElPTl9TRUwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgKiBTbGlkZSBvYmplY3RcclxuICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIFNsaWRlKGVsKXtcclxuICAgICAgICAgICAgSXRlbS5jYWxsKHRoaXMsIGVsLCBTTElERV9TRUwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIEZQO1xyXG4gICAgfSAvL2VuZCBvZiAkLmZuLmZ1bGxwYWdlXHJcblxyXG4gICAgLy91dGlsc1xyXG4gICAgLyoqXHJcbiAgICAqIFNob3dzIGEgbWVzc2FnZSBpbiB0aGUgY29uc29sZSBvZiB0aGUgZ2l2ZW4gdHlwZS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzaG93RXJyb3IodHlwZSwgdGV4dCl7XHJcbiAgICAgICAgd2luZG93LmNvbnNvbGUgJiYgd2luZG93LmNvbnNvbGVbdHlwZV0gJiYgd2luZG93LmNvbnNvbGVbdHlwZV0oJ2Z1bGxQYWdlOiAnICsgdGV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEVxdWl2YWxlbnQgb3IgalF1ZXJ5IGZ1bmN0aW9uICQoKS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiAkKHNlbGVjdG9yLCBjb250ZXh0KXtcclxuICAgICAgICBjb250ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBjb250ZXh0IDogZG9jdW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRXh0ZW5kcyBhIGdpdmVuIE9iamVjdCBwcm9wZXJ0aWVzIGFuZCBpdHMgY2hpbGRzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGRlZXBFeHRlbmQob3V0KSB7XHJcbiAgICAgICAgb3V0ID0gb3V0IHx8IHt9O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gYXJndW1lbnRzW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYoIW9iail7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIG9iail7XHJcbiAgICAgICAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoa2V5KSl7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vIGJhc2VkIG9uIGh0dHBzOi8vamF2YXNjcmlwdHdlYmxvZy53b3JkcHJlc3MuY29tLzIwMTEvMDgvMDgvZml4aW5nLXRoZS1qYXZhc2NyaXB0LXR5cGVvZi1vcGVyYXRvci9cclxuICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9ialtrZXldKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpe1xyXG4gICAgICAgICAgICAgICAgb3V0W2tleV0gPSBkZWVwRXh0ZW5kKG91dFtrZXldLCBvYmpba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIG91dFtrZXldID0gb2JqW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hlY2tzIGlmIHRoZSBwYXNzZWQgZWxlbWVudCBjb250YWlucyB0aGUgcGFzc2VkIGNsYXNzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGhhc0NsYXNzKGVsLCBjbGFzc05hbWUpe1xyXG4gICAgICAgIGlmKGVsID09IG51bGwpe1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbC5jbGFzc0xpc3Qpe1xyXG4gICAgICAgICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKCcoXnwgKScgKyBjbGFzc05hbWUgKyAnKCB8JCknLCAnZ2knKS50ZXN0KGVsLmNsYXNzTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHdpbmRvdyBoZWlnaHQuIENyb3NzYnJvd3Nlci5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRXaW5kb3dIZWlnaHQoKXtcclxuICAgICAgICByZXR1cm4gJ2lubmVySGVpZ2h0JyBpbiB3aW5kb3cgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIHRoZSB3aW5kb3cgd2lkdGguXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0V2luZG93V2lkdGgoKXtcclxuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFNldCdzIHRoZSBDU1MgcHJvcGVydGllcyBmb3IgdGhlIHBhc3NlZCBpdGVtL3MuXHJcbiAgICAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTEVsZW1lbnR9IGl0ZW1zXHJcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBjc3MgcHJvcGVydGllcyBhbmQgdmFsdWVzLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNzcyhpdGVtcywgcHJvcHMpIHtcclxuICAgICAgICBpdGVtcyA9IGdldExpc3QoaXRlbXMpO1xyXG5cclxuICAgICAgICB2YXIga2V5O1xyXG4gICAgICAgIGZvciAoa2V5IGluIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlW2tleV0gPSBwcm9wc1trZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZW5lcmljIGZ1bmN0aW9uIHRvIGdldCB0aGUgcHJldmlvdXMgb3IgbmV4dCBlbGVtZW50LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHVudGlsKGl0ZW0sIHNlbGVjdG9yLCBmbil7XHJcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBpdGVtW2ZuXTtcclxuICAgICAgICB3aGlsZShzaWJsaW5nICYmICFtYXRjaGVzKHNpYmxpbmcsIHNlbGVjdG9yKSl7XHJcbiAgICAgICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nW2ZuXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzaWJsaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIHRoZSBwcmV2aW91cyBlbGVtZW50IHRvIHRoZSBwYXNzZWQgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHBhc3NlZCBzZWxlY3Rvci5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBwcmV2VW50aWwoaXRlbSwgc2VsZWN0b3Ipe1xyXG4gICAgICAgIHJldHVybiB1bnRpbChpdGVtLCBzZWxlY3RvciwgJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyB0aGUgbmV4dCBlbGVtZW50IHRvIHRoZSBwYXNzZWQgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHBhc3NlZCBzZWxlY3Rvci5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBuZXh0VW50aWwoaXRlbSwgc2VsZWN0b3Ipe1xyXG4gICAgICAgIHJldHVybiB1bnRpbChpdGVtLCBzZWxlY3RvciwgJ25leHRFbGVtZW50U2libGluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIHRoZSBwcmV2aW91cyBlbGVtZW50IHRvIHRoZSBwYXNzZWQgZWxlbWVudC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBwcmV2KGl0ZW0pe1xyXG4gICAgICAgIHJldHVybiBpdGVtLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIG5leHQgZWxlbWVudCB0byB0aGUgcGFzc2VkIGVsZW1lbnQuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gbmV4dChpdGVtKXtcclxuICAgICAgICByZXR1cm4gaXRlbS5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBmcm9tIHRoZSBwYXNzZWQgbGlzdCBvZiBlbGVtZW50cy5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBsYXN0KGl0ZW0pe1xyXG4gICAgICAgIHJldHVybiBpdGVtW2l0ZW0ubGVuZ3RoLTFdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIGluZGV4IGZyb20gdGhlIHBhc3NlZCBlbGVtZW50LlxyXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgaXMgb3B0aW9uYWwuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5kZXgoaXRlbSwgc2VsZWN0b3IpIHtcclxuICAgICAgICBpdGVtID0gaXNBcnJheU9yTGlzdChpdGVtKSA/IGl0ZW1bMF0gOiBpdGVtO1xyXG4gICAgICAgIHZhciBjaGlsZHJlbiA9IHNlbGVjdG9yICE9IG51bGw/ICQoc2VsZWN0b3IsIGl0ZW0ucGFyZW50Tm9kZSkgOiBpdGVtLnBhcmVudE5vZGUuY2hpbGROb2RlcztcclxuICAgICAgICB2YXIgbnVtID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8Y2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgIGlmIChjaGlsZHJlbltpXSA9PSBpdGVtKSByZXR1cm4gbnVtO1xyXG4gICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2ldLm5vZGVUeXBlPT0xKSBudW0rKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIGFuIGl0ZXJhYmxlIGVsZW1lbnQgZm9yIHRoZSBwYXNzZWQgZWxlbWVudC9zXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0TGlzdChpdGVtKXtcclxuICAgICAgICByZXR1cm4gIWlzQXJyYXlPckxpc3QoaXRlbSkgPyBbaXRlbV0gOiBpdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIHRoZSBkaXNwbGF5PW5vbmUgcHJvcGVydHkgZm9yIHRoZSBwYXNzZWQgZWxlbWVudC9zXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gaGlkZShlbCl7XHJcbiAgICAgICAgZWwgPSBnZXRMaXN0KGVsKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaTxlbC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGVsW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQWRkcyB0aGUgZGlzcGxheT1ibG9jayBwcm9wZXJ0eSBmb3IgdGhlIHBhc3NlZCBlbGVtZW50L3NcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBzaG93KGVsKXtcclxuICAgICAgICBlbCA9IGdldExpc3QoZWwpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpPGVsLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgZWxbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ2hlY2tzIGlmIHRoZSBwYXNzZWQgZWxlbWVudCBpcyBhbiBpdGVyYWJsZSBlbGVtZW50IG9yIG5vdFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzQXJyYXlPckxpc3QoZWwpe1xyXG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIGVsICkgPT09ICdbb2JqZWN0IEFycmF5XScgfHxcclxuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCBlbCApID09PSAnW29iamVjdCBOb2RlTGlzdF0nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBBZGRzIHRoZSBwYXNzZWQgY2xhc3MgdG8gdGhlIHBhc3NlZCBlbGVtZW50L3NcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbCwgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgZWwgPSBnZXRMaXN0KGVsKTtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaTxlbC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gZWxbaV07XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmNsYXNzTGlzdCl7XHJcbiAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgIGl0ZW0uY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFJlbW92ZXMgdGhlIHBhc3NlZCBjbGFzcyB0byB0aGUgcGFzc2VkIGVsZW1lbnQvc1xyXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gYGNsYXNzTmFtZWAgY2FuIGJlIG11bHRpcGxlIGNsYXNzbmFtZXMgc2VwYXJhdGVkIGJ5IHdoaXRlc3BhY2VcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbCwgY2xhc3NOYW1lKXtcclxuICAgICAgICBlbCA9IGdldExpc3QoZWwpO1xyXG5cclxuICAgICAgICB2YXIgY2xhc3NOYW1lcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG5cclxuICAgICAgICBmb3IodmFyIGEgPSAwOyBhPGNsYXNzTmFtZXMubGVuZ3RoOyBhKyspe1xyXG4gICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVzW2FdO1xyXG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpPGVsLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZWxbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5jbGFzc0xpc3Qpe1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtLmNsYXNzTmFtZSA9IGl0ZW0uY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEFwcGVuZHMgdGhlIGdpdmVuIGVsZW1lbnQgb3QgdGhlIGdpdmVuIHBhcmVudC5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBhcHBlbmRUbyhlbCwgcGFyZW50KXtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgVXNhZ2U6XHJcblxyXG4gICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gJ2ZwLXNsaWRlcyc7XHJcbiAgICB3cmFwKCQoJy5zbGlkZScpLCB3cmFwcGVyKTtcclxuXHJcbiAgICBodHRwczovL2pzZmlkZGxlLm5ldC9xd3pjN295My8xNS8gKHZhbmlsbGEpXHJcbiAgICBodHRwczovL2pzZmlkZGxlLm5ldC9veWE2bmRrYS8xLyAoanF1ZXJ5IGVxdWl2YWxlbnQpXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gd3JhcCh0b1dyYXAsIHdyYXBwZXIsIGlzV3JhcEFsbCkge1xyXG4gICAgICAgIHZhciBuZXdQYXJlbnQ7XHJcbiAgICAgICAgd3JhcHBlciA9IHdyYXBwZXIgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRvV3JhcC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gdG9XcmFwW2ldO1xyXG4gICAgICAgICAgICBpZihpc1dyYXBBbGwgJiYgIWkgfHwgIWlzV3JhcEFsbCl7XHJcbiAgICAgICAgICAgICAgICBuZXdQYXJlbnQgPSB3cmFwcGVyLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3UGFyZW50LCBpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdQYXJlbnQuYXBwZW5kQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0b1dyYXA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICBVc2FnZTpcclxuICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICdmcC1zbGlkZXMnO1xyXG4gICAgd3JhcCgkKCcuc2xpZGUnKSwgd3JhcHBlcik7XHJcblxyXG4gICAgaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvcXd6YzdveTMvMjcvICh2YW5pbGxhKVxyXG4gICAgaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvb3lhNm5ka2EvNC8gKGpxdWVyeSBlcXVpdmFsZW50KVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHdyYXBBbGwodG9XcmFwLCB3cmFwcGVyKSB7XHJcbiAgICAgICAgd3JhcCh0b1dyYXAsIHdyYXBwZXIsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBVc2FnZTpcclxuICAgICogd3JhcElubmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwZXBlJyksICc8ZGl2IGNsYXNzPVwidGVzdFwiPmFmZGFzPC9kaXY+Jyk7XHJcbiAgICAqIHdyYXBJbm5lcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGVwZScpLCBlbGVtZW50KTtcclxuICAgICpcclxuICAgICogaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvemV4eHowdHcvNi9cclxuICAgICpcclxuICAgICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxODE3NTkwLzEwODEzOTZcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiB3cmFwSW5uZXIocGFyZW50LCB3cmFwcGVyKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3cmFwcGVyID09PSBcInN0cmluZ1wiKXtcclxuICAgICAgICAgICAgd3JhcHBlciA9IGNyZWF0ZUVsZW1lbnRGcm9tSFRNTCh3cmFwcGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcclxuXHJcbiAgICAgICAgd2hpbGUocGFyZW50LmZpcnN0Q2hpbGQgIT09IHdyYXBwZXIpe1xyXG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHBhcmVudC5maXJzdENoaWxkKTtcclxuICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVXNhZ2U6XHJcbiAgICAqIHVud3JhcChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGVwZScpKTtcclxuICAgICogdW53cmFwKGVsZW1lbnQpO1xyXG4gICAgKlxyXG4gICAgKiBodHRwczovL2pzZmlkZGxlLm5ldC9zemp0MGh4cS8xL1xyXG4gICAgKlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHVud3JhcCh3cmFwcGVyKSB7XHJcbiAgICAgICAgdmFyIHdyYXBwZXJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAgIHdoaWxlICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcclxuICAgICAgICAgICAgd3JhcHBlckNvbnRlbnQuYXBwZW5kQ2hpbGQod3JhcHBlci5maXJzdENoaWxkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdyYXBwZXIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlckNvbnRlbnQsIHdyYXBwZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyMTAwODUzL2RvbS1wdXJlLWphdmFzY3JpcHQtc29sdXRpb24tdG8tanF1ZXJ5LWNsb3Nlc3QtaW1wbGVtZW50YXRpb25cclxuICAgICogUmV0dXJucyB0aGUgZWxlbWVudCBvciBgZmFsc2VgIGlmIHRoZXJlJ3Mgbm9uZVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGNsb3Nlc3QoZWwsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgaWYoZWwgJiYgZWwubm9kZVR5cGUgPT09IDEpe1xyXG4gICAgICAgICAgICBpZihtYXRjaGVzKGVsLCBzZWxlY3Rvcikpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbG9zZXN0KGVsLnBhcmVudE5vZGUsIHNlbGVjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFBsYWNlcyBvbmUgZWxlbWVudCAocmVsKSBhZnRlciBhbm90aGVyIG9uZSBvciBncm91cCBvZiB0aGVtIChyZWZlcmVuY2UpLlxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSByZWZlcmVuY2VcclxuICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxOb2RlTGlzdHxTdHJpbmd9IGVsXHJcbiAgICAqIGh0dHBzOi8vanNmaWRkbGUubmV0LzlzOTdoaHp2LzEvXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWZ0ZXIocmVmZXJlbmNlLCBlbCkge1xyXG4gICAgICAgIGluc2VydEJlZm9yZShyZWZlcmVuY2UsIHJlZmVyZW5jZS5uZXh0U2libGluZywgZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBQbGFjZXMgb25lIGVsZW1lbnQgKHJlbCkgYmVmb3JlIGFub3RoZXIgb25lIG9yIGdyb3VwIG9mIHRoZW0gKHJlZmVyZW5jZSkuXHJcbiAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZVxyXG4gICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fE5vZGVMaXN0fFN0cmluZ30gZWxcclxuICAgICogaHR0cHM6Ly9qc2ZpZGRsZS5uZXQvOXM5N2hoenYvMS9cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBiZWZvcmUocmVmZXJlbmNlLCBlbCkge1xyXG4gICAgICAgIGluc2VydEJlZm9yZShyZWZlcmVuY2UsIHJlZmVyZW5jZSwgZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBCYXNlZCBpbiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTkzMTYwMjQvMTA4MTM5NlxyXG4gICAgKiBhbmQgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ3OTM2MzAvMTA4MTM5NlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGluc2VydEJlZm9yZShyZWZlcmVuY2UsIGJlZm9yZUVsZW1lbnQsIGVsKXtcclxuICAgICAgICBpZighaXNBcnJheU9yTGlzdChlbCkpe1xyXG4gICAgICAgICAgICBpZih0eXBlb2YgZWwgPT0gJ3N0cmluZycpe1xyXG4gICAgICAgICAgICAgICAgZWwgPSBjcmVhdGVFbGVtZW50RnJvbUhUTUwoZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsID0gW2VsXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGk8ZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICByZWZlcmVuY2UucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxbaV0sIGJlZm9yZUVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzQ2NDg3Ni9qYXZhc2NyaXB0LWdldC13aW5kb3cteC15LXBvc2l0aW9uLWZvci1zY3JvbGxcclxuICAgIGZ1bmN0aW9uIGdldFNjcm9sbFRvcCgpe1xyXG4gICAgICAgIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jLnNjcm9sbFRvcCkgIC0gKGRvYy5jbGllbnRUb3AgfHwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEdldHMgdGhlIHNpYmxpbmdzIG9mIHRoZSBwYXNzZWQgZWxlbWVudFxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHNpYmxpbmdzKGVsKXtcclxuICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVsLnBhcmVudE5vZGUuY2hpbGRyZW4sIGZ1bmN0aW9uKGNoaWxkKXtcclxuICAgICAgICAgIHJldHVybiBjaGlsZCAhPT0gZWw7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9mb3IgSUUgOSA/XHJcbiAgICBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChldmVudCl7XHJcbiAgICAgICAgaWYoZXZlbnQucHJldmVudERlZmF1bHQpe1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXNzZWQgaXRlbSBpcyBvZiBmdW5jdGlvbiB0eXBlLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIGlzRnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoaXRlbSk7XHJcbiAgICAgIHJldHVybiB0eXBlID09PSAnW29iamVjdCBGdW5jdGlvbl0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIFRyaWdnZXIgY3VzdG9tIGV2ZW50c1xyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHRyaWdnZXIoZWwsIGV2ZW50TmFtZSwgZGF0YSl7XHJcbiAgICAgICAgdmFyIGV2ZW50O1xyXG4gICAgICAgIGRhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyB7fSA6IGRhdGE7XHJcblxyXG4gICAgICAgIC8vIE5hdGl2ZVxyXG4gICAgICAgIGlmKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09IFwiZnVuY3Rpb25cIiApe1xyXG4gICAgICAgICAgICBldmVudCA9IG5ldyBDdXN0b21FdmVudChldmVudE5hbWUsIHtkZXRhaWw6IGRhdGF9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcclxuICAgICAgICAgICAgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgdHJ1ZSwgdHJ1ZSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogUG9seWZpbGwgb2YgLm1hdGNoZXMoKVxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG1hdGNoZXMoZWwsIHNlbGVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIChlbC5tYXRjaGVzIHx8IGVsLm1hdGNoZXNTZWxlY3RvciB8fCBlbC5tc01hdGNoZXNTZWxlY3RvciB8fCBlbC5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IGVsLm9NYXRjaGVzU2VsZWN0b3IpLmNhbGwoZWwsIHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogVG9nZ2xlcyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgcGFzc2VkIGVsZW1lbnQgZWwuXHJcbiAgICAqL1xyXG4gICAgZnVuY3Rpb24gdG9nZ2xlKGVsLCB2YWx1ZSl7XHJcbiAgICAgICAgaWYodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIil7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8ZWwubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgZWxbaV0uc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gJ2Jsb2NrJyA6ICdub25lJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL3dlIGRvbid0IHVzZSBpdCBpbiBvdGhlciB3YXksIHNvIG5vIGVsc2UgOilcclxuXHJcbiAgICAgICAgcmV0dXJuIGVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBDcmVhdGVzIGEgSFRNTEVsZW1lbnQgZnJvbSB0aGUgcGFzc2VkIEhUTUwgc3RyaW5nLlxyXG4gICAgKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDk0MzQ4LzEwODEzOTZcclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50RnJvbUhUTUwoaHRtbFN0cmluZykge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbFN0cmluZy50cmltKCk7XHJcblxyXG4gICAgICAgIC8vIENoYW5nZSB0aGlzIHRvIGRpdi5jaGlsZE5vZGVzIHRvIHN1cHBvcnQgbXVsdGlwbGUgdG9wLWxldmVsIG5vZGVzXHJcbiAgICAgICAgcmV0dXJuIGRpdi5maXJzdENoaWxkO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBSZW1vdmVzIHRoZSBwYXNzZWQgaXRlbS9zIGZyb20gdGhlIERPTS5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiByZW1vdmUoaXRlbXMpe1xyXG4gICAgICAgIGl0ZW1zID0gZ2V0TGlzdChpdGVtcyk7XHJcbiAgICAgICAgZm9yKHZhciBpID0gMDsgaTxpdGVtcy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGlmKGl0ZW0gJiYgaXRlbS5wYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqIEZpbHRlcnMgYW4gYXJyYXkgYnkgdGhlIHBhc3NlZCBmaWx0ZXIgZnVudGlvbi5cclxuICAgICovXHJcbiAgICBmdW5jdGlvbiBmaWx0ZXIoZWwsIGZpbHRlckZuKXtcclxuICAgICAgICBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwsIGZpbHRlckZuKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2h0dHBzOi8vanNmaWRkbGUubmV0L3cxcmt0ZWN6L1xyXG4gICAgZnVuY3Rpb24gdW50aWxBbGwoaXRlbSwgc2VsZWN0b3IsIGZuKXtcclxuICAgICAgICB2YXIgc2libGluZyA9IGl0ZW1bZm5dO1xyXG4gICAgICAgIHZhciBzaWJsaW5ncyA9IFtdO1xyXG4gICAgICAgIHdoaWxlKHNpYmxpbmcpe1xyXG4gICAgICAgICAgICBpZihtYXRjaGVzKHNpYmxpbmcsIHNlbGVjdG9yKSB8fCBzZWxlY3RvciA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzaWJsaW5ncy5wdXNoKHNpYmxpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNpYmxpbmcgPSBzaWJsaW5nW2ZuXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzaWJsaW5ncztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogR2V0cyBhbGwgbmV4dCBlbGVtZW50cyBtYXRjaGluZyB0aGUgcGFzc2VkIHNlbGVjdG9yLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIG5leHRBbGwoaXRlbSwgc2VsZWN0b3Ipe1xyXG4gICAgICAgIHJldHVybiB1bnRpbEFsbChpdGVtLCBzZWxlY3RvciwgJ25leHRFbGVtZW50U2libGluZycpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBHZXRzIGFsbCBwcmV2aW91cyBlbGVtZW50cyBtYXRjaGluZyB0aGUgcGFzc2VkIHNlbGVjdG9yLlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHByZXZBbGwoaXRlbSwgc2VsZWN0b3Ipe1xyXG4gICAgICAgIHJldHVybiB1bnRpbEFsbChpdGVtLCBzZWxlY3RvciwgJ3ByZXZpb3VzRWxlbWVudFNpYmxpbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICogQ29udmVydHMgYW4gb2JqZWN0IHRvIGFuIGFycmF5LlxyXG4gICAgKi9cclxuICAgIGZ1bmN0aW9uIHRvQXJyYXkob2JqZWN0RGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdERhdGEpLm1hcChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgICByZXR1cm4gb2JqZWN0RGF0YVtrZXldO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBmb3JFYWNoIHBvbHlmaWxsIGZvciBJRVxyXG4gICAgKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZUxpc3QvZm9yRWFjaCNCcm93c2VyX0NvbXBhdGliaWxpdHlcclxuICAgICovXHJcbiAgICBpZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkge1xyXG4gICAgICAgIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNhbGxiYWNrLCB0aGlzQXJnKSB7XHJcbiAgICAgICAgICAgIHRoaXNBcmcgPSB0aGlzQXJnIHx8IHdpbmRvdztcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXNbaV0sIGksIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvL3V0aWxzIGFyZSBwdWJsaWMsIHNvIHdlIGNhbiB1c2UgaXQgd2hlcmV2ZXIgd2Ugd2FudFxyXG4gICAgd2luZG93LmZwX3V0aWxzID0ge1xyXG4gICAgICAgICQ6ICQsXHJcbiAgICAgICAgZGVlcEV4dGVuZDogZGVlcEV4dGVuZCxcclxuICAgICAgICBoYXNDbGFzczogaGFzQ2xhc3MsXHJcbiAgICAgICAgZ2V0V2luZG93SGVpZ2h0OiBnZXRXaW5kb3dIZWlnaHQsXHJcbiAgICAgICAgY3NzOiBjc3MsXHJcbiAgICAgICAgdW50aWw6IHVudGlsLFxyXG4gICAgICAgIHByZXZVbnRpbDogcHJldlVudGlsLFxyXG4gICAgICAgIG5leHRVbnRpbDogbmV4dFVudGlsLFxyXG4gICAgICAgIHByZXY6IHByZXYsXHJcbiAgICAgICAgbmV4dDogbmV4dCxcclxuICAgICAgICBsYXN0OiBsYXN0LFxyXG4gICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICBnZXRMaXN0OiBnZXRMaXN0LFxyXG4gICAgICAgIGhpZGU6IGhpZGUsXHJcbiAgICAgICAgc2hvdzogc2hvdyxcclxuICAgICAgICBpc0FycmF5T3JMaXN0OiBpc0FycmF5T3JMaXN0LFxyXG4gICAgICAgIGFkZENsYXNzOiBhZGRDbGFzcyxcclxuICAgICAgICByZW1vdmVDbGFzczogcmVtb3ZlQ2xhc3MsXHJcbiAgICAgICAgYXBwZW5kVG86IGFwcGVuZFRvLFxyXG4gICAgICAgIHdyYXA6IHdyYXAsXHJcbiAgICAgICAgd3JhcEFsbDogd3JhcEFsbCxcclxuICAgICAgICB3cmFwSW5uZXI6IHdyYXBJbm5lcixcclxuICAgICAgICB1bndyYXA6IHVud3JhcCxcclxuICAgICAgICBjbG9zZXN0OiBjbG9zZXN0LFxyXG4gICAgICAgIGFmdGVyOiBhZnRlcixcclxuICAgICAgICBiZWZvcmU6IGJlZm9yZSxcclxuICAgICAgICBpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSxcclxuICAgICAgICBnZXRTY3JvbGxUb3A6IGdldFNjcm9sbFRvcCxcclxuICAgICAgICBzaWJsaW5nczogc2libGluZ3MsXHJcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IHByZXZlbnREZWZhdWx0LFxyXG4gICAgICAgIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXHJcbiAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcclxuICAgICAgICBtYXRjaGVzOiBtYXRjaGVzLFxyXG4gICAgICAgIHRvZ2dsZTogdG9nZ2xlLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnRGcm9tSFRNTDogY3JlYXRlRWxlbWVudEZyb21IVE1MLFxyXG4gICAgICAgIHJlbW92ZTogcmVtb3ZlLFxyXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxyXG4gICAgICAgIHVudGlsQWxsOiB1bnRpbEFsbCxcclxuICAgICAgICBuZXh0QWxsOiBuZXh0QWxsLFxyXG4gICAgICAgIHByZXZBbGw6IHByZXZBbGwsXHJcbiAgICAgICAgc2hvd0Vycm9yOiBzaG93RXJyb3JcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGluaXRpYWxpc2U7XHJcbn0pKTtcclxuXHJcbi8qKlxyXG4gKiBqUXVlcnkgYWRhcHRlciBmb3IgZnVsbFBhZ2UuanMgMy4wLjBcclxuICovXHJcbmlmKHdpbmRvdy5qUXVlcnkgJiYgd2luZG93LmZ1bGxwYWdlKXtcclxuICAgIChmdW5jdGlvbiAoJCwgZnVsbHBhZ2UpIHtcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgICAgIC8vIE5vIGpRdWVyeSBObyBHb1xyXG4gICAgICAgIGlmICghJCB8fCAhZnVsbHBhZ2UpIHtcclxuICAgICAgICAgICAgd2luZG93LmZwX3V0aWxzLnNob3dFcnJvcignZXJyb3InLCAnalF1ZXJ5IGlzIHJlcXVpcmVkIHRvIHVzZSB0aGUgalF1ZXJ5IGZ1bGxwYWdlIGFkYXB0ZXIhJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQuZm4uZnVsbHBhZ2UgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgb3B0aW9ucywgeyckJzogJH0pO1xyXG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgZnVsbHBhZ2UodGhpc1swXSwgb3B0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pKHdpbmRvdy5qUXVlcnksIHdpbmRvdy5mdWxscGFnZSk7XHJcbn1cclxuIiwiLy8gT3B0aW9uYWwuIFdoZW4gdXNpbmcgZnVsbFBhZ2UgZXh0ZW5zaW9uc1xuLy9pbXBvcnQgc2Nyb2xsSG9yaXpvbnRhbGx5IGZyb20gJy4vZnVsbHBhZ2Uuc2Nyb2xsSG9yaXpvbnRhbGx5Lm1pbic7XG5cbi8vIE9wdGlvbmFsLiBXaGVuIHVzaW5nIHNjcm9sbE92ZXJmbG93OnRydWVcbi8vaW1wb3J0IElTY3JvbGwgZnJvbSAnZnVsbHBhZ2UuanMvdmVuZG9ycy9zY3JvbGxvdmVyZmxvdyc7XG5cbi8vIEltcG9ydGluZyBmdWxscGFnZS5qc1xuaW1wb3J0IGZ1bGxwYWdlIGZyb20gJ2Z1bGxwYWdlLmpzJztcblxuLy8gV2hlbiB1c2luZyBmdWxsUGFnZSBleHRlbnNpb25zIHJlcGxhY2UgdGhlIHByZXZpb3VzIGltcG9ydFxuLy8gb2YgZnVsbHBhZ2UuanMgZm9yIHRoaXMgZmlsZVxuLy9pbXBvcnQgZnVsbHBhZ2UgZnJvbSAnZnVsbHBhZ2UuanMvZGlzdC9mdWxscGFnZS5leHRlbnNpb25zLm1pbic7XG5cbi8vIEluaXRpYWxpemluZyBpdFxudmFyIGZ1bGxQYWdlSW5zdGFuY2UgPSBuZXcgZnVsbHBhZ2UoJyNteUZ1bGxwYWdlJywge1xuICAgIG5hdmlnYXRpb246IHRydWUsXG4gICAgc2VjdGlvbnNDb2xvcjpbJyNmZjVmNDUnLCAnIzA3OThlYycsICcjZmM2YzdjJywgJ2dyZXknXVxufSk7XG5cbi8vIENhbGxpbmcgbWV0aG9kc1xuLy8gZnVsbHBhZ2VfYXBpLm1vdmVTZWN0aW9uRG93bigpO1xuLy8gT3Jcbi8vIGZ1bGxQYWdlSW5zdGFuY2UubW92ZVNlY3Rpb25Eb3duKCk7Il0sInNvdXJjZVJvb3QiOiIifQ==